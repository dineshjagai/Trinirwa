{"version":3,"sources":["auth/authServices.js","components/Module.js","components/Registration.js","components/DialogPassword.js","components/DialogPasswordChange.js","components/authentication.js","components/DisplayerDialog.js","components/ProfilePicture.js","components/navBar.js","components/Dialog.js","components/Displayer.js","components/Follower.js","components/Followers.js","components/Friend.js","components/Friends.js","components/CommentInput.js","components/DialogComment.js","components/CommentDisplayer.js","components/AnalyticsTweet.js","components/Tweet.js","components/CenterDisplay.js","components/ProfilePage.js","components/Login.js","components/SidebarU.js","components/SearchBox2.js","components/Suggestion.js","components/CommentBox.js","components/TweetsDisplayer.js","components/Home.js","components/Signup.js","components/Temp.js","live_stream/Lobby.js","live_stream/Participant.js","components/CommentDisplayerLive.js","live_stream/Room.js","live_stream/VideoChat.js","components/ResetPassword.js","components/Message.js","components/CenterDisplayerMessages.js","components/MessagePage.js","App.js","index.js","auth/authentication.js"],"names":["module","exports","getCurrentUsername","JSON","parse","localStorage","getItem","isLogged","logout","removeItem","getCurrentReceiver","addInterest","newInterest","username","addUrl","axios","method","url","data","interest","deleteInterest","interestToDelete","delUrl","fetchAllTweets","getUrl","getTweetCount","getProfileData","getFollowers","getFriends","blockFollower","id","insUrl","follower","getBlockedFollowers","getAvatar","user","addTweet","content","tweet_date","type","tweetId","tweet_id","getAllCommentsLiveStream","roomName","getAllCommentsForTweet","followUser","unfollowUser","deleteTweet","hideTweet","postUrl","updateTweetLikes","tweetLikes","putUrl","likes","isLiked","getHiders","getSuggestions","updateNumberFailedLogins","numberOfFailedLogins","addMessage","receiver","message_date","messageId","message_id","fetchMessages","updateHasRead","Registration","useState","usernameReg","setUsernameReg","passwordOneReg","setPasswordOneReg","passwordTwoReg","setPasswordTwoReg","firstNameReg","setFirstNameReg","lastNameReg","setLastNameReg","email","setEmailReg","history","useHistory","Axios","defaults","withCredentials","className","style","width","htmlFor","placeholder","onChange","e","target","value","aria-describedby","onClick","isSamePassword","isValidUsername","isValidPassword","isValidEmail","firstName","lastName","setItem","stringify","password","first_name","last_name","addUser","then","response","console","log","push","catch","alert","document","getElementById","to","DialogPassword","open","setOpen","redirect","setRedirect","clue","setClue","handleClose","color","border","backgroundColor","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","error","autoFocus","margin","label","fullWidth","helperText","DialogActions","input","inputPassword","deactivateProfile","err","DialogPasswordChange","checker","setChecker","isValid","setIsValid","event","RegExp","test","Button","oldPassword","newPassword","newPass","oldPass","upUrl","updatePassword","status","message","useStyles","makeStyles","theme","root","maxWidth","palette","background","paper","ScrollDialog","secondary","title","secondTitle","getFunction","Icon","handle","iconText","classes","scroll","setScroll","items","setItems","createItem","profile_picture","ListItem","ListItemAvatar","Avatar","alt","src","ListItemText","primary","Tooltip","placement","useEffect","scrollType","descriptionElementRef","React","useRef","descriptionElement","current","focus","newItems","friends","map","followers","dividers","List","Profile","props","date","split","profilePic","profilePicUrl","LockOpenIcon","blocked","unBlockUser","res","result","grow","flexGrow","menuButton","marginRight","spacing","display","breakpoints","up","search","position","borderRadius","shape","fade","common","white","marginLeft","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","handleClick","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","mobileMenuId","renderMobileMenu","IconButton","Badge","aria-label","badgeContent","aria-controls","aria-haspopup","top","AppBar","Toolbar","Typography","variant","noWrap","edge","DialogBox","handleClickOpen","Displayer","interests","forEach","Divider","overflow","Follower","info","handleB","handleF","fontSize","fontWeight","Followers","list","setFollowers","PersonAddIcon","Friend","handleMessage","handleU","Friends","setFriends","PersonAddDisabledIcon","CommentInput","handleComment","setInput","count","setCount","multiline","rowsMax","inputProps","maxLength","length","u","handleChange","DialogComment","updatePost","cont","DialogContentText","defaultValue","CommentDisplayer","handleDeleteComment","avatar","setAvatar","setContent","isOwner","getData","a","stlye","comm_id","newContent","commId","updateComment","withStyles","closeButton","right","grey","children","disableTypography","MuiDialogContent","MuiDialogActions","DialogAnalytics","hiders","setHiders","commentors","setCommentors","comments","com","hider","minWidth","listStyleType","hash","require","Tweet","handleDelete","isLikedBool","setIsLike","tweet_likes","setLikes","tweet_comments","numComments","setNumComments","tweet_blocks","isOpen","setIsOpen","allComments","setComments","setDisplay","postComment","timestamp","Date","toISOString","newComment","comment_id","unshift","commentId","addComment","newNumComments","updateTweetComments","bool","toDel","newList","filter","comment","newAvatar","newMedia","textAlign","controls","countComments","whiteSpace","marginBottom","tweetid","unLikeTweet","likeTweet","button","DisplayerTweets","Map","update","setUpdate","Set","toDisplay","handleHideOrDelete","window","location","reload","delete","get","tweets","toAdd","add","set","paddingTop","startIcon","click","dateTime","accept","formdata","FormData","fakePath","append","files","requestOptions","body","fetch","text","hidden","ProfilePage","setData","setInterests","madeQuery","setMadeQuery","childKey","setChildKey","obj","Math","floor","random","temp","Login","setUsername","setPassword","numIncorrectLogins","setnumIncorrectLogins","dateUserLastLockedOut","setDateUserLastLockedOut","isLockedOut","userLogin","reactivateProfile","er","getNumberFailedLogins","resOne","fetchNumberFailedLogins","Array","from","number_failed_logins","getDateUserLastLockedOut","resTwo","tmpDateUserLastLockedOut","date_last_locked_out","dateTimeTwo","parseInt","setLockOutTime","numberFailedLoginsPlusOne","Sidebar","searchBox","results","setResults","blockedUsers","setBlockedUser","searchItem","followed","isUser","has","Suggestions","suggestions","setSuggestions","updateList","newArray","CommentBox","handlers","postTweet","postPicture","postVideo","postSong","size","TweetsDisplayer","loading","setLoading","allTweets","setAllTweets","pageNumber","setPageNumber","observer","lastTweetRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","COUNT","limit","params","page","fetchAllTweetsPaginated","prevTweets","updateState","prevTweet","newTweet","upload","index","ref","CircularProgress","Home","Signup","filePath","setFilePath","showImage","profilePicture","addProfilePicture","Temp","Lobby","handleRoomNameChange","handleSubmit","connecting","onSubmit","readOnly","required","disabled","Participant","participant","videoTracks","setVideoTracks","audioTracks","setAudioTracks","videoRef","audioRef","trackpubsToTracks","trackMap","values","publication","track","on","kind","v","removeAllListeners","videoTrack","attach","detach","audioTrack","identity","autoPlay","muted","Room","room","handleLogout","participants","setParticipants","prevComm","addCommentLiveStream","participantConnected","prevParticipants","participantDisconnected","p","off","remoteParticipants","sid","localParticipant","VideoChat","setRoomName","setRoom","setConnecting","preventDefault","headers","json","Video","connect","token","name","rm","prevRoom","tracks","trackPub","stop","tidyUp","persisted","addEventListener","removeEventListener","ResetPassword","replaceState","Message","isPicture","isVideo","isSong","newMediaMessage","messageStatus","is_read","senderReceiver","DisplayerMessages","messages","newMessage","MessagePage","App","path","exact","render","component","ReactDOM","userName","String","toLowerCase","passwordOne","passwordTwo"],"mappings":"oFAoBAA,EAAOC,QAAU,CACfC,mBArBF,WACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,cAoBnBC,SAjBtB,WAEE,QADaJ,KAAKC,MAAMC,aAAaC,QAAQ,cAgBfE,OAThC,WACEH,aAAaI,WAAW,aAQcC,mBALxC,WACE,OAAOP,KAAKC,MAAMC,aAAaC,QAAQ,gB,+bCPlC,SAASK,EAAYC,EAAaC,GACvC,IAAMC,EAAM,gCAA4BD,GACxC,OAAOE,IAAM,CACXC,OAAQ,OACRC,IAAKH,EACLI,KAAM,CACJC,SAAUP,KAKT,SAASQ,EAAeC,EAAkBR,GAC/C,IAAMS,EAAM,uCAAmCT,GAC/C,OAAOE,IAAM,CACXC,OAAQ,SACRC,IAAKK,EACLJ,KAAM,CACJC,SAAUE,KAaT,SAASE,EAAeV,GAC7B,IAAMW,EAAM,0BAAsBX,GAClC,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAcF,SAASC,EAAcZ,GAC5B,IAAMW,EAAM,gCAA4BX,GACxC,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAGF,SAASE,EAAeb,GAC7B,IAAMW,EAAM,uBAAmBX,GAC/B,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAIF,SAASG,EAAad,GAC3B,IAAMW,EAAM,iCAA6BX,GACzC,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAoBF,SAASI,EAAWf,GACzB,IAAMW,EAAM,+BAA2BX,GACvC,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAqDF,SAASK,EAAcC,EAAIjB,GAChC,IAAMkB,EAAM,qBAAiBD,GAC7B,OAAOf,IAAM,CACXC,OAAQ,OACRC,IAAKc,EACLb,KAAM,CACJc,SAAUnB,KAKT,SAASoB,EAAoBpB,GAClC,IAAMkB,EAAM,uBAAmBlB,GAC/B,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKc,IAwBF,SAASG,EAAUC,GACxB,OAAOpB,IAAM,CACXC,OAAQ,MACRC,IAAI,uBAAD,OAAyBkB,KAIzB,SAASC,EAASlB,GACvB,OAAOH,IAAM,CACXC,OAAQ,OACRC,IAAI,oBAAD,OAAsBC,EAAKiB,MAC9BjB,KAAM,CACJmB,QAASnB,EAAKmB,QACdC,WAAYpB,EAAKoB,WACjBC,KAAMrB,EAAKqB,KACXC,QAAStB,EAAKuB,YA0Cb,SAASC,EAAyBC,GACvC,OAAO5B,IAAM,CACXC,OAAQ,MACRC,IAAI,gCAAD,OAAkC0B,KAIlC,SAASC,EAAuBJ,GACrC,OAAOzB,IAAM,CACXC,OAAQ,MACRC,IAAI,2BAAD,OAA6BuB,KA+B7B,SAASK,EAAWf,EAAIjB,GAC7B,IAAMkB,EAAM,sBAAkBD,GAC9B,OAAOf,IAAM,CACXC,OAAQ,OACRC,IAAKc,EACLb,KAAM,CACJc,SAAUnB,KAKT,SAASiC,EAAahB,EAAIjB,GAC/B,IAAMkB,EAAM,wBAAoBD,GAChC,OAAOf,IAAM,CACXC,OAAQ,MACRC,IAAKc,EACLb,KAAM,CACJc,SAAUnB,KAyFT,SAASkC,EAAYP,GAC1B,IAAMlB,EAAM,4BAAwBkB,GACpC,OAAOzB,IAAM,CACXC,OAAQ,SACRC,IAAKK,IAIF,SAAS0B,EAAUR,EAAS3B,GACjC,IAAMoC,EAAO,0BAAsBT,GACnC,OAAOzB,IAAM,CACXC,OAAQ,OACRC,IAAKgC,EACL/B,KAAM,CACJL,cAKC,SAASqC,EAAiBV,EAASW,GACxC,IAAMC,EAAM,2BAAuBZ,GACnC,OAAOzB,IAAM,CACXC,OAAQ,MACRC,IAAKmC,EACLlC,KAAM,CACJmC,MAAOF,KAgBN,SAASG,EAAQnB,EAAMK,GAC5B,IAAMhB,EAAM,6BAAyBW,EAAzB,YAAiCK,EAAjC,KACZ,OAAOzB,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAeF,IAAM+B,EAAY,SAACf,GAKxB,OAJYzB,IAAM,CAChBC,OAAQ,MACRC,IAAI,yBAAD,OAA2BuB,MAKrBgB,EAAiB,SAAC3C,GAK7B,OAJYE,IAAM,CAChBC,OAAQ,MACRC,IAAI,4BAAD,OAA8BJ,MAgB9B,IAQM4C,EAA2B,SAAC5C,EAAU6C,GAEjD,OAAO3C,IAAM,CACXC,OAAQ,OACRC,IAHa,gCAIbC,KAAM,CACJL,WACA6C,2BA4BC,SAASC,EAAWzC,GACzB,OAAOH,IAAM,CACXC,OAAQ,OACRC,IAAI,sBAAD,OAAwBC,EAAKiB,KAA7B,YAAqCjB,EAAK0C,UAC7C1C,KAAM,CACJmB,QAASnB,EAAKmB,QACdwB,aAAc3C,EAAK2C,aACnBtB,KAAMrB,EAAKqB,KACXuB,UAAW5C,EAAK6C,cAKf,SAASC,EAAcnD,EAAU+C,GACtC,IAAMpC,EAAM,gCAA4BX,EAA5B,YAAwC+C,GACpD,OAAO7C,IAAM,CACXC,OAAQ,MACRC,IAAKO,IAIF,SAASyC,EAAcpD,EAAU+C,GACtC,OAAO7C,IAAM,CACXC,OAAQ,OACRC,IAAI,gBAAD,OAAkBJ,EAAlB,YAA8B+C,GACjC1C,KAAM,K,mBC9hBK,SAASgD,IACtB,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA4CF,mBAAS,IAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA4CJ,mBAAS,IAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACA,EAAwCN,mBAAS,IAAjD,mBAAOO,EAAP,KAAqBC,EAArB,KACA,EAAsCR,mBAAS,IAA/C,mBAAOS,EAAP,KAAoBC,EAApB,KACA,EAA6BV,mBAAS,IAAtC,mBAAOW,EAAP,KAAcC,EAAd,KACMC,EAAUC,cAEhBC,IAAMC,SAASC,iBAAkB,EAsCjC,OACE,qBAAKC,UAAU,2BAA2BC,MAAO,CAAEC,MAAO,SAA1D,SACE,qBAAKF,UAAU,iBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,0CAAd,qBACA,sBAAKA,UAAU,aAAf,UACE,uBAAOG,QAAQ,oBAAf,uBACA,uBACE1D,GAAG,oBACH2D,YAAY,iBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOtB,EAAesB,EAAEC,OAAOC,aAG7C,sBAAKR,UAAU,aAAf,UACE,uBAAOG,QAAQ,qBAAf,2BACA,uBACEjD,KAAK,QACL8C,UAAU,eACVvD,GAAG,qBACHgE,mBAAiB,YACjBL,YAAY,cACZC,SAAU,SAACC,GAAD,OAAOZ,EAAYY,EAAEC,OAAOC,UAExC,uBAAO/D,GAAG,YAAYuD,UAAU,uBAAhC,iEAEF,sBAAKA,UAAU,aAAf,UACE,gDACA,uBACE9C,KAAK,OACLT,GAAG,sBACHuD,UAAU,eACVI,YAAY,mBACZC,SAAU,SAACC,GAAD,OAAOhB,EAAgBgB,EAAEC,OAAOC,aAG9C,sBAAKR,UAAU,aAAf,UACE,+CACA,uBACE9C,KAAK,OACLT,GAAG,qBACH2D,YAAY,kBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOd,EAAec,EAAEC,OAAOC,aAG7C,sBAAKR,UAAU,aAAf,UACE,8CACA,uBACE9C,KAAK,WACLT,GAAG,oBACHgE,mBAAiB,eACjBT,UAAU,eACVI,YAAY,iBACZC,SAAU,SAACC,GAAD,OAAOpB,EAAkBoB,EAAEC,OAAOC,UAE9C,uBAAO/D,GAAG,eAAeuD,UAAU,uBAAnC,oIAGF,sBAAKA,UAAU,aAAf,UACE,sDACA,uBACE9C,KAAK,WACLT,GAAG,wBACHuD,UAAU,eACVI,YAAY,oBACZC,SAAU,SAACC,GAAD,OAAOlB,EAAkBkB,EAAEC,OAAOC,aAGhD,qBAAKR,UAAU,aAAf,SACE,wBACE9C,KAAK,SACL8C,UAAU,wBACVU,QA7GK,WACf,OAAKC,yBAAe1B,EAAgBE,GAO/ByB,0BAAgB7B,GAMhB8B,0BAAgB5B,GAOhB6B,uBAAarB,QD6RC,SAACV,EAAaE,EAAgB8B,EAAWC,EAAUvB,GAcxE,OAZAzE,aAAaiG,QAAQ,WAAYnG,KAAKoG,UAAUnC,IACpCrD,IAAM,CAChBC,OAAQ,OACRC,IAAK,gBACLC,KAAM,CACJL,SAAUuD,EACVoC,SAAUlC,EACVmC,WAAYL,EACZM,UAAWL,EACXvB,WClSF6B,CAAQvC,EAAaE,EAAgBI,EAAcE,EAAaE,GAAO8B,MAAK,SAACC,GAC3EC,QAAQC,IAAIF,GAEZ7B,EAAQgC,KAAK,cACZC,OAAM,SAACtB,GACRmB,QAAQC,IAAIpB,OAVZuB,MAAM,uCACNC,SAASC,eAAe,sBAAsBvB,MAAQ,MARtDqB,MAAM,8JACNC,SAASC,eAAe,qBAAqBvB,MAAQ,QACrDsB,SAASC,eAAe,yBAAyBvB,MAAQ,MARzDqB,MAAM,0BACNC,SAASC,eAAe,qBAAqBvB,MAAQ,MARrDqB,MAAM,2CACNC,SAASC,eAAe,qBAAqBvB,MAAQ,QACrDsB,SAASC,eAAe,yBAAyBvB,MAAQ,MAsGnD,uBAQF,6DAEE,cAAC,IAAD,CAAMwB,GAAG,SAAT,oC,qGC9HG,SAASC,IACtB,IAAMzG,EAAWX,+BACjB,EAAwBiE,oBAAS,GAAjC,mBAAOoD,EAAP,KAAaC,EAAb,KACA,EAAgCrD,oBAAS,GAAzC,mBAAOsD,EAAP,KAAiBC,EAAjB,KACA,EAAwBvD,mBAAS,IAAjC,mBAAOwD,EAAP,KAAaC,EAAb,KAKMC,EAAc,WAClBL,GAAQ,GACRI,EAAQ,KAiBV,OAAQH,EA2BJ,cAAC,IAAD,CAAUJ,GAAG,WA1Bf,gCACE,wBAAQvF,GAAG,SAASwD,MAAO,CAAEwC,MAAO,UAAWC,OAAQ,OAAQC,gBAAiB,WAAazF,KAAK,SAASwD,QAzBvF,WACtByB,GAAQ,IAwBN,4BACA,eAACS,EAAA,EAAD,CAAQV,KAAMA,EAAMW,QAASL,EAAaM,kBAAgB,oBAA1D,UACE,cAACC,EAAA,EAAD,CAAatG,GAAG,oBAAhB,sCACA,cAACuG,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,MAAgB,KAATZ,EACPa,WAAS,EACTC,OAAO,QACP3G,GAAG,gBACH4G,MAAM,iBACNnG,KAAK,WACLoG,WAAS,EACTC,WAAYjB,MAGhB,eAACkB,EAAA,EAAD,WACE,wBAAQxD,UAAU,aAAa9C,KAAK,SAASwD,QAAS8B,EAAtD,oBAGA,wBAAQxC,UAAU,aAAa9C,KAAK,SAASwD,QAnC3B,WACxB,IAAM+C,EAAQ3B,SAASC,eAAe,iBAAiBvB,MACzC,KAAViD,GF8ED,SAA2BhH,EAAIiH,GACpC,IAAMzH,EAAM,kCAA8BQ,GAC1C,OAAOf,IAAM,CACXC,OAAQ,MACRC,IAAKK,EACLJ,KAAM,CACJsF,SAAUuC,KEnFVC,CAAkBnI,EAAUiI,GAAOlC,MAAK,SAACC,GACvCC,QAAQC,IAAIF,GACZW,GAAQ,GACRE,GAAY,MACXT,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,GACZrB,EAAQ,uBA0BN,6B,aChDK,SAASsB,IACtB,IAAMrI,EAAWX,+BACjB,EAAwBiE,oBAAS,GAAjC,mBAAOoD,EAAP,KAAaC,EAAb,KACA,EAA8BrD,oBAAS,GAAvC,mBAAOgF,EAAP,KAAgBC,EAAhB,KACA,EAA8BjF,oBAAS,GAAvC,mBAAOkF,EAAP,KAAgBC,EAAhB,KAOMzB,EAAc,WAClBL,GAAQ,IAmBV,OACE,gCACE,wBAAQ1F,GAAG,SAASwD,MAAO,CAAEwC,MAAO,UAAWC,OAAQ,OAAQC,gBAAiB,WAAazF,KAAK,SAASwD,QA5BvF,WACtBqD,GAAW,GACX5B,GAAQ,GACR8B,GAAW,IAyBT,6BACA,eAACrB,EAAA,EAAD,CAAQV,KAAMA,EAAMW,QAASL,EAAaM,kBAAgB,oBAA1D,UACE,cAACC,EAAA,EAAD,CAAatG,GAAG,oBAAhB,6BAEA,eAACuG,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEE,WAAS,EACTC,OAAO,QACP3G,GAAG,cACH4G,MAAM,eACNnG,KAAK,WACLoG,WAAS,IAGX,cAACL,EAAA,EAAD,CACEC,OAAQc,EACRb,WAAS,EACT9C,SAAU,SAAC6D,GC9DR,IAAyB/C,ED+D1B8C,GC/D0B9C,ED+DC+C,EAAM3D,OAAOC,MC9DhC,IAAI2D,OAAO,+DACZC,KAAKjD,MD+DdiC,OAAO,QACP3G,GAAG,cACH4G,MAAM,qBACNnG,KAAK,WACLoG,WAAS,EACTC,WAAYS,EAAU,sBAAwB,kEAGhD,cAACf,EAAA,EAAD,CACEC,OAAQY,EACRzD,SAAU,SAAC6D,GACTH,EAAWG,EAAM3D,OAAOC,QAAUsB,SAASC,eAAe,eAAevB,QAE3E2C,WAAS,EACTC,OAAO,QACP3G,GAAG,uBACH4G,MAAM,uBACNnG,KAAK,WACLoG,WAAS,EACTC,WAAYO,EAAU,GAAK,sCAG/B,eAACN,EAAA,EAAD,WACE,cAACa,EAAA,EAAD,CAAQ3D,QAAS8B,EAAaC,MAAM,UAApC,oBAGA,cAAC4B,EAAA,EAAD,CAAQ3D,QAhEU,WACxB,IAAM4D,EAAcxC,SAASC,eAAe,eAAevB,MACrD+D,EAAczC,SAASC,eAAe,eAAevB,MAIvDsD,GAAWE,GAHIM,IAAgBC,GAED,KAAhBA,GADgB,KAAhBD,GHkGf,SAAwB9I,EAAUgJ,EAASC,GAChD,IAAMC,EAAK,gCAA4BlJ,GACvC,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAK8I,EACL7I,KAAM,CACJ0I,YAAaC,EACbF,YAAaG,KGtGbE,CAAenJ,EAAU+I,EAAaD,GAAa/C,MAAK,SAACC,GAC/B,MAApBA,EAASoD,OACXzC,GAAQ,GAERA,GAAQ,MAETP,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,aAmDMpC,MAAM,UAA1C,6B,wEE5EJqC,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ/E,MAAO,OACPgF,SAAU,IACVvC,gBAAiBqC,EAAMG,QAAQC,WAAWC,WAI/B,SAASC,GAAT,GAEX,IADFC,EACC,EADDA,UAAWC,EACV,EADUA,MAAOC,EACjB,EADiBA,YAAaC,EAC9B,EAD8BA,YAAaC,EAC3C,EAD2CA,KAAMC,EACjD,EADiDA,OAAQC,EACzD,EADyDA,SAEpDC,EAAUhB,KAChB,EAAwBhG,oBAAS,GAAjC,mBAAOoD,EAAP,KAAaC,EAAb,KACA,EAA4BrD,mBAAS,SAArC,mBAAOiH,EAAP,KAAeC,EAAf,KACA,EAA0BlH,mBAAS,IAAnC,mBAAOmH,EAAP,KAAcC,EAAd,KACMpJ,EAAOjC,+BACPsL,EAAa,SAACtK,GAgBlB,OAfA4F,QAAQC,IAAI7F,EAAKuK,iBAEf,eAACC,EAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CACEC,IAAI,GACJC,IAAG,wBAAmB5K,EAAKuK,qBAG/B,cAACM,GAAA,EAAD,CAAcC,QAAS9K,EAAKL,SAAU+J,UAAWA,IACjD,cAACqB,GAAA,EAAD,CAASpB,MAAOK,EAAUgB,UAAU,MAApC,SACE,cAAClB,EAAD,CAAM3F,UAAU,SAASyC,MAAM,YAAY/B,QAAS,kBAAMkF,EAAO/J,EAAKL,mBAyB9EsL,qBAAU,cACP,CAACb,IACJ,IArByBc,EAqBnBvE,EAAc,WAClBL,GAAQ,IAEJ6E,EAAwBC,IAAMC,OAAO,MAU3C,OATAD,IAAMH,WAAU,WACd,GAAI5E,EAAM,CACR,IAAiBiF,EAAuBH,EAAhCI,QACmB,OAAvBD,GACFA,EAAmBE,WAGtB,CAACnF,IAGF,gCACE,wBACExB,SArCmBqG,EAqCM,QArCS,WACtCtF,QAAQC,IAAI,QACZgE,EAAY5I,GAAMyE,MAAK,SAACC,GACtB,IAAI8F,EAAW,GACX9F,EAAS3F,KAAK0L,SAChBD,EAAW9F,EAAS3F,KAAK0L,QAAQC,KAAI,SAAClH,GAAD,OAAO6F,EAAW7F,MACvDmB,QAAQC,IAAIF,EAAS3F,KAAK0L,UACjB/F,EAAS3F,KAAK4L,YACvBH,EAAW9F,EAAS3F,KAAK4L,UAAUD,KAAI,SAAClH,GAAD,OAAO6F,EAAW7F,MACzDmB,QAAQC,IAAIF,EAAS3F,KAAK4L,YAE5BvB,EAASoB,MACR1F,OAAM,SAACsB,GACRzB,QAAQC,IAAIwB,EAAM2B,YAEpB1C,GAAQ,GACR6D,EAAUe,KAsBN/G,UAAU,MACVvD,GAAG,SACHwD,MAAO,CACLwC,MAAO,UACPC,OAAQ,OACRC,gBAAiB,WAEnBzF,KAAK,SATP,SAWGsI,IAEH,eAAC5C,EAAA,EAAD,CACEV,KAAMA,EACNW,QAASL,EACTuD,OAAQA,EACRjD,kBAAgB,sBAChBrC,mBAAiB,4BALnB,UAOE,cAACsC,EAAA,EAAD,CAAatG,GAAG,sBAAhB,SAAuCgJ,IACvC,cAACzC,EAAA,EAAD,CAAe0E,SAAqB,UAAX3B,EAAzB,SACE,cAAC4B,EAAA,EAAD,CAAM3H,UAAW8F,EAAQb,KAAzB,SACGgB,MAGL,cAACzC,EAAA,EAAD,UACE,wBACE9C,QAAS8B,EACTxC,UAAU,MACVvD,GAAG,SACHwD,MAAO,CACLwC,MAAO,UACPC,OAAQ,OACRC,gBAAiB,WAEnBzF,KAAK,SATP,2BCtGK,SAAS0K,GAAQC,GAC9B,IAAM/K,EAAOjC,+BACPiN,EAAQD,EAAMhM,KAAKiM,KAAKC,MAAM,KAAM,GAUpCC,EAAaH,EAAMhM,KAAKuK,gBAC9B3E,QAAQC,IAAR,cAAmBsG,IACnB,IAAMC,EAAa,wBAAoBD,GACvC,OACE,sBAAKhI,UAAU,oBAAf,UACE,sBAAKA,UAAU,WAAf,UACE,qBAAKyG,IAAKwB,EAAezB,IAAI,GAAG/J,GAAG,YACnC,qBAAKgK,IAAKwB,EAAezB,IAAI,GAAG/J,GAAG,mBAErC,uBACA,sBAAKuD,UAAU,WAAf,UACE,sBAAMC,MAAO,CAAEwC,MAAO,WAAahG,GAAG,WAAtC,SAAkDoL,EAAMhM,KAAKL,WAC7D,sBAAMyE,MAAO,CAAEwC,MAAO,WAAahG,GAAG,WAAtC,0BAA4DqL,QAE9D,sBAAK9H,UAAU,eAAf,UACE,cAACsF,GAAD,CACEC,UAAU,UACVC,MAAM,mBACNC,YAAY,gBACZC,YAAa9I,EACb+I,KAAMuC,IACNtC,OA9Bc,SAACpK,INgKlB,SAAqBA,EAAU2M,GACpC,IAAMzL,EAAM,uBAAmBlB,GAC/B,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKc,EACLb,KAAM,CACJc,SAAUwL,MMrKZC,CAAYtL,EAAMtB,GAAU+F,MAAK,SAAC8G,GAChC5G,QAAQC,IAAI2G,EAAIxD,SAChBjI,EAAoBE,GAAMyE,MAAK,SAAC+G,GAC9B7G,QAAQC,IAAI4G,EAAOzM,KAAK0L,gBA2BtB1B,SAAS,iBAEX,cAAC,EAAD,IACA,cAAChC,EAAD,U,oMC7BFiB,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCuD,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAa1D,EAAM2D,QAAQ,IAE7BnD,MAAM,cACJoD,QAAS,QACR5D,EAAM6D,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,UAGbG,OAAO,cACLC,SAAU,WACVC,aAAcjE,EAAMkE,MAAMD,aAC1BtG,gBAAiBwG,aAAKnE,EAAMG,QAAQiE,OAAOC,MAAO,KAClD,UAAW,CACT1G,gBAAiBwG,aAAKnE,EAAMG,QAAQiE,OAAOC,MAAO,MAEpDX,YAAa1D,EAAM2D,QAAQ,GAC3BW,WAAY,EACZpJ,MAAO,QACN8E,EAAM6D,YAAYC,GAAG,MAAQ,CAC5BQ,WAAYtE,EAAM2D,QAAQ,GAC1BzI,MAAO,SAGXqJ,WAAY,CACVC,QAASxE,EAAM2D,QAAQ,EAAG,GAC1Bc,OAAQ,OACRT,SAAU,WACVU,cAAe,OACfd,QAAS,OACTe,WAAY,SACZC,eAAgB,UAElBC,UAAW,CACTpH,MAAO,WAETqH,WAAW,cACTN,QAASxE,EAAM2D,QAAQ,EAAG,EAAG,EAAG,GAEhCoB,YAAY,cAAD,OAAgB/E,EAAM2D,QAAQ,GAA9B,OACXqB,WAAYhF,EAAMiF,YAAYC,OAAO,SACrChK,MAAO,QACN8E,EAAM6D,YAAYC,GAAG,MAAQ,CAC5B5I,MAAO,SAGXiK,eAAe,cACbvB,QAAS,QACR5D,EAAM6D,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,SAGbwB,cAAc,cACZxB,QAAS,QACR5D,EAAM6D,YAAYC,GAAG,MAAQ,CAC5BF,QAAS,aAKA,SAASyB,KACtB,IAAMvE,EAAUhB,KAChB,EAAgChG,mBAAS,MAAzC,mBAAOwL,EAAP,KAAiBC,EAAjB,KACA,EAAoDzL,mBAAS,MAA7D,mBAAO0L,EAAP,KAA2BC,EAA3B,KAEMC,EAAaC,QAAQL,GACrBM,EAAmBD,QAAQH,GAE3BK,EAAwB,SAAC3G,GAC7BqG,EAAYrG,EAAM4G,gBAEdnL,EAAUC,cAEVmL,EAAwB,WAC5BN,EAAsB,OAGlBO,EAAkB,WACtBT,EAAY,MAEZ5K,EAAQgC,KADK,YAEboJ,KAMIE,EAAc,WAElBtL,EAAQgC,KADK,UASTuJ,EAAS,8BACTC,EACJ,eAACC,GAAA,EAAD,CACEd,SAAUA,EACVe,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7C9O,GAAIyO,EACJM,aAAW,EACXC,gBAAiB,CAAEH,SAAU,MAAOC,WAAY,SAChDrJ,KAAMwI,EACN7H,QAASmI,EAPX,UASE,cAACU,GAAA,EAAD,CAAUhL,QAASuK,EAAnB,kBACA,cAACS,GAAA,EAAD,CAAUhL,QAASsK,EAAnB,wBACA,cAACU,GAAA,EAAD,CAAUhL,QAlBO,WACnBvF,mBAEAwE,EAAQgC,KADK,WAgBX,wBAKEgK,EAAe,qCACfC,EACJ,eAACR,GAAA,EAAD,CACEd,SAAUE,EACVa,aAAc,CAAEC,SAAU,MAAOC,WAAY,SAC7C9O,GAAIkP,EACJH,aAAW,EACXC,gBAAiB,CAAEH,SAAU,MAAOC,WAAY,SAChDrJ,KAAM0I,EACN/H,QAASkI,EAPX,UASE,eAACW,GAAA,EAAD,CAAUhL,QAASuK,EAAnB,UACE,cAACY,GAAA,EAAD,CAAYpJ,MAAM,UAAlB,SACE,cAACqJ,GAAA,EAAD,UACE,cAAC,KAAD,QAGJ,wCAEF,eAACJ,GAAA,EAAD,WACE,cAACG,GAAA,EAAD,CAAYE,aAAW,mBAAmBtJ,MAAM,UAAhD,SACE,cAACqJ,GAAA,EAAD,CAAOE,aAAc,EAAGvJ,MAAM,YAA9B,SACE,cAAC,KAAD,QAGJ,4CAEF,eAACiJ,GAAA,EAAD,WACE,cAACG,GAAA,EAAD,CAAYE,aAAW,4BAA4BtJ,MAAM,UAAzD,SACE,cAACqJ,GAAA,EAAD,CAAOE,aAAc,GAAIvJ,MAAM,YAA/B,SACE,cAAC,KAAD,QAGJ,iDAEF,eAACiJ,GAAA,EAAD,CAAUhL,QAASmK,EAAnB,UACE,cAACgB,GAAA,EAAD,CACEE,aAAW,0BACXE,gBAAc,8BACdC,gBAAc,OACdzJ,MAAM,UACN/B,QAASuK,EALX,SAOE,cAAC,KAAD,MAEF,2CAKN,OACE,qBAAKhL,MAAO,CAAE+I,SAAU,WAAYmD,IAAK,OAAzC,SACE,qBAAKlM,MAAO,CAAE+I,SAAU,WAAYmD,IAAK,OAASnM,UAAU,OAA5D,SACE,sBAAKA,UAAW8F,EAAQyC,KAAxB,UACE,cAAC6D,GAAA,EAAD,CAAQnM,MAAO,CAAE0C,gBAAiB,WAAaqG,SAAS,SAAxD,SACE,eAACqD,GAAA,EAAD,WASE,cAACC,GAAA,EAAD,CAAYtM,UAAW8F,EAAQN,MAAO+G,QAAQ,KAAKC,QAAM,EAAzD,gCAGA,qBAAKxM,UAAW8F,EAAQyC,OACxB,sBAAKvI,UAAW8F,EAAQqE,eAAxB,UACE,cAAC0B,GAAA,EAAD,CACEnL,QAASuK,EACTxI,MAAM,UAFR,SAIE,cAACqJ,GAAA,EAAD,UACE,cAAC,KAAD,QAGJ,cAACD,GAAA,EAAD,CAAYE,aAAW,mBAAmBtJ,MAAM,UAAhD,SACE,cAACqJ,GAAA,EAAD,CAAOE,aAAc,EAAGvJ,MAAM,YAA9B,SACE,cAAC,KAAD,QAGJ,cAACoJ,GAAA,EAAD,CAAYE,aAAW,4BAA4BtJ,MAAM,UAAzD,SACE,cAACqJ,GAAA,EAAD,CAAOE,aAAc,GAAIvJ,MAAM,YAA/B,SACE,cAAC,KAAD,QAGJ,cAACoJ,GAAA,EAAD,CACEY,KAAK,MACLV,aAAW,0BACXE,gBAAef,EACfgB,gBAAc,OACdxL,QAASmK,EACTpI,MAAM,UANR,SAQE,cAAC,KAAD,SAGJ,qBAAKzC,UAAW8F,EAAQsE,cAAxB,SACE,cAACyB,GAAA,EAAD,CACEE,aAAW,YACXE,gBAAeN,EACfO,gBAAc,OACdxL,QAtIa,SAACwD,GAC5BuG,EAAsBvG,EAAM4G,gBAsIdrI,MAAM,UALR,SAOE,cAAC,KAAD,aAKPmJ,EACAT,S,qBCjPI,SAASuB,GAAU7E,GAChC,MAAwBZ,IAAMnI,UAAS,GAAvC,mBAAOoD,EAAP,KAAaC,EAAb,KAEMwK,EAAkB,WACtBxK,GAAQ,IAGJK,EAAc,WAClB,IAAMiB,EAAQ3B,SAASC,eAAe,YAAYvB,MAClDqH,EAAMhF,QAAQY,GACdtB,GAAQ,IAGV,OACE,gCACE,cAACkC,EAAA,EAAD,CAAQ5B,MAAM,UAAU/B,QAASiM,EAAjC,0BAGA,eAAC/J,EAAA,EAAD,CAAQV,KAAMA,EAAMW,QAAS8J,EAAiB7J,kBAAgB,oBAA9D,UACE,cAACC,EAAA,EAAD,CAAatG,GAAG,oBAAhB,0BACA,cAACuG,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEE,WAAS,EACTC,OAAO,QACP3G,GAAG,WACHS,KAAK,SACLoG,WAAS,MAGb,eAACE,EAAA,EAAD,WACE,cAACa,EAAA,EAAD,CAAQ3D,QAAS8B,EAAaC,MAAM,UAApC,oBAGA,cAAC4B,EAAA,EAAD,CAAQ3D,QAAS8B,EAAaC,MAAM,UAApC,0BCnCK,SAASmK,GAAT,GAAgE,IAA3CC,EAA0C,EAA1CA,UAAWvR,EAA+B,EAA/BA,YAAaS,EAAkB,EAAlBA,eACpDkK,EAAQ,GASd,OARA4G,EAAUC,SAAQ,SAAChR,GACjBmK,EAAMtE,KACJ,oBAAmBjB,QAAS,kBAAM3E,EAAeD,IAAWkE,UAAU,sCAAtE,SACGlE,GADMA,OAOX,sBAAKkE,UAAU,UAAf,UACE,qBAAKA,UAAU,WAAf,SACE,6BAAKiG,MAEP,cAAC8G,GAAA,EAAD,CAASR,QAAQ,WACjB,qBAAKvM,UAAU,WAAf,SACE,cAAC0M,GAAD,CAAW7J,QAASvH,S,mDChBtBwJ,I,OAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACP7B,OAAQ4B,EAAM2D,QAAQ,GACtBM,aAAc,OACdO,QAAS,EACTwD,SAAU,cAKD,SAASC,GAAT,GAA+C,IAA3BC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAC1CtH,EAAUhB,KAChB,OACE,sBAAK9E,UAAU,gBAAf,UACE,sBAAKA,UAAW8F,EAAQb,KAAxB,UACE,cAAC2B,GAAA,EAAD,CAASpB,MAAM,aAAaqB,UAAU,MAAtC,SACE,cAAC,KAAD,CAAWwG,SAAS,QAAQrN,UAAU,SAASyC,MAAM,YAAY/B,QAAS,kBAAMyM,EAAQD,EAAK1R,eAE/F,cAACoL,GAAA,EAAD,CAASpB,MAAM,SAASqB,UAAU,MAAlC,SACE,cAAC,KAAD,CAAewG,SAAS,QAAQrN,UAAU,SAASU,QAAS,kBAAM0M,EAAQF,EAAK1R,kBAGnF,qBAAKwE,UAAU,oBAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBACEA,UAAU,QACVyG,IAAG,wBAAmByG,EAAK9G,iBAC3BI,IAAI,SAIV,qBAAKvG,MAAO,CAAEqN,WAAY,OAAQ7K,MAAO,WAAazC,UAAU,OAAhE,SAAwEkN,EAAK1R,cC/BpE,SAAS+R,KACtB,IAAMzQ,EAAOjC,+BACb,EAA6BiE,mBAAS,IAAtC,mBAAO0O,EAAP,KAAaC,EAAb,KACA3G,qBAAU,WACRxK,EAAaQ,GAAMyE,MAAK,SAAC+G,GACvBmF,EAAanF,EAAOzM,KAAK4L,gBAE1B,IAGH,IAAM0F,EAAU,SAAC3R,GACfgB,EAAcM,EAAMtB,GAAU+F,MAAK,SAAC8G,GAClC5G,QAAQC,IAAI2G,EAAIxD,SAChBvI,EAAaQ,GAAMyE,MAAK,SAAC+G,GACvBmF,EAAanF,EAAOzM,KAAK4L,kBAKzB2F,EAAU,SAAC5R,GACfgC,EAAWV,EAAMtB,GAAU+F,MAAK,SAAC8G,GAC/B5G,QAAQC,IAAI2G,EAAIxD,SAChBvI,EAAaQ,GAAMyE,MAAK,SAAC+G,GACvBmF,EAAanF,EAAOzM,KAAK4L,kBAKzBxB,EAAQuH,EAAKhG,KAAI,SAAClH,GAAD,OAAO,cAAC,GAAD,CAAU4M,KAAM5M,EAAG6M,QAASA,EAASC,QAASA,OAC5E,OACE,sBAAKpN,UAAU,gBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,cAACsF,GAAD,CACEC,UAAU,WACVC,MAAM,gBACNC,YAAY,gBACZC,YAAapJ,EACbqJ,KAAM+H,KACN9H,OAAQwH,EACRvH,SAAS,aAGb,qBAAK5F,MAAO,CAAEwC,MAAO,WAAazC,UAAU,QAA5C,uBACA,uBACA,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,aAAf,SACGiG,S,6CC9CLnB,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJ,QAAS,CACP7B,OAAQ4B,EAAM2D,QAAQ,KACtBM,aAAc,OACdO,QAAS,EACTwD,SAAU,aAKD,SAASW,GAAT,GAEX,IADFT,EACC,EADDA,KAAMC,EACL,EADKA,QAASS,EACd,EADcA,cAAeC,EAC7B,EAD6BA,QAExB/H,EAAUhB,KAChB,OACE,sBAAK9E,UAAU,gBAAf,UACE,sBAAKA,UAAW8F,EAAQb,KAAxB,UACE,cAAC2B,GAAA,EAAD,CAASpB,MAAM,UAAUqB,UAAU,MAAnC,SACE,cAAC,KAAD,CAAUwG,SAAS,QAAQrN,UAAU,SAASU,QAAS,kBAAMkN,EAAcV,EAAK1R,eAElF,cAACoL,GAAA,EAAD,CAASpB,MAAM,aAAaqB,UAAU,MAAtC,SACE,cAAC,KAAD,CAAWwG,SAAS,QAAQrN,UAAU,SAASyC,MAAM,YAAY/B,QAAS,kBAAMyM,EAAQD,EAAK1R,eAE/F,cAACoL,GAAA,EAAD,CAASpB,MAAM,WAAWqB,UAAU,MAApC,SACE,cAAC,KAAD,CAAuBwG,SAAS,QAAQrN,UAAU,SAASU,QAAS,kBAAMmN,EAAQX,EAAK1R,kBAG3F,qBAAKwE,UAAU,oBAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBACEA,UAAU,QACVyG,IAAG,wBAAmByG,EAAK9G,iBAC3BI,IAAI,SAIV,qBAAKvG,MAAO,CAAEqN,WAAY,OAAQ7K,MAAO,WAAazC,UAAU,OAAhE,SAAwEkN,EAAK1R,cChCpE,SAASsS,KACtB,IAAMnO,EAAUC,cACV9C,EAAOjC,+BACb,EAA8BiE,mBAAS,IAAvC,mBAAOyI,EAAP,KAAgBwG,EAAhB,KACAjH,qBAAU,WACRvK,EAAWO,GAAMyE,MAAK,SAAC+G,GACrByF,EAAWzF,EAAOzM,KAAK0L,cAExB,IAEH,IAAM4F,EAAU,SAAC3R,GACfgB,EAAcM,EAAMtB,GAAU+F,MAAK,SAAC8G,GAClC5G,QAAQC,IAAI2G,EAAIxD,SAChBtI,EAAWO,GAAMyE,MAAK,SAAC+G,GACrByF,EAAWzF,EAAOzM,KAAK0L,gBAKvBsG,EAAU,SAACrS,GACfiC,EAAaX,EAAMtB,GAAU+F,MAAK,SAAC8G,GACjC5G,QAAQC,IAAI2G,EAAIxD,SAChBtI,EAAWO,GAAMyE,MAAK,SAAC+G,GACrByF,EAAWzF,EAAOzM,KAAK0L,gBAKvBqG,EAAgB,SAACpS,GACrBiG,QAAQC,IAAIlG,GACZR,aAAaiG,QAAQ,WAAYnG,KAAKoG,UAAU1F,IAEhDmE,EAAQgC,KAAK,aAGTsE,EAAQsB,EAAQC,KAAI,SAAClH,GAAD,OAAO,cAACqN,GAAD,CAAQT,KAAM5M,EAAGsN,cAAeA,EAAeT,QAASA,EAASU,QAASA,OAC3G,OACE,sBAAK7N,UAAU,gBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,cAACsF,GAAD,CACEC,UAAU,UACVC,MAAM,cACNC,YAAY,cACZC,YAAanJ,EACboJ,KAAMqI,KACNpI,OAAQiI,EACRhI,SAAS,eAGb,qBAAK5F,MAAO,CAAEwC,MAAO,WAAazC,UAAU,QAA5C,qBACA,uBACA,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,aAAf,SACGiG,S,gMC9DI,SAASgI,GAAT,GAA8C,IAAtBxR,EAAqB,EAArBA,GAAIyR,EAAiB,EAAjBA,cACzC,EAA0BpP,mBAAS,IAAnC,mBAAO2E,EAAP,KAAc0K,EAAd,KACA,EAA0BrP,mBAAS,KAAnC,mBAAOsP,EAAP,KAAcC,EAAd,KASA,OACE,sBAAKrO,UAAU,cAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,cAACiD,EAAA,EAAD,CACExG,GAAE,UAAKA,GACP4G,MAAM,kBACNiL,WAAS,EACTC,QAAS,EACThL,WAAU,UAAK6K,EAAL,oBACV7B,QAAQ,WACRiC,WAAY,CAAEC,UAAW,KACzBpO,SAAU,SAACC,GAAD,OAnBG,SAACA,GACpB,GAAKA,EAAEC,OAAOC,MAAOkO,QAAU,EAAG,CAChC,IAAMC,EAAI,IAAOrO,EAAEC,OAAOC,MAAOkO,OACjCL,EAASM,GACTR,EAAS7N,EAAEC,OAAOC,OAClBiB,QAAQC,IAAI+B,IAcSmL,CAAatO,IAC9BgD,WAAS,MAGb,qBAAKtD,UAAU,gBAAf,SACE,wBAAQU,QAAS,kBAAMwN,EAAczK,IAAQhH,GAAG,gBAAgBS,KAAK,SAArE,2B,qBCrBO,SAAS2R,GAAT,GAAqD,IAA5BpS,EAA2B,EAA3BA,GAAIO,EAAuB,EAAvBA,QAAS8R,EAAc,EAAdA,WAC7CC,EAAO/R,EACb,EAAwBiK,IAAMnI,UAAS,GAAvC,mBAAOoD,EAAP,KAAaC,EAAb,KACA,EAA0BrD,mBAAS,KAAnC,mBAAOsP,EAAP,KAAcC,EAAd,KACA,EAA0BvP,mBAAS,IAAnC,mBAAO2E,EAAP,KAAc0K,EAAd,KAeM3L,EAAc,WAClBL,GAAQ,IAGV,OACE,gCACE,wBAAQzB,QAfY,WACtByB,GAAQ,IAc4B1F,GAAG,UAAUS,KAAK,SAApD,kBACA,eAAC0F,EAAA,EAAD,CAAQV,KAAMA,EAAMW,QAASL,EAAaM,kBAAgB,oBAA1D,UACE,cAACC,EAAA,EAAD,CAAatG,GAAG,oBAAhB,uBACA,eAACuG,EAAA,EAAD,WACE,cAACgM,GAAA,EAAD,uDAGA,cAAC/L,EAAA,EAAD,CACEE,WAAS,EACTC,OAAO,QACP3G,GAAE,cAASA,GACX4G,MAAM,YACNnG,KAAK,QACLoR,WAAS,EACThL,WAAS,EACTC,WAAU,UAAK6K,EAAL,oBACVa,aAAcF,EACdP,WAAY,CAAEC,UAAW,KACzBpO,SAAU,SAACC,GAAD,OAtCC,SAACA,GACpB6N,EAAS7N,EAAEC,OAAOC,OAClB6N,EAAS,IAAM/N,EAAEC,OAAOC,MAAMkO,QAoCLE,CAAatO,SAGlC,eAACkD,EAAA,EAAD,WACE,cAACa,EAAA,EAAD,CAAQpE,MAAO,CAAEwC,MAAO,SAAW/B,QAAS8B,EAAaC,MAAM,UAA/D,oBAGA,cAAC4B,EAAA,EAAD,CAAQpE,MAAO,CAAEwC,MAAO,SAAW/B,QAAS,kBAnClDoO,EAAWrL,QACXtB,GAAQ,IAkC+EM,MAAM,UAAvF,mCCtDK,SAASyM,GAAT,GAA0D,IAA9BrT,EAA6B,EAA7BA,KAAMsT,EAAuB,EAAvBA,oBAC/C,EAA4BrQ,mBAAS,IAArC,mBAAOsQ,EAAP,KAAeC,EAAf,KACA,EAA8BvQ,mBAASjD,EAAKmB,SAA5C,mBAAOA,EAAP,KAAgBsS,EAAhB,KACMxS,EAAOjC,+BACP0U,EAAU1T,EAAKiB,OAASA,EACxB0S,EAAO,yCAAG,uBAAAC,EAAA,sEACR5S,EAAUhB,EAAKiB,MAAMyE,MAAK,SAAC8G,GAC/BgH,EAAUhH,EAAIxM,KAAKuT,OAAO,GAAGhJ,oBAC5BxE,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAJJ,2CAAH,qDAsBb,OAJAiC,qBAAU,WACR0I,MACC,IAGD,sBAAKxP,UAAU,eAAe0P,MAAO,CAAEjG,OAAQ,QAASvJ,MAAO,QAASyC,gBAAiB,OAAzF,UACE,sBAAK3C,UAAU,iBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKvD,GAAG,kBAAkBgK,IAAG,wBAAmB2I,GAAU5I,IAAI,OAEhE,qBAAKxG,UAAU,cAAf,SACE,sBAAMvD,GAAG,gBAAT,SAA0BZ,EAAKiB,YAGnC,sBAAKkD,UAAU,kBAAkBC,MAAO,CAAEC,MAAO,eAAjD,UACE,qBAAKF,UAAU,eAAf,SACE,sBAAMvD,GAAG,WAAT,SAAqBO,MAEvB,sBAAKgD,UAAU,gBAAf,UACE,qBAAKC,MAAO,CAAE2I,QAAS2G,EAAU,QAAU,QAAUvP,UAAU,mBAA/D,SACE,cAAC6O,GAAD,CAAepS,GAAIZ,EAAK8T,QAASb,WA9BxB,SAACc,GACC,KAAfA,IAGJN,EAAWM,GhB2PR,SAAuBC,EAAQD,GACpC,OAAOlU,IAAM,CACXC,OAAQ,MACRC,IAAI,6BAAD,OAA+BiU,GAClChU,KAAM,CACJmB,QAAS4S,KgB/PXE,CAAcjU,EAAK8T,QAASC,GAAYrO,MAAK,SAAC8G,GAC5C5G,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,cAuB+B7H,QAASA,MAEpE,qBAAKiD,MAAO,CAAE2I,QAAS2G,EAAU,QAAU,QAAUvP,UAAU,mBAA/D,SACE,wBAAQU,QAAS,kBAAMyO,EAAoBtT,EAAK8T,UAAUlT,GAAG,YAAYS,KAAK,SAA9E,+B,sDC1BN6F,GAAcgN,cAbL,SAAC/K,GAAD,MAAY,CACzBC,KAAM,CACJ7B,OAAQ,EACRoG,QAASxE,EAAM2D,QAAQ,IAEzBqH,YAAa,CACXhH,SAAU,WACViH,MAAOjL,EAAM2D,QAAQ,GACrBwD,IAAKnH,EAAM2D,QAAQ,GACnBlG,MAAOuC,EAAMG,QAAQ+K,KAAK,SAIVH,EAAmB,SAAClI,GACtC,IACEsI,EACEtI,EADFsI,SAAUrK,EACR+B,EADQ/B,QAASjD,EACjBgF,EADiBhF,QAErB,OACE,eAAC,IAAD,CAAgBuN,mBAAiB,EAACpQ,UAAW8F,EAAQb,KAArD,UACE,cAACqH,GAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0B4D,IACzBtN,EACC,cAACgJ,GAAA,EAAD,CACEE,aAAW,QACX/L,UAAW8F,EAAQkK,YACnBtP,QAASmC,EAHX,SAKE,cAAC,KAAD,MAEA,WAKJG,GAAgB+M,cAAW,SAAC/K,GAAD,MAAY,CAC3CC,KAAM,CACJuE,QAASxE,EAAM2D,QAAQ,OAFLoH,CAIlBM,KAEE7M,GAAgBuM,cAAW,SAAC/K,GAAD,MAAY,CAC3CC,KAAM,CACJ7B,OAAQ,EACRoG,QAASxE,EAAM2D,QAAQ,OAHLoH,CAKlBO,KAEW,SAASC,GAAT,GAAuC,IAAZpT,EAAW,EAAXA,QACxC,EAA4B2B,mBAAS,IAArC,mBAAO0R,EAAP,KAAeC,EAAf,KACA,EAAoC3R,mBAAS,IAA7C,mBAAO4R,EAAP,KAAmBC,EAAnB,KACA,EAAwB1J,IAAMnI,UAAS,GAAvC,mBAAOoD,EAAP,KAAaC,EAAb,KACMqN,EAAO,yCAAG,uBAAAC,EAAA,sEACRlS,EAAuBJ,GAASoE,MAAK,SAAC8G,GAC1C,IAAQuI,EAAavI,EAAIxM,KAAjB+U,SACRD,EAAcC,EAASpJ,KAAI,SAACqJ,GAAD,OAASA,EAAI/T,YACvC8E,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAJpB,uBAKR3G,EAAUf,GAASoE,MAAK,SAAC8G,GAC7BoI,EAAUpI,EAAIxM,KAAK2U,OAAOhJ,KAAI,SAACsJ,GAAD,OAAWA,EAAMhU,YAC9C8E,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAPpB,2CAAH,qDAYPrC,EAAc,WAClBL,GAAQ,IASV,OANA2E,qBAAU,WACR0I,MACC,IACH1I,qBAAU,cAEP,CAAC0J,EAAQE,EAAYxO,IAEtB,gCACE,gCACE,cAAC2J,GAAA,EAAD,CACEnL,QAjBgB,WACtByB,GAAQ,IAiBFlC,MAAO,CACLgJ,aAAc,MACdO,QAAS,KAJb,SAOE,cAAC,KAAD,MAEF,sBAAM/M,GAAG,gBAAgBwD,MAAO,CAAEwC,MAAO,WAAzC,0BAEF,eAACG,EAAA,EAAD,CACEC,QAASL,EACTM,kBAAgB,0BAChBZ,KAAMA,EAHR,UAKE,cAAC,GAAD,CAAazF,GAAG,0BAA0BoG,QAASL,EAAnD,6BAGA,cAAC,GAAD,CAAekF,UAAQ,EAAvB,SACE,sBAAKzH,MAAO,CAAE2I,QAAS,OAAQmI,SAAU,SAAzC,UACE,gCACE,sBAAM9Q,MAAO,CAAEmD,OAAQ,OAAQX,MAAO,UAAW6K,WAAY,QAA7D,wBACA,oBAAIrN,MAAO,CAAEmD,OAAQ,OAAQ4N,cAAe,UAA5C,SACGN,EAAWlJ,KAAI,SAAClH,GAAD,OACd,6BACGA,YAKT,sBAAKL,MAAO,CAAEqJ,WAAY,MAAOL,aAAc,MAAOtG,gBAAiB,WAAa3C,UAAU,SAA9F,UACE,qBAAKC,MAAO,CAAE2I,QAAS,QAAvB,SACE,sBAAM3I,MAAO,CAAEmD,OAAQ,OAAQX,MAAO,UAAW6K,WAAY,QAA7D,sBAGF,oBAAIrN,MAAO,CAAEmD,OAAQ,OAAQ4N,cAAe,UAA5C,SACGR,EAAOhJ,KAAI,SAACsJ,GAAD,OACV,+BACGA,EACA,MAFMA,gBAUnB,cAAC,GAAD,UC7GR,IAAMG,GAAOC,EAAQ,IAEN,SAASC,GAAT,GAAwC,IAAvBtV,EAAsB,EAAtBA,KAAMuV,EAAgB,EAAhBA,aAC9BtU,EAAOjC,+BACb,EAAiCiE,oBAAS,GAA1C,mBAAOuS,EAAP,KAAoBC,EAApB,KACA,EAA0BxS,mBAASjD,EAAK0V,aAAxC,mBAAOvT,EAAP,KAAcwT,EAAd,KACA,EAAsC1S,mBAASjD,EAAK4V,gBAApD,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAa7S,mBAASjD,EAAKuB,UAApBX,EAAP,oBACA,EAA4BqC,mBAASjD,EAAK+V,cAA1C,mBACA,GADA,UACkB9S,mBAASjD,EAAKiB,OAASA,IAAlCyS,EAAP,oBACA,EAA4BzQ,mBAAS,IAArC,mBAAOsQ,EAAP,KAAeC,EAAf,KACA,EAA4BvQ,oBAAS,GAArC,mBAAO+S,EAAP,KAAeC,EAAf,KACA,EAA0BhT,mBAAS,IAAnC,mBAAOmH,EAAP,KACA,GADA,KACmCnH,mBAAS,KAA5C,mBAAOiT,EAAP,KAAoBC,EAApB,KACA,EAA8BlT,oBAAS,GAAvC,mBAAO8J,EAAP,KAAgBqJ,EAAhB,KACMC,EAAc,SAAClV,EAASG,GAC5B,IAAMgV,GAAY,IAAIC,MAAOC,cAEvBC,EAAa,CACjBC,WAFgBtB,GAAK,GAAD,OAAIjU,GAAJ,OAAcF,GAAd,OAAqBqV,IAGzC/U,SAAUD,EACVL,OACAE,UACAmV,aAEFJ,EAAYS,QAAQF,GlB2KjB,SAAoBzW,GACzB,OAAOH,IAAM,CACXC,OAAQ,OACRC,IAAI,oBAAD,OAAsBC,EAAKiB,MAC9BjB,KAAM,CACJ4W,UAAW5W,EAAK0W,WAChBpV,QAAStB,EAAKuB,SACdJ,QAASnB,EAAKmB,QACdmV,UAAWtW,EAAKsW,akBlLlBO,CAAWJ,GAAY/Q,MAAK,SAAC8G,GAC3B5G,QAAQC,IAAI2G,EAAIxD,SlBkNf,SAA6B1H,EAASwV,GAC3C,OAAOjX,IAAM,CACXC,OAAQ,MACRC,IAAI,uBAAD,OAAyBuB,GAC5BtB,KAAM,CACJ+U,SAAU+B,KkBtNVC,CAAoBnW,EAAIiV,EAAc,GAAGnQ,MAAK,SAAC+G,GAC7C7G,QAAQC,IAAI4G,EAAOzD,SACnB8M,EAAeD,EAAc,MAC5B9P,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,eACjCjD,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,aAE9B2K,EAAO,yCAAG,uBAAAC,EAAA,sEACR5S,EAAUhB,EAAKiB,MAAMyE,MAAK,SAAC8G,GAC/BgH,EAAUhH,EAAIxM,KAAKuT,OAAO,GAAGhJ,oBAC5BxE,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAJJ,uBAMR5G,EAAQnB,EAAMjB,EAAKuB,UAAUmE,MAAK,SAAC8G,GACnCA,EAAIxM,KAAKgX,KAAKnE,OAChB4C,GAAU,GAEVA,GAAU,MAEX1P,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAbJ,uBAeRtH,EAAuB1B,EAAKuB,UAAUmE,MAAK,SAAC8G,GAChD,IAAQuI,EAAavI,EAAIxM,KAAjB+U,SACRoB,EAAYpB,MACXhP,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAlBpB,uBAmBR3G,EAAUzB,GAAI8E,MAAK,SAAC8G,GACxB5G,QAAQC,IAAI2G,EAAIxM,SACf+F,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YArBpB,2CAAH,qDAgCPsK,EAAsB,SAAC2D,GAC3B,IlB8L0BjD,EkB9LpBkD,EAAUhB,EAAYiB,QAAO,SAACC,GAAD,OAAaA,EAAQtD,UAAYmD,KACpEd,EAAYe,IlB6LclD,EkB5LZiD,ElB6LTpX,IAAM,CACXC,OAAQ,SACRC,IAAI,6BAAD,OAA+BiU,MkB/LbtO,MAAK,SAAC8G,GACzB5G,QAAQC,IAAI2G,GACZsJ,EAAeD,EAAc,MAC5B9P,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,aAmCpCiC,qBAAU,cACP,CAACb,IAEJa,qBAAU,WACR0I,MACC,IAEH,IAAM1H,GAAQjM,EAAKoB,WAAW8K,MAAM,KAAM,GACpCmL,GAAS,wBAAoB9D,GAC7B+D,GAAQ,wBAAoBtX,EAAKmB,SACvC,OACE,mCACE,sBAAKiD,MAAO,CAAE2I,QAASA,EAAU,QAAU,QAAUnM,GAAG,kBAAxD,UACE,sBAAKuD,UAAU,eAAf,UACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,eAAevD,GAAG,uBAAuBgK,IAAKyM,GAAW1M,IAAI,OAE9E,sBAAKxG,UAAU,aAAf,UACE,sBACEC,MAAO,CACLoN,SAAU,OACVC,WAAY,QAEd7Q,GAAG,kBALL,SAQGZ,EAAKiB,OAER,sBAAMmD,MAAO,CAAEoN,SAAU,QAAU5Q,GAAG,OAAtC,SACGqL,WAIP,qBAAKrL,GAAG,OAAR,SACE,cAACmK,GAAA,EAAD,CAASpB,MAAO+J,EAAU,cAAgB,YAAa1I,UAAU,MAAjE,SACE,cAACgF,GAAA,EAAD,CACE5L,MAAO,CACLgJ,aAAc,MACdO,QAAS,IACT/G,MAAO,WAET/B,QAtFuB,WACjCuR,GAAW,GACXb,EAAa3U,EAAI8S,IA8ET,SAQE,cAAC,KAAD,CAAkB9S,GAAIZ,EAAKuB,iBAIjC,cAAC2P,GAAA,EAAD,CAASR,QAAQ,WACjB,qBAAKvM,UAAU,gBAAf,SACE,qCACiB,SAAdnE,EAAKqB,MACN,mBAAG+C,MAAO,CAAEmT,UAAW,QAAvB,SACGvX,EAAKmB,UAGO,UAAdnB,EAAKqB,MAEN,wBAAO8C,UAAU,cAAcqT,UAAQ,EAAvC,UACG,IACD,wBAAQ5M,IAAK0M,QAGA,SAAdtX,EAAKqB,MAEN,uBAAOmW,UAAQ,EAAf,SACE,wBAAQ5M,IAAK0M,OAGA,YAAdtX,EAAKqB,MAAsB,qBAAK8C,UAAU,cAAcvD,GAAG,sBAAsBgK,IAAK0M,GAAU3M,IAAI,UAIzG,cAACuG,GAAA,EAAD,CAASR,QAAQ,WACjB,qBAAKvM,UAAU,UAAf,SACE,cAAC,GAAD,CAAckO,cA3HA,SAACzK,EAAO6P,GACd,KAAV7P,GACJyO,EAAYzO,EAAOhH,QA2Hf,sBACEuD,UAAU,eACVC,MAAO,CACLwJ,OAAQoI,EAAS,QAAU,QAC3BjJ,QAAS8I,EAAc,EAAI,QAAU,QAJzC,UAOE,qBAAKzR,MAAO,CACVmD,OAAQ,OACRgQ,UAAW,SACX9F,WAAY,OACZ7K,MAAO,WAJT,SAOE,+BAAyB,IAAhBiP,EAAD,UAAyBA,EAAzB,aAAkD,eAE5D,qBAAKzR,MAAO,CACVmD,OAAQ,OAAQlD,MAAO,MAAOuJ,OAAQ,QADxC,SAIE,oBACEhN,GAAE,cAASA,GACXwD,MAAO,CACLsT,WAAY,SAAUvC,cAAe,QAHzC,SAMGe,EAAYvK,KAAI,SAACyL,GAAD,OACf,oBAAIhT,MAAO,CAAEuT,aAAc,QAA3B,SACE,cAAC,GAAD,CAAkB3X,KAAMoX,EAAS9D,oBAAqBA,KADd8D,EAAQtD,mBAO1D,sBAAK3P,UAAU,eAAf,UACE,sBAAKA,UAAU,QAAf,UACE,cAAC6L,GAAA,EAAD,CACEnL,QA9IO,WACb2Q,ElB+WD,SAAqBvU,EAAMK,GAChC,IAAMY,EAAM,4BAAwBjB,EAAxB,KACZ,OAAOpB,IAAM,CACXC,OAAQ,MACRC,IAAKmC,EACLlC,KAAM,CACJ4X,QAAStW,KkBpXTuW,CAAY5W,EAAML,GAAI8E,MAAK,SAAC8G,GACP,MAAfA,EAAIzD,QACN/G,EAAiBpB,EAAIuB,EAAQ,GAAGuD,MAAK,SAAC+G,GACpC7G,QAAQC,IAAI4G,EAAOzD,SACnB2M,EAASxT,EAAQ,MAChB4D,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YlByUjB,SAAmB/H,EAAMK,GAC9B,IAAMT,EAAM,0BAAsBI,EAAtB,KACZ,OAAOpB,IAAM,CACXC,OAAQ,OACRC,IAAKc,EACLb,KAAM,CACJ4X,QAAStW,KkB5UTwW,CAAU7W,EAAML,GAAI8E,MAAK,SAAC8G,GACxBxK,EAAiBpB,EAAIuB,EAAQ,GAAGuD,MAAK,SAAC+G,GACpC7G,QAAQC,IAAI4G,GACZkJ,EAASxT,EAAQ,MAChB4D,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAEjBjD,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAGpByM,GAAWD,IAqHDpR,MAAO,CACLgJ,aAAc,MACdO,QAAS,IACT/G,MAAO4O,EAAc,MAAQ,SALjC,SAQE,cAAC,KAAD,MAEF,sBAAMpR,MAAO,CAAEwC,MAAO,WAAtB,mBAAuCzE,EAAvC,eAEF,qBAAKiC,MAAO,CAAE2I,QAAS2G,EAAU,QAAU,QAAUvP,UAAU,YAA/D,SACE,cAACuQ,GAAD,CACEpT,QAAStB,EAAKuB,aAGlB,qBAAK4C,UAAU,WAAf,SACE,wBAAQU,QAAS,WAjKzBoR,GAAWD,IAiKmCpV,GAAG,kBAAkBS,KAAK,SAAhE,SAA2E2U,EAAuB,YAAd,wB,gBC/O1F/M,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvC4O,OAAQ,CACNxQ,OAAQ4B,EAAM2D,QAAQ,QAIpBsI,GAAOC,EAAQ,IAEN,SAAS2C,KACtB,IAAMlU,EAAUC,cAEhB,EAAgBd,mBAAS,IAAIgV,KAAtB7N,EAAP,oBACA,EAA4BnH,oBAAS,GAArC,mBAAOiV,EAAP,KAAeC,EAAf,KACA,EAA0BlV,mBAAS,KAAnC,mBAAOsP,EAAP,KAAcC,EAAd,KACA,EAAoBvP,mBAAS,IAAImV,KAA1BC,EAAP,oBACMpO,EAAUhB,KACVhI,EAAOjC,+BAOPsZ,EAAqB,SAAC1X,EAAI8S,GAC1BA,EACF7R,EAAYjB,GAAI8E,MAAK,SAAC8G,GACpB+L,OAAOC,SAASC,SAChB7S,QAAQC,IAAI,mBAAoB2G,EAAIxD,SACpCmP,GAAU,GACVvS,QAAQC,IAAI,WAAYwS,EAAUK,OAAOtO,EAAMuO,IAAI/X,KACnDwJ,EAAMsO,OAAO9X,MACZmF,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAIlBlH,EAAUlB,EAAIK,GAAMyE,MAAK,SAAC8G,GACxB+L,OAAOC,SAASC,SAChBJ,EAAUK,OAAOtO,EAAMuO,IAAI/X,IAC3BwJ,EAAMsO,OAAO9X,GACbuX,GAAU,MAETpS,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,OAIlCkD,qBAAU,WACRrF,QAAQC,IAAI,aACZsS,GAAU,KACT,CAACD,IACJ,IAoCMvE,EAAO,yCAAG,uBAAAC,EAAA,sDACdvT,EAAeY,GAAMyE,MAAK,SAAC8G,GACNA,EAAIxM,KAAf4Y,OACD3H,SAAQ,SAACxM,GACd,IAAMoU,EAAQ,qBAAK1U,UAAU,aAAf,SAA4B,cAACmR,GAAD,CAAOC,aAAc+C,EAAoBtY,KAAMyE,MACzF4T,EAAUS,IAAID,GACdzO,EAAM2O,IAAItU,EAAElD,SAAUsX,MAExBV,GAAU,MACTpS,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,MAThB,2CAAH,qDAWbkD,qBAAU,WACR0I,MACC,IA4KH,OACE,sBAAKxP,UAAU,mBAAf,UACE,sBACEC,MAAO,CACL0C,gBAAiB,QACjB8G,OAAQ,cACRR,aAAc,OAEhBjJ,UAAU,WANZ,UAQE,qBACEC,MAAO,CACLC,MAAO,MACP2U,WAAY,MACZzR,OAAQ,QAJZ,SAOE,cAACH,EAAA,EAAD,CACEqL,WAAS,EACT7R,GAAG,QACH4G,MAAM,wBACNkJ,QAAQ,WACRhJ,WAAU,UAAK6K,EAAL,oBACVI,WAAY,CAAEC,UAAW,KACzBpO,SAAU,SAACC,GAAD,OAtRC,SAACA,GACpB,GAAKA,EAAEC,OAAOC,MAAOkO,QAAU,EAAG,CAChC,IAAMC,EAAI,IAAOrO,EAAEC,OAAOC,MAAOkO,OACjCL,EAASM,IAmRcC,CAAatO,IAC9BgD,WAAS,MAIb,sBACErD,MAAO,CACL0C,gBAAiB,QACjBsG,aAAc,OAEhBjJ,UAAU,UALZ,UAOE,cAACqE,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNzC,UAAW8F,EAAQ8N,OACnBlT,QAlNY,WACpBf,EAAQgC,KAAK,eAkNLmT,UAAW,cAAC,KAAD,IALb,qBASA,cAACzQ,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QA/DiB,WACzBoB,SAASC,eAAe,oBAAoBgT,SAwDtC,mBAUA,cAAC1Q,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QArEe,WACvBoB,SAASC,eAAe,kBAAkBgT,SA8DpC,mBAUA,cAAC1Q,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QA3Ec,WACtBoB,SAASC,eAAe,iBAAiBgT,SAoEnC,kBAWA,cAAC1Q,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNzC,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QA9SQ,WAChB2N,EAAS,KACT,IAAM5K,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,GAGU,IAAjBA,EAAMiL,OAAV,CACA,IAAMsG,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAoBvCjY,EAnBiB,CACfD,OACAM,SAAUD,EACVD,KAAM,OACNF,QAASyG,EACTxG,WAAY+X,EACZzD,YAAa,IAaIhQ,MAAK,SAAC8G,GACvB5G,QAAQC,IAAI2G,EAAIxD,SAChBuP,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,cAyQZ,yBASA,uBACE7E,UAAU,aACViV,OAAO,iBACPxY,GAAG,mBACHS,KAAK,OACLmD,SAhQU,SAACC,GAEnB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,oBAAoBvB,MAC7D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEvCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GAmBLvL,EAjBiB,CACfD,OACAM,SAAUD,EACVD,KAAM,UACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5BoB,WAAY+X,EACZzD,YAAa,IAWIhQ,MAAK,SAAC8G,GACvB5G,QAAQC,IAAI2G,EAAIxD,SAChBuP,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QAiNRyS,QAAM,IAER,uBACE3V,UAAU,aACVvD,GAAG,iBACHS,KAAK,OACLmD,SAnNQ,SAACC,GAEjB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,kBAAkBvB,MAC3D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEvCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GAkBLvL,EAjBiB,CACfD,OACAM,SAAUD,EACVD,KAAM,QACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5BoB,WAAY+X,EACZzD,YAAa,IAWIhQ,MAAK,SAAC8G,GACvB5G,QAAQC,IAAI2G,EAAIxD,SAChBuP,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QAqKRyS,QAAM,IAER,uBACE3V,UAAU,aACVvD,GAAG,gBACHS,KAAK,OACLmD,SAvKO,SAACC,GAEhB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,iBAAiBvB,MAC1D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEvCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GAkBLvL,EAjBiB,CACfD,OACAM,SAAUD,EACVD,KAAM,OACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5BoB,WAAY+X,EACZzD,YAAa,IAWIhQ,MAAK,SAAC8G,GACvB+L,OAAOC,SAASC,SAChB7S,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QAyHRyS,QAAM,UAIZ,8BACGzB,O,OCtYM,SAAS0B,KACtB,IAAMpa,EAAWX,+BACjB,EAAwBiE,mBAAS,CAAC,KAAlC,mBAAOoO,EAAP,KAAa2I,EAAb,KACA,EAAkC/W,mBAAS,IAAImV,KAA/C,mBAAOpH,EAAP,KAAkBiJ,EAAlB,KACA,EAAkChX,oBAAS,GAA3C,mBAAOiX,EAAP,KAAkBC,EAAlB,KAEA,EAAgClX,mBAAS,GAAzC,mBAAOmX,EAAP,KAAiBC,EAAjB,KAQApP,qBAAU,WACRzK,EAAeb,GAAU+F,MAAK,SAAC+G,GAC7B7G,QAAQC,IAAI4G,EAAOzM,KAAKA,KAAK,IAC7Bga,EAAQvN,EAAOzM,KAAKA,KAAK,IACzB,IAAMN,EAAc,IAAI0Y,IAAK3L,EAAOzM,KAAKgR,UAAWrF,KAAI,SAAC2O,GAAD,OAASA,EAAIra,aACrEga,EAAava,MACZqG,OAAM,SAACsB,GACRzB,QAAQC,IAAIwB,EAAM2B,YAEpBmR,GAAa,KAEZ,IAgBH,OAAOD,EACL,qBAAK/V,UAAU,UAAf,SACE,sBACEC,MAAO,CACLC,MAAO,MAAOkD,OAAQ,QAF1B,UAKE,sBAAKnD,MAAO,CAAE+I,SAAU,WAAYmD,IAAK,OAASnM,UAAU,OAA5D,UACE,cAAC,GAAD,IACA,cAAC,GAAD,CAASnE,KAAMqR,EAAMpQ,KAAMtB,OAE7B,sBAAKwE,UAAU,YAAf,UACE,sBAAKA,UAAU,aAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,cAAC,GAAD,CAEE6M,UAAWA,EACXvR,YA/BY,SAACC,GACzBua,EAAa,GAAD,mBAAKjJ,GAAL,CAAgBtR,KAC5B2a,EAAYE,KAAKC,MAAsB,IAAhBD,KAAKE,WAC5Bhb,EAAYC,EAAaC,IA6BbO,eA1Be,SAACD,GAC5B,IAAMya,EAAO1J,EACb0J,EAAKhC,OAAOzY,GACZga,EAAaS,GACbL,EAAYE,KAAKC,MAAsB,IAAhBD,KAAKE,WAC5Bva,EAAeD,EAAUN,KAkBRya,KAMT,qBAAKjW,UAAU,eAAf,SACE,cAAC8N,GAAD,MAEF,qBAAK9N,UAAU,iBAAf,SACE,cAAC,GAAD,SAGJ,qBAAKA,UAAU,cAAf,SACE,cAAC6T,GAAD,cAMN,wBCjFS,SAAS2C,KACtB,IAAM7W,EAAUC,cAChB,EAAgCd,mBAAS,IAAzC,mBAAOtD,EAAP,KAAiBib,EAAjB,KACA,EAAgC3X,mBAAS,IAAzC,mBAAOqC,EAAP,KAAiBuV,EAAjB,KACA,EAAoD5X,mBAAS,GAA7D,mBAAO6X,EAAP,KAA2BC,EAA3B,KACA,EAA0D9X,mBAAS,IAAnE,mBAAO+X,EAAP,KAA8BC,EAA9B,KAEA,EAAoBhY,oBAAS,GAAxBiY,EAAL,oBAEAlX,IAAMC,SAASC,iBAAkB,EAEjC+G,qBAAU,kBAAM8P,EAAsBD,KAAqB,CAACA,IAC5D7P,qBAAU,kBAAMrF,QAAQC,IAAR,wCAA6CmV,MAA0B,CAACA,IAExF/P,qBAAU,kBAAMrF,QAAQC,IAAR,8BAAmCqV,MAAgB,CAACA,IA+GpE,OACE,qBAAK/W,UAAU,2BAA2BC,MAAO,CAAEC,MAAO,SAA1D,SACE,qBAAKF,UAAU,iBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,0CAAd,oBACA,sBAAKA,UAAU,aAAf,UACE,8CACA,uBACEvD,GAAG,oBACH2D,YAAY,iBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOmW,EAAYnW,EAAEC,OAAOC,aAG1C,sBAAKR,UAAU,aAAf,UACE,8CACA,uBACEvD,GAAG,oBACHS,KAAK,WACLkD,YAAY,iBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOoW,EAAYpW,EAAEC,OAAOC,aAG1C,qDAEE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMwB,GAAG,iBAAT,uCAGJ,qBAAKhC,UAAU,yBAAf,SACE,wBACE9C,KAAK,SACL8C,UAAU,wBACVU,QA/IS,WAEnB+V,EAAYjb,GrBsUS,SAACuD,EAAaoC,GASrC,OARYzF,IAAM,CAChBC,OAAQ,OACRC,IAAK,aACLC,KAAM,CACJL,SAAUuD,EACVoC,cqB3UF6V,CAAUxb,EAAU2F,GAAUI,MAAK,SAACC,GAClCxG,aAAaiG,QAAQ,WAAYnG,KAAKoG,UAAU1F,IrBsF/C,SAA2BiB,EAAIiH,GACpC,IAAMzH,EAAM,kCAA8BQ,GAC1C,OAAOf,IAAM,CACXC,OAAQ,MACRC,IAAKK,EACLJ,KAAM,CACJsF,SAAUuC,KqB1FVuT,CAAkBzb,EAAU2F,GAAUI,MAAK,eACxCK,OAAM,SAACsV,GACRzV,QAAQC,IAAIwV,MrBiciB,SAAC1b,GAKpC,OAJYE,IAAM,CAChBC,OAAQ,MACRC,IAAI,2BAAD,OAA6BJ,KqBlc9B2b,CAAsB3b,GAAU+F,MAAK,SAAC6V,GAGpC,GAFA3V,QAAQC,IAAI,sBAAuB0V,EAAOvb,KAAKgJ,SAEpB,OAAvBuS,EAAOvb,KAAKgJ,QAAkB,CAChC,IAAIwS,EAD4B,EAEJ,CAACC,MAAMC,KAAKH,EAAOvb,KAAKA,MAAM,GAAG2b,sBAC7DZ,EADCS,EAF+B,MrBgdF,SAAC7b,GAKvC,OAJYE,IAAM,CAChBC,OAAQ,MACRC,IAAI,8BAAD,OAAgCJ,KqB9c7Bic,CAAyBjc,GAAU+F,MAAK,SAACmW,GACvC,IAAIC,EAD8C,EAErB,CAACL,MAAMC,KAAKG,EAAO7b,KAAKA,MAAM,GAAG+b,sBAI9D,GADAd,EAHCa,EAFiD,MAM9CN,EAA0B,EAAG,CAK/BN,GAAc,EACd,IAAMc,EAAc,IAAIzF,KAAKuF,GACV,IAAIvF,KAASyF,EACZ,OAKlBd,GAAc,EAEd3Y,EAAyB5C,EAAU,GAAGoG,OAAM,SAACtB,GAC3CmB,QAAQC,IAAIpB,OAOlB,IAAoB,IAAhByW,EACF,GAAIvV,EAAS3F,KAAKgJ,QAAS,CAEqB,IAA1CiT,SAAST,EAAyB,KrBmbxB,SAAC7b,GAEtBE,IAAM,CACXC,OAAQ,OACRC,IAHa,sBAIbC,KAAM,CACJL,cqBxbYuc,CAAevc,GAGjB,IAAMwc,EAA4BF,SAAST,EAAyB,IAAM,EAC1ExV,MAAM,4BAAD,OAA6B,EAAImW,EAAjC,6CACL5Z,EAAyB5C,EAAWwc,GACjCpW,OAAM,SAACtB,GACNmB,QAAQC,IAAIpB,MAIhBuB,MAAML,EAAS3F,KAAKgJ,SACpBlF,EAAQgC,KAAK,UACbG,SAASC,eAAe,qBAAqBvB,MAAQ,GACrDsB,SAASC,eAAe,qBAAqBvB,MAAQ,QAErDpC,EAAyB5C,EAAU,GAAGoG,OAAM,SAACtB,GAC3CmB,QAAQC,IAAIpB,MAWdX,EAAQgC,KAAK,cAKfE,MAAM,mGACNlC,EAAQgC,KAAK,UACbG,SAASC,eAAe,qBAAqBvB,MAAQ,GACrDsB,SAASC,eAAe,qBAAqBvB,MAAQ,MAEtDoB,OAAM,SAACtB,GACRmB,QAAQC,IAAIpB,WAIduB,MAAM,sBACNlC,EAAQgC,KAAK,UACbG,SAASC,eAAe,qBAAqBvB,MAAQ,GACrDsB,SAASC,eAAe,qBAAqBvB,MAAQ,MAEtDoB,OAAM,SAACtB,GACRmB,QAAQC,IAAIpB,GACZuB,MAAM,sBACNC,SAASC,eAAe,qBAAqBvB,MAAQ,GACrDsB,SAASC,eAAe,qBAAqBvB,MAAQ,UAqCjD,sBAQF,2DAEE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMwB,GAAG,gBAAT,kC,cCzKC,SAASiW,KACtB,IAAMtY,EAAUC,cAChB,EAA4Bd,mBAAS,IAArC,mBAAOsQ,EAAP,KAAeC,EAAf,KAKMvS,EAAOjC,+BAab,OAXAiM,qBAAU,WACRjK,EAAUC,GAAMyE,MAAK,SAAC8G,GACpBgH,EAAUhH,EAAIxM,KAAKuT,OAAO,GAAGhJ,oBAC5BxE,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,cAEjB,IAEHiC,qBAAU,cACP,CAACsI,IAGF,cAAC,IAAD,UACE,sBAAKpP,UAAU,UAAf,UACE,qBAAKC,MAAO,CAAEuT,aAAc,OAASxT,UAAU,YAA/C,SACE,wBAAQA,UAAU,iBAAiBU,QArBvB,WAElBf,EAAQgC,KADK,aAoBkDzE,KAAK,SAA9D,SACE,sBAAK8C,UAAU,aAAf,UACE,qBAAKA,UAAU,UAAf,SACE,qBAAKvD,GAAG,MAAM+J,IAAI,GAAGC,IAAG,wBAAmB2I,OAE7C,qBAAKpP,UAAU,eAAf,SACE,sBAAMA,UAAU,OAAhB,SAAwBlD,aAKhC,qBAAKmD,MAAO,CAAEuT,aAAc,OAA5B,SACE,cAAC1F,GAAD,W,OC9BK,SAASoK,KACtB,IAAMpb,EAAOjC,+BACb,EAA8BiE,mBAAS,IAAvC,mBAAOqZ,EAAP,KAAgBC,EAAhB,KAEA,EAAuCtZ,mBAAS,IAAImV,KAApD,mBAAOoE,EAAP,KAAqBC,EAArB,KA2BAxR,qBAAU,WAVRlK,EAAoBE,GAAMyE,MAAK,SAAC8G,GAC9BiQ,GAAe,kBAAM,IAAIrE,IAAI,CAAC5L,EAAIxM,KAAK0L,QAAQC,KAAI,SAAClH,GAAD,OAAOA,EAAE9E,oBAC3DoG,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,cAUjC,IAEH,IAAM+J,EAAe,SAACtO,GvBkVI,IAAC9E,EAAUiI,EuBjVZ,KAAnBnD,EAAEC,OAAOC,OvBiVYhF,EuB7UZsB,EvB6UsB2G,EuB7UhBnD,EAAEC,OAAOC,MvB8U9BiB,QAAQC,IAAR,wBAA6BlG,EAA7B,2BAAyDiI,EAAzD,iBACgB/H,IAAM,CACpBC,OAAQ,MACRC,IAAI,eAAD,OAAiBJ,EAAjB,YAA6BiI,MuBjVGlC,MAAK,SAAC+G,GACvC7G,QAAQC,IAAR,iBAAsBpB,EAAEC,OAAOC,MAA/B,cAA0C1D,IAC1Csb,EAAW9P,EAAOzM,KAAK0L,SACvB9F,QAAQC,IAAI4G,EAAOzM,KAAK0L,YACvB3F,OAAM,SAACsB,GACRzB,QAAQC,IAAIwB,EAAM2B,YARlBuT,EAAW,KAYTG,EAAa,SAACrL,GAClB,IAAMtI,EAASsI,EAAKsL,SACdC,EAASvL,EAAK1R,WAAasB,EAC3BqL,EAAUkQ,EAAaK,IAAIxL,EAAK1R,UACtC,OACE,sBAAKwE,UAAU,aAAf,UACE,qBAAKA,UAAU,YAAf,SACE,qBAAKvD,GAAG,aAAagK,IAAG,wBAAmByG,EAAK9G,iBAAmBI,IAAI,OAEzE,sBAAKxG,UAAU,cAAf,UACE,sBAAMC,MAAO,CAAEwC,MAAO,UAAW6K,WAAY,QAA7C,SACGJ,EAAK1R,WAER,sBAAMyE,MAAO,CAAEqN,WAAY,WAA3B,SACGJ,EAAKsL,SAAW,YAAc,wBAGnC,qBAAKxY,UAAU,YAAf,SACE,sCACK4E,IAAW6T,GACZ,cAAC7R,GAAA,EAAD,CAASpB,MAAM,SAASqB,UAAU,MAAlC,SACE,cAAC,KAAD,CAAe5G,MAAO,CAAEmD,OAAQ,OAASiK,SAAS,QAAQrN,UAAU,SAASU,QAAS,kBAhE9ElF,EAgEiG0R,EAAK1R,cA/D1HgC,EAAWV,EAAMtB,GAAU+F,MAAK,SAAC8G,GAC/B5G,QAAQC,IAAI2G,EAAIxD,SAChBvI,EAAaQ,GAAMyE,MAAK,SAAC+G,GACvB7G,QAAQC,IAAI4G,EAAOzM,KAAK4L,iBAJT,IAACjM,OAmEV2M,IAAYsQ,GACZ,cAAC7R,GAAA,EAAD,CAASpB,MAAM,UAAUqB,UAAU,MAAnC,SACE,cAAC,IAAD,CAAc7G,UAAU,SAASC,MAAO,CAAEmD,OAAQ,OAASiK,SAAS,YAItEzI,IAAW6T,GACX,cAAC7R,GAAA,EAAD,CAASpB,MAAM,WAAWqB,UAAU,MAApC,SACE,cAAC,KAAD,CAAuB5G,MAAO,CAAEmD,OAAQ,OAASiK,SAAS,QAAQrN,UAAU,SAASU,QAAS,kBAvDjFlF,EAuDyG0R,EAAK1R,cAtDvIiC,EAAaX,EAAMtB,GAAU+F,MAAK,SAAC8G,GACjC5G,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAHV,IAACrJ,QA2Dfid,GACF,cAAC7R,GAAA,EAAD,CAASpB,MAAM,QAAQqB,UAAU,MAAjC,SACE,cAAC,KAAD,CAAW5G,MAAO,CAAEmD,OAAQ,OAASiK,SAAS,QAAQrN,UAAU,SAASyC,MAAM,YAAY/B,QAAS,kBAxE3FlF,EAwE6G0R,EAAK1R,cAvErIgB,EAAcM,EAAMtB,GAAU+F,MAAK,SAAC8G,GAClC5G,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAHhB,IAACrJ,gBAiFrB,OACE,gCACE,cAACyH,EAAA,EAAD,CACEqL,WAAS,EACT7R,GAAG,QACH4G,MAAM,qBACNkJ,QAAQ,WACRiC,WAAY,CAAEC,UAAW,KACzBpO,SAAU,SAACC,GAAD,OAAOsO,EAAatO,IAC9BgD,WAAS,IAEX,qBAAKtD,UAAU,aAAf,SACGmY,EAAQ3Q,KAAI,SAAClH,GAAD,OAAQiY,EAAWjY,WCrHzB,SAASqY,KACtB,IAAM7b,EAAOjC,+BACb,EAAsCiE,mBAAS,IAA/C,mBAAO8Z,EAAP,KAAoBC,EAApB,KACMrJ,EAAO,yCAAG,uBAAAC,EAAA,sEACRtR,EAAerB,GAAMyE,MAAK,SAAC+G,GACJ,IAAvBsQ,EAAYlK,OACdkK,EAAYjX,KAAK2G,EAAOzM,KAAK+c,YAAY,IAEzCC,EAAevQ,EAAOzM,KAAK+c,gBAE5BhX,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAPpB,2CAAH,qDASPiU,EAAU,yCAAG,WAAOtd,GAAP,gBAAAiU,EAAA,6DACXsJ,EAAWH,EAAY5F,QAAO,SAAC1S,GAAD,OAAOA,EAAE9E,WAAaA,KADzC,SAEX2C,EAAerB,GAAMyE,MAAK,SAAC+G,GAC/ByQ,EAASpX,KAAK2G,EAAOzM,KAAK+c,YAAY,OACrChX,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,YAJjB,OAKjBgU,EAAeE,GALE,2CAAH,sDAQhBjS,qBAAU,WACR0I,MACC,IAGH,IAAMrC,EAAU,SAAC3R,GACfsd,EAAWtd,GACXgB,EAAcM,EAAMtB,GAAU+F,MAAK,SAAC8G,GAClC5G,QAAQC,IAAI2G,EAAIxD,aAIduI,EAAU,SAAC5R,GACfsd,EAAWtd,GACXgC,EAAWV,EAAMtB,GAAU+F,MAAK,SAAC8G,GAC/B5G,QAAQC,IAAI2G,EAAIxD,aAIpB,OACE,sBAAK7E,UAAU,gBAAf,UACE,qBAAKC,MAAO,CAAEwC,MAAO,WAAazC,UAAU,QAA5C,yBACA,uBACA,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,aAAf,SACG4Y,EAAYpR,KAAI,SAAClH,GAAD,OAAO,cAAC,GAAD,CAAU4M,KAAM5M,EAAG6M,QAASA,EAASC,QAASA,c,cCpC1EtI,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvC4O,OAAQ,CACNxQ,OAAQ4B,EAAM2D,QAAQ,QAIX,SAASqQ,GAAT,GAAmC,IAAbC,EAAY,EAAZA,SAEjCC,EACED,EADFC,UAAWC,EACTF,EADSE,YAAaC,EACtBH,EADsBG,UAAWC,EACjCJ,EADiCI,SAErC,EAA0Bva,mBAAS,KAAnC,mBAAOsP,EAAP,KAAcC,EAAd,KAIM1O,EAAUC,cACVkG,EAAUhB,KAgBhB,OACE,qBAAK9E,UAAU,mBAAf,SACE,sBACEC,MAAO,CACL0C,gBAAiB,QACjB8G,OAAQ,cACRR,aAAc,OAEhBjJ,UAAU,WANZ,UAQE,qBACEC,MAAO,CACLC,MAAO,MACP2U,WAAY,MACZzR,OAAQ,QAJZ,SAOE,cAACH,EAAA,EAAD,CACEqL,WAAS,EACT7R,GAAG,QACH4G,MAAM,wBACNkJ,QAAQ,WACRhJ,WAAU,UAAK6K,EAAL,oBACVI,WAAY,CAAEC,UAAW,KACzBpO,SAAU,SAACC,GAAD,OA5CC,SAACA,GACpB+N,EAAS,IAAO/N,EAAEC,OAAOC,MAAOkO,QA2CPE,CAAatO,IAC9BgD,WAAS,MAGb,8BACE,cAACL,EAAA,EAAD,CACExG,GAAG,SACH4G,MAAM,0BACNkJ,QAAQ,eAIZ,sBACEtM,MAAO,CACL0C,gBAAiB,QACjBsG,aAAc,OAEhBjJ,UAAU,UALZ,UAOE,cAACqE,EAAA,EAAD,CACEiV,KAAK,QACL/M,QAAQ,YACR9J,MAAM,YACNzC,UAAW8F,EAAQ8N,OACnBlT,QA/DY,WACpBf,EAAQgC,KAAK,eA+DLmT,UAAW,cAAC,KAAD,IANb,qBAUA,cAACzQ,EAAA,EAAD,CACEiV,KAAK,QACL/M,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QAvEiB,WACzBoB,SAASC,eAAe,8BAA8BgT,SA+DhD,mBAWA,cAAC1Q,EAAA,EAAD,CACEiV,KAAK,QACL/M,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QA9Ee,WACvBoB,SAASC,eAAe,kBAAkBgT,SAsEpC,mBAWA,cAAC1Q,EAAA,EAAD,CACEiV,KAAK,QACL/M,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QArFc,WACtBoB,SAASC,eAAe,iBAAiBgT,SA6EnC,kBAYA,cAAC1Q,EAAA,EAAD,CACEiV,KAAK,QACL/M,QAAQ,YACR9J,MAAM,YACNzC,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QAASwY,EANX,yBAUA,uBACElZ,UAAU,aACViV,OAAO,iBACPxY,GAAG,6BACHS,KAAK,OACLmD,SAAU8Y,EACVxD,QAAM,IAER,uBACE3V,UAAU,aACVvD,GAAG,iBACHS,KAAK,OACLmD,SAAU+Y,EACVzD,QAAM,IAER,uBACE3V,UAAU,aACVvD,GAAG,gBACHS,KAAK,OACLmD,SAAUgZ,EACV1D,QAAM,YC7IlB,IAAM1E,GAAOC,EAAQ,IAEN,SAASqI,KAEtB,MAA8Bza,oBAAS,GAAvC,mBAAO0a,EAAP,KAAgBC,EAAhB,KAEA,EAA8B3a,oBAAS,GAAvC,mBACA,GADA,UACkCA,mBAAS,KAA3C,mBAAO4a,EAAP,KAAkBC,EAAlB,KAEA,EAAoC7a,mBAAS,GAA7C,mBAAO8a,EAAP,KAAmBC,EAAnB,KAEA,EAA0B/a,mBAAS,IAAnC,mBAAcuP,GAAd,WACMyL,EAAW5S,mBAKX6S,EAAeC,uBAAY,SAACC,GAC5BT,IACAM,EAAS1S,SAAS0S,EAAS1S,QAAQ8S,aACvCJ,EAAS1S,QAAU,IAAI+S,sBAAqB,SAACC,GACvCA,EAAQ,GAAGC,gBACbR,GAAc,SAACS,GAAD,OAAoBA,EAAiB,QAGnDL,GAAMH,EAAS1S,QAAQmT,QAAQN,MAClC,CAACT,IACE1c,EAAOjC,+BAGP2U,EAAO,yCAAG,uBAAAC,EAAA,sDACdrT,EAAcU,GAAMyE,MAAK,SAAC8G,GAExB5G,QAAQC,IAAI,SAAU2G,EAAIxM,KAAKuS,MAAM,GAAG,GAAGoM,UAC1C5Y,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,MAJhB,2CAAH,qDAMbkD,qBAAU,WACR0I,MACC,IACH1I,qBAAU,WACR2S,GAAW,G1BdR,SAAiCje,EAAUoe,EAAYa,GAC5D,IAAMte,EAAM,4BAAwBX,GACpC,OAAOE,IAAM,CACXC,OAAQ,MACRC,IAAKO,EACLue,OAAQ,CAAEC,KAAMf,EAAYa,W0BU5BG,CAAwB9d,EAAM8c,EAAY,IAAIrY,MAAK,SAAC8G,GAClDsR,GAAa,SAACkB,GAAD,4BAAoBA,GAApB,YAAmCxS,EAAIxM,KAAK4Y,OAAO,QAChEgF,GAAW,MACV7X,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,QAC7B,CAACgW,IAEJ,IAyJMkB,EAAW,yCAAG,WAAOre,GAAP,UAAAgT,EAAA,sEACZkK,GAAa,SAACkB,GAAD,OAAgBA,EAAW7H,QAAO,SAAC1S,GAAD,OAAOA,EAAElD,WAAaX,QADzD,2CAAH,sDAGX0X,EAAqB,SAAC1X,EAAI8S,GAC1BA,EAEF7R,EAAYjB,GAAI8E,MAAK,SAAC8G,GACpB5G,QAAQC,IAAI,QAEZoZ,EAAYre,MACXmF,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAIlBlH,EAAUlB,EAAIK,GAAMyE,MAAK,SAAC8G,GACxBsR,GAAa,SAACoB,GAAD,OAAeA,EAAU/H,QAAO,SAAC1S,GAAD,OAAOA,EAAElD,WAAaX,WAClEmF,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,OAG5BqV,EAAW,CACfC,UA9KgB,WAChB,IAAMzV,EAAQ3B,SAASC,eAAe,SAASvB,MAE/C,GAAqB,IAAjBiD,EAAMiL,OAAV,CAEA,IAAMsG,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IACjCgG,EAAW,CACfle,OACAM,SAAUD,EACVD,KAAM,OACNF,QAASyG,EACTxG,WAAY+X,EACZzD,YAAa,GAEfoI,GAAa,SAACoB,GAAD,OAAgBC,GAAhB,mBAA6BD,OAE1Che,EAASie,GAAUzZ,MAAK,SAAC8G,GACvB5G,QAAQC,IAAIgY,MACX9X,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,cA0JPsU,YAtJO,SAAC7Y,GAEnB,IAAM4U,EAAW,IAAIC,SACfC,EAAWtT,SAASC,eAAe,8BAA8BvB,MACvE0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAC5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,KAC3B,yCAAG,+BAAAvF,EAAA,6DACTzS,EAAU,GADD,SAEPyY,MAAM,kBAAmBF,GAC5BhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GACLtL,EAAUlC,KAAKC,MAAMuN,GAAQzM,QAE5B+F,OAAM,SAACsB,GACRzB,QAAQC,IAAIwB,MARH,cAUbzB,QAAQC,IAAI,UAAW1E,GACjBge,EAAW,CACfle,OACAM,SAAUD,EACVD,KAAM,UACNF,UACAC,WAAY+X,EACZzD,YAAa,GAjBF,SAoBPxU,EAASie,GAAUzZ,MAAK,SAAC8G,GAC7BsR,GAAa,SAACoB,GAAD,OAAgBC,GAAhB,mBAA6BD,UACzCnZ,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAvBL,2CAAH,qDA0BZoW,KA4GwB7B,UAzGR,SAAC9Y,GAEjB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,kBAAkBvB,MAC3D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEvCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GASLvL,EARiB,CACfD,OACAM,SAAUD,EACVD,KAAM,QACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5BoB,WAAY+X,EACZzD,YAAa,IAEIhQ,MAAK,SAAC8G,GACvB5G,QAAQC,IAAI2G,EAAIxD,SAChBuP,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QAmEmBmW,SA/DpB,SAAC/Y,GAEhB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,iBAAiBvB,MAC1D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,SAASvB,MAC/C,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtBlV,EAAU8T,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEvCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GASLvL,EARiB,CACfD,OACAM,SAAUD,EACVD,KAAM,OACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5BoB,WAAY+X,EACZzD,YAAa,IAEIhQ,MAAK,SAAC8G,GACvB+L,OAAOC,SAASC,SAChB7S,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,SA4BlB,OACE,qCACE,sBAAKlD,UAAU,mBAAf,UACE,cAACgZ,GAAD,CAAYhZ,UAAU,WAAWiZ,SAAUA,IAC3C,qBAAKjZ,UAAU,YAAf,SACE,cAACiD,EAAA,EAAD,CACEhD,MAAO,CACLmF,WAAY,QAAShC,OAAQ,OAAQlD,MAAO,MAAO+I,aAAc,OAEnEqF,WAAS,EACT7R,GAAG,SACH4G,MAAM,0BACNkJ,QAAQ,WACRlM,SAAU,SAACC,GAAD,OAhOC,SAACA,GACpB,IAAMqO,EAAI,GAAMrO,EAAEC,OAAOC,MAAOkO,OAChCL,EAASM,GA8NgBC,CAAatO,QAIlC,qBAAKN,UAAU,cAAf,SACG0Z,EAAUlS,KAAI,SAAClH,EAAG4a,GACjB,OAAIxB,EAAUhL,SAAWwM,EAAQ,EACvB,qBAAKC,IAAKpB,EAAc/Z,UAAU,aAAlC,SAA+C,cAACmR,GAAD,CAAOC,aAAc+C,EAAoBtY,KAAMyE,MAEhG,qBAAKN,UAAU,aAAf,SAA4B,cAACmR,GAAD,CAAOC,aAAc+C,EAAoBtY,KAAMyE,cAIzF,8BACE,cAAC8a,GAAA,EAAD,CAAkBnb,MAAO,CAAEwC,MAAO,gBCzQ3B,SAAS4Y,KACtB,OACE,gCACE,qBAAKrb,UAAU,WAAf,SACE,cAAC,GAAD,MAEF,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,GAAD,MAEF,qBAAKA,UAAU,cAAf,SACE,cAACuZ,GAAD,MAEF,sBAAKvZ,UAAU,aAAf,UACE,qBAAKA,UAAU,YAAf,SACE,cAAC,GAAD,MAEF,qBAAKA,UAAU,gBAAf,SACE,cAAC2Y,GAAD,eCjBG,SAAS2C,KACtB,IAAM3b,EAAUC,cACVpE,EAAWX,+BACjB4G,QAAQC,IAAR,qBAA0BlG,IAG1B,MAAkCsD,mBAAS,IAAImV,KAA/C,mBAAOpH,EAAP,KAAkBiJ,EAAlB,KAEA,EAAgChX,mBAAS,GAAzC,mBAAOmX,EAAP,KAAiBC,EAAjB,KACA,EAAgCpX,mBAAS,IAAzC,mBAAOyc,EAAP,KAAiBC,EAAjB,KAGA1U,qBAAU,WACRzK,EAAeb,GAAU+F,MAAK,SAAC+G,GAC7B7G,QAAQC,IAAI4G,EAAOzM,KAAKA,KAAK,IAC7B,IAAMN,EAAc,IAAI0Y,IAAK3L,EAAOzM,KAAKgR,UAAWrF,KAAI,SAAC2O,GAAD,OAASA,EAAIra,aACrEga,EAAava,MACZqG,OAAM,SAACsB,GACRzB,QAAQC,IAAIwB,EAAM2B,cAEnB,IAEH,IAwDI4W,EAAY,wBAiBhB,MAhBiB,KAAbF,IACFE,EACE,sBAAKzb,UAAU,iBAAf,UACG,IACA,IAFH,2BAIE,qBACEA,UAAU,QACVyG,IAAG,wBAAmB8U,GACtB/U,IAAI,QAIV/E,QAAQC,IAAR,wBAA6B6Z,KAE/B9Z,QAAQC,IAAI+Z,GAEV,qBAAKzb,UAAU,2BAA2BC,MAAO,CAAEC,MAAO,SAA1D,SACE,qBAAKF,UAAU,iBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,qBAAIA,UAAU,0CAAd,eAGE,gCACG,IACAxE,QAIL,qBAAIwE,UAAU,0CAAd,UACG,IACD,oBAAIA,UAAU,0CAAd,sCAEF,sBAAKA,UAAU,aAAf,UAEE,uBAAOG,QAAQ,oBAAf,4CACA,uBACEjD,KAAK,OACL8C,UAAU,eACVvD,GAAG,2BACH4D,SAlFO,SAACC,GAClB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,4BAA4BvB,MACrE0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAQ5CK,MAAM,kBANiB,CACrB9Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,WAITb,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GACLkT,EAAY1gB,KAAKC,MAAMuN,GAAQzM,M5BkTN,SAACL,EAAUkgB,GAS1C,OARYhgB,IAAM,CAChBC,OAAQ,OACRC,IAAK,4BACLC,KAAM,CACJL,WACAkgB,oB4BvTEC,CAAkBngB,EAAUV,KAAKC,MAAMuN,GAAQzM,MAC5C0F,MAAK,SAAC8G,GACL5G,QAAQC,IAAI2G,MACXzG,OAAM,SAACsB,GACRzB,QAAQC,IAAIwB,SAEftB,OAAM,SAACgC,GACR/B,MAAM+B,SA6DD6X,EAED,uBAAOtb,QAAQ,oBAAf,wCAEA,cAAC,GAAD,CAEE0M,UAAWA,EACXvR,YA1Gc,SAACC,GACzBua,EAAa,GAAD,mBAAKjJ,GAAL,CAAgBtR,KAC5B2a,EAAYE,KAAKC,MAAsB,IAAhBD,KAAKE,WAC5Bhb,EAAYC,EAAaC,IAwGfO,eArGiB,SAACD,GAC5B,IAAMya,EAAO1J,EACb0J,EAAKhC,OAAOzY,GACZga,EAAaS,GACbL,EAAYE,KAAKC,MAAsB,IAAhBD,KAAKE,WAC5Bva,EAAeD,EAAUN,KA6FVya,GAKP,qBAAKjW,UAAU,aAAf,SACE,wBACE9C,KAAK,SACL8C,UAAU,wBACVU,QAhEC,WACbmB,MAAM,oCACNlC,EAAQgC,KAAK,YA2DH,qCASF,6DAEE,cAAC,IAAD,CAAMK,GAAG,SAAT,uCCrJC,SAAS4Z,KACtB,OACE,qBAAK5b,UAAU,uCAAf,SACE,qBAAKyG,IAAI,yBAAyBD,IAAI,GAAGxG,UAAU,qB,yBC0D1C6b,GA7DD,SAAC,GAAD,IACZrgB,EADY,EACZA,SACA8B,EAFY,EAEZA,SACAwe,EAHY,EAGZA,qBACAC,EAJY,EAIZA,aACAC,EALY,EAKZA,WALY,OAOZ,sBAAMC,SAAUF,EAAhB,SACE,gCACE,cAAC,GAAD,IACA,sBAAK/b,UAAU,OAAf,UACE,qBACEC,MAAO,KAIT,qBAAKD,UAAU,2BAA2BC,MAAO,CAAEC,MAAO,SAA1D,SACE,qBAAKF,UAAU,iBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,0CAAd,yBACA,sBAAKA,UAAU,aAAf,UACE,8CACA,8BACE,wBAAOG,QAAQ,OAAf,UACG,IADH,MAGG,IACA3E,EAJH,yDASF,uBAAO2E,QAAQ,OAAf,wBACA,uBACEjD,KAAK,OACLT,GAAG,OACH2D,YAAY,kBACZI,MAAOlD,EACP+C,SAAUyb,EACVI,SAAUF,EACVG,UAAQ,OAGZ,qBAAKnc,UAAU,cAAf,SACE,wBACE9C,KAAK,SACL8C,UAAU,wBACVoc,SAAUJ,EAHZ,SAKGA,EAAa,aAAe,2B,qBCwBhCK,GAxEK,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YACrB,EAAsCxd,mBAAS,IAA/C,mBAAOyd,EAAP,KAAoBC,EAApB,KACA,EAAsC1d,mBAAS,IAA/C,mBAAO2d,EAAP,KAAoBC,EAApB,KAEMC,EAAWzV,mBACX0V,EAAW1V,mBAEX2V,EAAoB,SAACC,GAAD,OAAcxF,MAAMC,KAAKuF,EAASC,UACzDvV,KAAI,SAACwV,GAAD,OAAiBA,EAAYC,SACjCjK,QAAO,SAACiK,GAAD,OAAqB,OAAVA,MAsDrB,OApDAnW,qBAAU,WACR0V,EAAeK,EAAkBP,EAAYC,cAC7CG,EAAeG,EAAkBP,EAAYG,cAqB7C,OAHAH,EAAYY,GAAG,mBAhBS,SAACD,GACJ,UAAfA,EAAME,KACRX,GAAe,SAACD,GAAD,4BAAqBA,GAArB,CAAkCU,OACzB,UAAfA,EAAME,MACfT,GAAe,SAACD,GAAD,4BAAqBA,GAArB,CAAkCQ,UAarDX,EAAYY,GAAG,qBATW,SAACD,GACN,UAAfA,EAAME,KACRX,GAAe,SAACD,GAAD,OAAiBA,EAAYvJ,QAAO,SAACoK,GAAD,OAAOA,IAAMH,QACxC,UAAfA,EAAME,MACfT,GAAe,SAACD,GAAD,OAAiBA,EAAYzJ,QAAO,SAACvD,GAAD,OAAOA,IAAMwN,WAO7D,WACLT,EAAe,IACfE,EAAe,IACfJ,EAAYe,wBAEb,CAACf,IAGJxV,qBAAU,WACR,IAAMwW,EAAaf,EAAY,GAC/B,GAAIe,EAEF,OADAA,EAAWC,OAAOZ,EAASvV,SACpB,WACLkW,EAAWE,YAGd,CAACjB,IAGJzV,qBAAU,WACR,IAAM2W,EAAahB,EAAY,GAC/B,GAAIgB,EAEF,OADAA,EAAWF,OAAOX,EAASxV,SACpB,WACLqW,EAAWD,YAGd,CAACf,IAGF,sBAAKzc,UAAU,cAAf,UACE,6BAAKsc,EAAYoB,WACjB,uBAAOvC,IAAKwB,EAAUgB,UAAQ,IAC9B,uBAAOxC,IAAKyB,EAAUe,UAAQ,EAACC,OAAK,Q,OCnE3B,SAAS1O,GAAT,GAAqC,IAATrT,EAAQ,EAARA,KACzC,EAA4BiD,mBAAS,IAArC,mBAAOsQ,EAAP,KAAeC,EAAf,KACMG,EAAO,yCAAG,uBAAAC,EAAA,sEACR5S,EAAUhB,EAAKiB,MAAMyE,MAAK,SAAC8G,GAC/BgH,EAAUhH,EAAIxM,KAAKuT,OAAO,GAAGhJ,oBAC5BxE,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAJJ,2CAAH,qDAYb,OAJAiC,qBAAU,WACR0I,MACC,IAGD,sBAAKxP,UAAU,eAAe0P,MAAO,CAAEjG,OAAQ,QAASvJ,MAAO,QAASyC,gBAAiB,OAAzF,UACE,sBAAK3C,UAAU,iBAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKvD,GAAG,kBAAkBgK,IAAG,wBAAmB2I,GAAU5I,IAAI,OAEhE,qBAAKxG,UAAU,cAAf,SACE,sBAAMvD,GAAG,gBAAT,SAA0BZ,EAAKiB,YAGnC,qBAAKkD,UAAU,kBAAkBC,MAAO,CAAEC,MAAO,eAAjD,SACE,qBAAKF,UAAU,eAAf,SACE,sBAAMvD,GAAG,WAAT,SAAqBZ,EAAKmB,iB,WCuFrB6gB,GArGF,SAAC,GAAsC,IAApCvgB,EAAmC,EAAnCA,SAAUwgB,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,aACxBjhB,EAAOjC,+BACb,EAAwCiE,mBAAS,IAAjD,mBAAOkf,EAAP,KAAqBC,EAArB,KACA,EAAgCnf,mBAAS,IAAzC,mBAAO8R,EAAP,KAAiBoB,EAAjB,KACMxC,EAAO,yCAAG,uBAAAC,EAAA,sEACRpS,EAAyBC,GAAUiE,MAAK,SAAC8G,GAC7C5G,QAAQC,IAAI2G,EAAIxM,SACf+F,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,MAHhB,2CAAH,qDAKPsO,EAAc,SAAClV,GACnB,IAAMmV,GAAY,IAAIC,MAAOC,cACvBC,EAAa,CACjBhV,WACAR,OACAqV,YACAnV,WAEFgV,GAAY,SAACkM,GAAD,OAAe5L,GAAf,mBAA8B4L,OjC0MvC,SAA8BriB,GACnC,IACEyB,EACEzB,EADFyB,SAAUR,EACRjB,EADQiB,KAAMqV,EACdtW,EADcsW,UAAWnV,EACzBnB,EADyBmB,QAE7B,OAAOtB,IAAM,CACXC,OAAQ,OACRC,IAAI,2BAAD,OAA6B0B,GAChCzB,KAAM,CACJiB,OACAqV,YACAnV,aiCnNFmhB,CAAqB7L,GAAY/Q,MAAK,SAAC8G,GACrC5G,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,EAAIiB,aAQpCiC,qBAAU,WACR,IAAMsX,EAAuB,SAAC9B,GAC5B2B,GAAgB,SAACI,GAAD,4BAA0BA,GAA1B,CAA4C/B,QAExDgC,EAA0B,SAAChC,GAC/B2B,GAAgB,SAACI,GAAD,OAAsBA,EAAiBrL,QAAO,SAACuL,GAAD,OAAOA,IAAMjC,SAM7E,OAHAwB,EAAKZ,GAAG,uBAAwBkB,GAChCN,EAAKZ,GAAG,0BAA2BoB,GACnCR,EAAKE,aAAalR,QAAQsR,GACnB,WACLN,EAAKU,IAAI,uBAAwBJ,GACjCN,EAAKU,IAAI,0BAA2BF,MAErC,CAACR,IACJhX,qBAAU,WACR0I,OAEF,IAAMiP,EAAqBT,EAAaxW,KAAI,SAAC8U,GAAD,OAC1C,cAAC,GAAD,CAAmCA,YAAaA,GAA9BA,EAAYoC,QAGhC,OAEE,sBAAK1e,UAAU,OAAf,UACE,cAAC,GAAD,IACA,qBACEC,MAAO,KAGT,8CAEG,IACA3C,KAEH,cAAC+G,EAAA,EAAD,CACE5B,MAAM,YACNqS,UAAW,cAAC,KAAD,IACX5X,KAAK,SACL8C,UAAU,wBACVU,QAASqd,EALX,0BASA,sBAAK/d,UAAU,oBAAf,UACE,qBAAKA,UAAU,oBAAf,SACG8d,EACC,cAAC,GAAD,CAEExB,YAAawB,EAAKa,kBADbb,EAAKa,iBAAiBD,KAI7B,KAGJ,sBAAK1e,UAAU,qBAAf,UACE,qBAAKC,MAAO,CAAEwJ,OAAQ,SAAtB,SACGmH,EAASpJ,KAAI,SAAClH,GAAD,OAAO,qBAAKL,MAAO,CAAEmD,OAAQ,OAAtB,SAA+B,cAAC,GAAD,CAAsBvH,KAAMyE,WAElF,qBAAKN,UAAU,kBAAf,SACE,cAAC,GAAD,CAAckO,cAlEF,SAACzK,GACP,KAAVA,GACJyO,EAAYzO,cAqEV,qDACA,qBAAKzD,UAAU,sBAAf,SAAsCye,QCb7BG,GA1FG,WAChB,MAAgC9f,mBAAS,IAAzC,mBAAOxB,EAAP,KAAiBuhB,EAAjB,KACA,EAAwB/f,mBAAS,MAAjC,mBAAOgf,EAAP,KAAagB,EAAb,KACA,EAAoChgB,oBAAS,GAA7C,mBAAOkd,EAAP,KAAmB+C,EAAnB,KACMvjB,EAAWX,+BAEXihB,EAAuB9B,uBAAY,SAAC9V,GACxC2a,EAAY3a,EAAM3D,OAAOC,SACxB,IAEGub,EAAe/B,sBAAW,yCAC9B,WAAO9V,GAAP,gBAAAuL,EAAA,6DACEvL,EAAM8a,iBACND,GAAc,GAFhB,SAGqBtJ,MAAM,eAAgB,CACvC9Z,OAAQ,OACR6Z,KAAM1a,KAAKoG,UAAU,CACnBwc,SAAUliB,EACVsiB,KAAMxgB,IAER2hB,QAAS,CACP,eAAgB,sBAEjB1d,MAAK,SAAC8G,GAAD,OAASA,EAAI6W,UAZvB,OAGQrjB,EAHR,OAaEsjB,KAAMC,QAAQvjB,EAAKwjB,MAAO,CACxBC,KAAMhiB,IAELiE,MAAK,SAACge,GACLR,GAAc,GACdD,EAAQS,MAET3d,OAAM,SAACgC,GACNnC,QAAQyB,MAAMU,GACdmb,GAAc,MAtBpB,2CAD8B,sDA0B9B,CAACzhB,EAAU9B,IAGPuiB,EAAe/D,uBAAY,WAC/B8E,GAAQ,SAACU,GAOP,OANIA,IACFA,EAASb,iBAAiBc,OAAO3S,SAAQ,SAAC4S,GACxCA,EAASzC,MAAM0C,UAEjBH,EAAStF,cAEJ,UAER,IAsCH,OAnCApT,qBAAU,WACR,GAAIgX,EAAM,CACR,IAAM8B,EAAS,SAAC1b,GACVA,EAAM2b,WAGN/B,GACFC,KAKJ,OAFA3J,OAAO0L,iBAAiB,WAAYF,GACpCxL,OAAO0L,iBAAiB,eAAgBF,GACjC,WACLxL,OAAO2L,oBAAoB,WAAYH,GACvCxL,OAAO2L,oBAAoB,eAAgBH,OAG9C,CAAC9B,EAAMC,IAGND,EAEA,cAAC,GAAD,CAAMxgB,SAAUA,EAAUwgB,KAAMA,EAAMC,aAAcA,IAIpD,cAAC,GAAD,CACEviB,SAAUA,EACV8B,SAAUA,EACVwe,qBAAsBA,EACtBC,aAAcA,EACdC,WAAYA,KCjFL,SAASgE,KACtB,MAAsClhB,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA4CF,mBAAS,IAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA4CJ,mBAAS,IAArD,mBAAOK,EAAP,KAAuBC,EAAvB,KACMO,EAAUC,cAkChB,OACE,qBAAKI,UAAU,2BAA2BC,MAAO,CAAEC,MAAO,SAA1D,SACE,qBAAKF,UAAU,iBAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,oBAAIA,UAAU,0CAAd,4BACA,sBAAKA,UAAU,aAAf,UACE,8CACA,uBACEvD,GAAG,oBACH2D,YAAY,iBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOtB,EAAesB,EAAEC,OAAOC,aAG7C,sBAAKR,UAAU,aAAf,UACE,8CACA,uBACEvD,GAAG,oBACHS,KAAK,WACLkD,YAAY,iBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOpB,EAAkBoB,EAAEC,OAAOC,aAGhD,sBAAKR,UAAU,aAAf,UACE,sDACA,uBACEvD,GAAG,oBACHS,KAAK,WACLkD,YAAY,iBACZJ,UAAU,eACVK,SAAU,SAACC,GAAD,OAAOlB,EAAkBkB,EAAEC,OAAOC,aAIhD,qBAAKR,UAAU,yBAAf,SAEE,wBACE9C,KAAK,SACL8C,UAAU,wBACVU,QAzES,WASnB,OAAKC,yBAAe1B,EAAgBE,GAO/B0B,0BAAgB5B,QnC+GKzD,EmCxGZuD,EnCwGsBwF,EmCxGTtF,EnC0GtBvD,IAAM,CACXC,OAAQ,MACRC,IAHY,qBAIZC,KAAM,CACJL,WACA2F,SAAUoD,MmC/G+BhD,MAAK,WAE9CM,MAAM,2CAENlC,EAAQgC,KAAK,aACZC,OAAM,SAACtB,GACRmB,QAAQC,IAAIpB,OAZZuB,MAAM,8JACNuS,OAAOzU,QAAQsgB,aAAa,KAAM,WAAY,uBAC9C7L,OAAOC,SAASC,WAThBzS,MAAM,2CACNuS,OAAOzU,QAAQsgB,aAAa,KAAM,WAAY,uBAC9C7L,OAAOC,SAASC,UnCmHf,IAAuB9Y,EAAU+I,GmCzD5B,mCAQF,uDAEE,cAAC,IAAD,CAAMvC,GAAG,SAAT,wCCrFG,SAASke,GAAT,GAA4B,IAATrkB,EAAQ,EAARA,KAC1BiB,EAAOjC,+BAEb,EAA4BiE,mBAAS,IAArC,mBAAOsQ,EAAP,KAAeC,EAAf,KAGA,EAAoBvQ,mBAAuB,YAAdjD,EAAKqB,MAA3BijB,EAAP,oBACA,EAAkBrhB,mBAAuB,UAAdjD,EAAKqB,MAAzBkjB,EAAP,oBACA,EAAiBthB,mBAAuB,SAAdjD,EAAKqB,MAAxBmjB,EAAP,oBAEM7Q,EAAO,yCAAG,uBAAAC,EAAA,sEACR5S,EAAUhB,EAAKiB,MAAMyE,MAAK,SAAC8G,GAC/BgH,EAAUhH,EAAIxM,KAAKuT,OAAO,GAAGhJ,oBAC5BxE,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAJJ,2CAAH,qDAQbiC,qBAAU,WACR0I,MACC,IAEH,IAII8Q,EAJExY,EAAQjM,EAAK2C,aAAauJ,MAAM,KAAM,GACtCmL,EAAS,wBAAoB9D,GAC7B+D,EAAQ,wBAAoBtX,EAAKmB,SAGnCmjB,EACFG,EAAkB,qBAAKtgB,UAAU,cAAcvD,GAAG,sBAAsBgK,IAAK0M,EAAU3M,IAAI,KAClF4Z,EACTE,EACE,wBAAOtgB,UAAU,cAAcqT,UAAQ,EAAvC,UACG,IACD,wBAAQ5M,IAAK0M,OAGRkN,GACT5e,QAAQC,IAAI,QACZ4e,EACE,uBAAOjN,UAAQ,EAAf,SACE,wBAAQ5M,IAAK0M,OAIjBmN,EAAkBzkB,EAAKmB,QAGzB,IACIujB,EAAgB,6BADa,GAAhB1kB,EAAK2kB,UAGpBD,EAAgB,yBAGlB,IAAIE,EAAiB,YAMrB,OALI3jB,IAASjB,EAAKiB,KAChB2jB,EAAiB,UAEjBF,EAAgB,GAIhB,sBAAK9jB,GAAG,kBAAR,UACE,sBAAKuD,UAAU,eAAf,UACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,eAAevD,GAAG,uBAAuBgK,IAAKyM,EAAW1M,IAAI,OAE9E,sBAAKxG,UAAU,aAAf,UACE,uBACEC,MAAO,CACLoN,SAAU,OACVC,WAAY,QAEd7Q,GAAG,kBALL,UAOGgkB,EACA,IACA5kB,EAAKiB,QAGR,uBACEmD,MAAO,CACLoN,SAAU,OACVC,WAAY,QAEd7Q,GAAG,iBALL,UAQG,IACA8jB,KAGH,sBAAMtgB,MAAO,CAAEoN,SAAU,QAAU5Q,GAAG,OAAtC,SACGqL,UAKP,cAACiF,GAAA,EAAD,CAASR,QAAQ,WACjB,qBAAKvM,UAAU,gBAAf,SACE,mBAAGC,MAAO,CAAEmT,UAAW,QAAvB,SACGkN,MAGL,cAACvT,GAAA,EAAD,CAASR,QAAQ,cCvFvB,IAAMzH,GAAYC,cAAW,SAACC,GAAD,MAAY,CACvC4O,OAAQ,CACNxQ,OAAQ4B,EAAM2D,QAAQ,QAIpBsI,GAAOC,EAAQ,IAEN,SAASwP,KACtB,IAAMniB,EAAWlD,+BAIjB,EAAgByD,mBAAS,IAAIgV,KAAtB7N,EAAP,oBACA,EAA4BnH,oBAAS,GAArC,mBAAOiV,EAAP,KAAeC,EAAf,KACA,EAA0BlV,mBAAS,KAAnC,mBAAOsP,EAAP,KAAcC,EAAd,KACA,EAAoBvP,mBAAS,IAAImV,KAA1BC,EAAP,oBACMpO,EAAUhB,KACVhI,EAAOjC,+BAObiM,qBAAU,WAERkN,GAAU,KACT,CAACD,IACJ,IAoCMvE,EAAO,yCAAG,uBAAAC,EAAA,sDACd9Q,EAAc7B,EAAMyB,GAAUgD,MAAK,SAAC8G,GAClCzJ,EAAcL,EAAUzB,GAAMyE,MAAK,WACjCE,QAAQC,IAAI,6BACXE,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,YAElB,IAAQ8b,EAAatY,EAAIxM,KAAjB8kB,SACRlf,QAAQC,IAAR,eAAoBif,IACpBA,EAAS7T,SAAQ,SAACxM,GAChB,IAAMoU,EAAQ,qBAAK1U,UAAU,aAAf,SAA4B,cAACkgB,GAAD,CAASrkB,KAAMyE,MACzD4T,EAAUS,IAAID,GACdzO,EAAM2O,IAAItU,EAAElD,SAAUsX,MAExBV,GAAU,MACTpS,OAAM,SAACgC,GAAD,OAASnC,QAAQC,IAAIkC,MAfhB,2CAAH,qDAiBbkD,qBAAU,WACR0I,MACC,IAwKH,OADA/N,QAAQC,IAAI,KAAMwS,GAEhB,sBAAKlU,UAAU,mBAAf,UACE,sBACEC,MAAO,CACL0C,gBAAiB,QACjB8G,OAAQ,cACRR,aAAc,OAEhBjJ,UAAU,WANZ,UAQE,qBACEC,MAAO,CACLC,MAAO,MACP2U,WAAY,MACZzR,OAAQ,QAJZ,SAOE,cAACH,EAAA,EAAD,CACEqL,WAAS,EACT7R,GAAG,UACH4G,MAAM,wBACNkJ,QAAQ,WACRhJ,WAAU,UAAK6K,EAAL,oBACVI,WAAY,CAAEC,UAAW,KACzBpO,SAAU,SAACC,GAAD,OAjQC,SAACA,GACpB,GAAKA,EAAEC,OAAOC,MAAOkO,QAAU,EAAG,CAChC,IAAMC,EAAI,IAAOrO,EAAEC,OAAOC,MAAOkO,OACjCL,EAASM,IA8PcC,CAAatO,IAC9BgD,WAAS,MAIb,sBACErD,MAAO,CACL0C,gBAAiB,QACjBsG,aAAc,OAEhBjJ,UAAU,UALZ,UAQE,cAACqE,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QAvDiB,WACzBoB,SAASC,eAAe,oBAAoBgT,SAgDtC,mBAUA,cAAC1Q,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QA7De,WACvBoB,SAASC,eAAe,kBAAkBgT,SAsDpC,mBAUA,cAAC1Q,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNhG,GAAG,eACHuD,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QAnEc,WACtBoB,SAASC,eAAe,iBAAiBgT,SA4DnC,kBAWA,cAAC1Q,EAAA,EAAD,CACEkI,QAAQ,YACR9J,MAAM,YACNzC,UAAW8F,EAAQ8N,OACnBkB,UAAW,cAAC,KAAD,IACXpU,QAxSU,WAClB2N,EAAS,KACT,IAAM5K,EAAQ3B,SAASC,eAAe,WAAWvB,MACjD,GAAqB,qBAAViD,GAGU,IAAjBA,EAAMiL,OAAV,CACA,IAAMsG,GAAW,IAAI5C,MAAOC,cACtB5T,EAAYwS,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAoBzC1W,EAnBmB,CACjBxB,OACA4B,WAAYD,EACZvB,KAAM,OACNF,QAASyG,EACTjF,aAAcwW,EACdzW,aAaqBgD,MAAK,SAAC8G,GAE3B+L,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,cAmQZ,yBASA,uBACE7E,UAAU,aACViV,OAAO,iBACPxY,GAAG,mBACHS,KAAK,OACLmD,SAxPU,SAACC,GAEnB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,oBAAoBvB,MAC7D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,WAAWvB,MACjD,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtB5T,EAAYwS,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEzCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GAEL,IAAMsY,EAAa,CACjB9jB,OACA4B,WAAYD,EACZvB,KAAM,UACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5B2C,aAAcwW,EACdzW,YAEFkD,QAAQC,IAAR,wBAA6Bkf,IAS7BtiB,EAAWsiB,GAAYrf,MAAK,SAAC8G,GAC3B5G,QAAQC,IAAI2G,EAAIxD,SAChBuP,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QAyMRyS,QAAM,IAER,uBACE3V,UAAU,aACVvD,GAAG,iBACHS,KAAK,OACLmD,SA3MQ,SAACC,GAEjB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,kBAAkBvB,MAC3D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,WAAWvB,MACjD,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtB5T,EAAYwS,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEzCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GAkBLhK,EAjBmB,CACjBxB,OACA4B,WAAYD,EACZvB,KAAM,QACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5B2C,aAAcwW,EACdzW,aAWqBgD,MAAK,SAAC8G,GAC3B5G,QAAQC,IAAI2G,EAAIxD,SAChBuP,OAAOC,SAASC,YACf1S,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QA6JRyS,QAAM,IAER,uBACE3V,UAAU,aACVvD,GAAG,gBACHS,KAAK,OACLmD,SA/JO,SAACC,GAEhB,IAAM4U,EAAW,IAAIC,SAEfC,EAAWtT,SAASC,eAAe,iBAAiBvB,MAC1D0U,EAASG,OAAO,QAAS/U,EAAEC,OAAO+U,MAAM,GAAIF,GAE5C,IAAMG,EAAiB,CACrB5Z,OAAQ,OACR6Z,KAAMN,EACN9S,SAAU,UAENqB,EAAQ3B,SAASC,eAAe,WAAWvB,MACjD,GAAqB,qBAAViD,EAAX,CAGA,IAAMuR,GAAW,IAAI5C,MAAOC,cACtB5T,EAAYwS,GAAK,GAAD,OAAIxN,GAAJ,OAAY3G,GAAZ,OAAmBkY,IAEzCS,MAAM,kBAAmBF,GACtBhU,MAAK,SAACC,GAAD,OAAcA,EAASkU,UAC5BnU,MAAK,SAAC+G,GAkBLhK,EAjBmB,CACjBxB,OACA4B,WAAYD,EACZvB,KAAM,OACNF,QAASlC,KAAKC,MAAMuN,GAAQzM,KAC5B2C,aAAcwW,EACdzW,aAWqBgD,MAAK,SAAC8G,GAC3B+L,OAAOC,SAASC,SAChB7S,QAAQC,IAAI2G,EAAIxD,YACfjD,OAAM,SAACgC,GACRnC,QAAQC,IAAIkC,EAAIiB,eAGnBjD,OAAM,SAACsB,GACNzB,QAAQC,IAAIwB,QAiHRyS,QAAM,UAIZ,8BACGzB,OCrXM,SAAS2M,KACtB,IAAMtiB,EAAWlD,+BAGjB,OAFAoG,QAAQC,IAAR,qBAA0BnD,IAGxB,gCACE,cAAC,GAAD,IACA,qBAAKyB,UAAU,OAAf,SACE,8BACE,cAAC0gB,GAAD,WCeKI,OAlBf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,OAAQ,kBAAM,cAACpiB,EAAD,OACpC,cAAC,IAAD,CAAOkiB,KAAK,gBAAgBC,OAAK,EAACC,OAAQ,kBAAM,cAACpiB,EAAD,OAChD,cAAC,IAAD,CAAOkiB,KAAK,SAASC,OAAK,EAACC,OAAQ,kBAAM,cAACzK,GAAD,OACzC,cAAC,IAAD,CAAOuK,KAAK,WAAWC,OAAK,EAACC,OAAQ,kBAAM,cAAC3F,GAAD,OAC3C,cAAC,IAAD,CAAOyF,KAAK,QAAQG,UAAW,kBAAM,cAAC,GAAD,OACrC,cAAC,IAAD,CAAOH,KAAK,WAAWC,OAAK,EAACC,OAAQ,kBAAM,cAAC,GAAD,OAC3C,cAAC,IAAD,CAAOF,KAAK,iBAAiBC,OAAK,EAACC,OAAQ,kBAAM,cAACjB,GAAD,OACjD,cAAC,IAAD,CAAOe,KAAK,QAAQC,OAAK,EAACC,OAAQ,kBAAM,cAACrF,GAAD,OACxC,cAAC,IAAD,CAAOmF,KAAK,aAAaC,OAAK,EAACC,OAAQ,kBAAM,cAAC,GAAD,OAC7C,cAAC,IAAD,CAAOF,KAAK,WAAWC,OAAK,EAACC,OAAQ,kBAAM,cAACJ,GAAD,aClBnDM,IAASF,OACP,cAAC,IAAD,UACE,cAAC,GAAD,MAEFnf,SAASC,eAAe,gB,iBCO1BpH,EAAOC,QAAU,CACfiG,gBApBF,SAAyBM,GAEvB,OADoB,IAAIgD,OAAO,+DACZC,KAAKjD,IAkBPP,gBAfnB,SAAyBwgB,GAEvB,OADc,IAAIjd,OAAO,mBACZC,KAAKgd,IAagBtgB,aAVpC,SAAsBrB,GAEpB,MADW,wJACD2E,KAAKid,OAAO5hB,GAAO6hB,gBAQmB3gB,eALlD,SAAwB4gB,EAAaC,GACnC,OAAQD,IAAgBC,K","file":"static/js/main.a2ef65e0.chunk.js","sourcesContent":["function getCurrentUsername() {\n  return JSON.parse(localStorage.getItem('username'));\n}\n\nfunction isLogged() {\n  const user = JSON.parse(localStorage.getItem('username'));\n  if (user) {\n    return true;\n  }\n  return false;\n}\n// clear the local storage\nfunction logout() {\n  localStorage.removeItem('username');\n}\n\nfunction getCurrentReceiver() {\n  return JSON.parse(localStorage.getItem('receiver'));\n}\n\nmodule.exports = {\n  getCurrentUsername, isLogged, logout, getCurrentReceiver,\n};\n","import axios from 'axios';\n\nexport function getUserInformation(username) {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/api/${username}`,\n  });\n  return prm;\n}\n\nexport function addInterest(newInterest, username) {\n  const addUrl = `/api/profile/interest/${username}`;\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      interest: newInterest,\n    },\n  });\n}\n\nexport function deleteInterest(interestToDelete, username) {\n  const delUrl = `/api/profile/delete/interest/${username}`;\n  return axios({\n    method: 'DELETE',\n    url: delUrl,\n    data: {\n      interest: interestToDelete,\n    },\n  });\n}\n\nexport function fetchTweets(username) {\n  const getUrl = `/api/profile/tweet/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function fetchAllTweets(username) {\n  const getUrl = `/api/tweets/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function fetchAllTweetsPaginated(username, pageNumber, limit) {\n  const getUrl = `/api/tweeters/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n    params: { page: pageNumber, limit },\n\n  });\n}\n\nexport function getTweetCount(username) {\n  const getUrl = `/api/tweets/count/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\nexport function getProfileData(username) {\n  const getUrl = `/api/profile/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getFollowers(username) {\n  const getUrl = `/api/profile/followers/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getTweets(username) {\n  const getUrl = `/api/profile/tweets/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\n// export function getFriends(id) {\n//   const getUrl = `/api/profile/friends/${id}`;\n//   return axios({\n//     method: 'GET',\n//     url: getUrl,\n//   });\n// }\n\nexport function getFriends(username) {\n  const getUrl = `/api/profile/friends/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function deactivateProfile(id, inputPassword) {\n  const delUrl = `/api/profile/deactivate/${id}`;\n  return axios({\n    method: 'PUT',\n    url: delUrl,\n    data: {\n      password: inputPassword,\n    },\n  });\n}\n\n// reactivate the account\nexport function reactivateProfile(id, inputPassword) {\n  const delUrl = `/api/profile/reactivate/${id}`;\n  return axios({\n    method: 'PUT',\n    url: delUrl,\n    data: {\n      password: inputPassword,\n    },\n  });\n}\n\n// change the password in the profile page\nexport function updatePassword(username, newPass, oldPass) {\n  const upUrl = `/api/profile/password/${username}`;\n  return axios({\n    method: 'PUT',\n    url: upUrl,\n    data: {\n      newPassword: newPass,\n      oldPassword: oldPass,\n    },\n  });\n}\n\n// change the password in the login page\nexport function resetPassword(username, newPassword) {\n  const upUrl = '/api/resetPassword';\n  return axios({\n    method: 'PUT',\n    url: upUrl,\n    data: {\n      username,\n      password: newPassword,\n    },\n  });\n}\n\nexport function blockFollower(id, username) {\n  const insUrl = `/api/block/${id}`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function getBlockedFollowers(username) {\n  const insUrl = `/api/blocked/${username}`;\n  return axios({\n    method: 'GET',\n    url: insUrl,\n  });\n}\n\nexport function unBlockUser(username, blocked) {\n  const insUrl = `/api/unblock/${username}`;\n  return axios({\n    method: 'PUT',\n    url: insUrl,\n    data: {\n      follower: blocked,\n    },\n  });\n}\n\n// Home modules\nexport function getUsername(id) {\n  return axios({\n    method: 'GET',\n    url: `/api/home/${id}`,\n  });\n}\n\n// Home modules\nexport function getAvatar(user) {\n  return axios({\n    method: 'GET',\n    url: `/api/profile/avatar/${user}`,\n  });\n}\n\nexport function addTweet(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/createTweet/${data.user}`,\n    data: {\n      content: data.content,\n      tweet_date: data.tweet_date,\n      type: data.type,\n      tweetId: data.tweet_id,\n    },\n  });\n}\n\nexport function addHashtag(tweetid, hashtag) {\n  return axios({\n    method: 'POST',\n    url: `/api/tweet/hashtag/${tweetid}`,\n    data: {\n      hashtag,\n    },\n  });\n}\n\nexport function addComment(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/comment/add/${data.user}`,\n    data: {\n      commentId: data.comment_id,\n      tweetId: data.tweet_id,\n      content: data.content,\n      timestamp: data.timestamp,\n    },\n  });\n}\nexport function addCommentLiveStream(data) {\n  const {\n    roomName, user, timestamp, content,\n  } = data;\n  return axios({\n    method: 'POST',\n    url: `/api/comment/livestream/${roomName}`,\n    data: {\n      user,\n      timestamp,\n      content,\n    },\n  });\n}\n\nexport function getAllCommentsLiveStream(roomName) {\n  return axios({\n    method: 'GET',\n    url: `/api/livestream/comments/all/${roomName}`,\n  });\n}\n\nexport function getAllCommentsForTweet(tweetId) {\n  return axios({\n    method: 'GET',\n    url: `/api/tweet/comments/all/${tweetId}`,\n  });\n}\n\nexport function updateTweetComments(tweetId, newNumComments) {\n  return axios({\n    method: 'PUT',\n    url: `/api/tweet/comments/${tweetId}`,\n    data: {\n      comments: newNumComments,\n    },\n  });\n}\n\nexport function updateComment(commId, newContent) {\n  return axios({\n    method: 'PUT',\n    url: `/api/tweet/comment/update/${commId}`,\n    data: {\n      content: newContent,\n    },\n  });\n}\n\nexport function deleteComment(commId) {\n  return axios({\n    method: 'DELETE',\n    url: `/api/tweet/comment/delete/${commId}`,\n  });\n}\n\nexport function followUser(id, username) {\n  const insUrl = `/api/follow/${id}`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function unfollowUser(id, username) {\n  const insUrl = `/api/unfollow/${id}`;\n  return axios({\n    method: 'PUT',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function fetchFollowers(id) {\n  return axios({\n    method: 'GET',\n    url: `/api/followers/${id}`,\n  });\n}\n\nexport function fetchAllFollowers(username) {\n  return axios({\n    method: 'GET',\n    url: `/api/all/followers/${username}`,\n  });\n}\n\nexport const addUser = (usernameReg, passwordOneReg, firstName, lastName, email) => {\n  // const user\n  localStorage.setItem('username', JSON.stringify(usernameReg));\n  const prm = axios({\n    method: 'POST',\n    url: '/api/register',\n    data: {\n      username: usernameReg,\n      password: passwordOneReg,\n      first_name: firstName,\n      last_name: lastName,\n      email,\n    },\n  });\n  return prm;\n};\n\nexport const getUid = (usernameReg) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/userUid',\n    data: {\n      username: usernameReg,\n    },\n  });\n  return prm;\n};\n\nexport const userLogin = (usernameReg, password) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/login',\n    data: {\n      username: usernameReg,\n      password,\n    },\n  });\n  return prm;\n};\n\nexport const addProfilePicture = (username, profilePicture) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/uploadProfilePicture',\n    data: {\n      username,\n      profilePicture,\n    },\n  });\n  return prm;\n};\n\n// export const uploadFile = () => {\n//   const prm = axios({\n//     method: 'POST',\n//     url: '/api/uploadFile',\n//     data: {\n//     },\n//   });\n//   return prm;\n// };\nexport const searchFriend = (username, input) => {\n  console.log(`search friend ${username}, typeof ${typeof (input)}@@@@@@@@@@@@`);\n  const promise = axios({\n    method: 'GET',\n    url: `/api/search/${username}/${input}`,\n  });\n  return promise;\n};\n\nexport function deleteTweet(tweetId) {\n  const delUrl = `/api/tweet/delete/${tweetId}`;\n  return axios({\n    method: 'DELETE',\n    url: delUrl,\n  });\n}\n\nexport function hideTweet(tweetId, username) {\n  const postUrl = `/api/tweet/hide/${tweetId}`;\n  return axios({\n    method: 'POST',\n    url: postUrl,\n    data: {\n      username,\n    },\n  });\n}\n\nexport function updateTweetLikes(tweetId, tweetLikes) {\n  const putUrl = `/api/tweet/likes/${tweetId}`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      likes: tweetLikes,\n    },\n  });\n}\n\nexport function updateTweetBlocks(tweetId, tweetBlocks) {\n  const putUrl = `/api/tweet/likes/${tweetId}`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      blocks: tweetBlocks,\n    },\n  });\n}\n\nexport function isLiked(user, tweetId) {\n  const getUrl = `/api/tweet/isliked/${user}/${tweetId}/`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function likeTweet(user, tweetId) {\n  const insUrl = `/api/tweet/like/${user}/`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      tweetid: tweetId,\n    },\n  });\n}\n\nexport const getHiders = (tweetId) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/tweet/hiders/all/${tweetId}`,\n  });\n  return prm;\n};\n\nexport const getSuggestions = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/profile/suggestions/${username}`,\n  });\n  return prm;\n};\n\nexport function unLikeTweet(user, tweetId) {\n  const putUrl = `/api/tweet/unlike/${user}/`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      tweetid: tweetId,\n    },\n  });\n}\n\nexport const getNumberFailedLogins = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/numberFailedLogins/${username}`,\n  });\n  return prm;\n};\n\nexport const updateNumberFailedLogins = (username, numberOfFailedLogins) => {\n  const addUrl = '/api/updateNumberFailedLogins';\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      username,\n      numberOfFailedLogins,\n    },\n  });\n};\n\nexport const getDateUserLastLockedOut = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/dateUserLastLockedOut/${username}`,\n  });\n  return prm;\n};\n\nexport const setLockOutTime = (username) => {\n  const addUrl = '/api/setLockOutTime';\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      username,\n    },\n  });\n};\n\n/* -------------------------------------------------------------------------- */\n/* ------------------------------MESSAGING----------------------------------- */\n/* -------------------------------------------------------------------------- */\n\nexport function addMessage(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/createMessage/${data.user}/${data.receiver}`,\n    data: {\n      content: data.content,\n      message_date: data.message_date,\n      type: data.type,\n      messageId: data.message_id,\n    },\n  });\n}\n\nexport function fetchMessages(username, receiver) {\n  const getUrl = `/api/profile/messages/${username}/${receiver}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function updateHasRead(username, receiver) {\n  return axios({\n    method: 'POST',\n    url: `/api/hasRead/${username}/${receiver}`,\n    data: {\n    },\n  });\n}\n","/* eslint-disable no-alert */\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { addUser } from './Module';\nimport '../App.css';\nimport {\n  isValidPassword, isValidUsername, isValidEmail, isSamePassword,\n} from '../auth/authentication';\n\nexport default function Registration() {\n  const [usernameReg, setUsernameReg] = useState('');\n  const [passwordOneReg, setPasswordOneReg] = useState('');\n  const [passwordTwoReg, setPasswordTwoReg] = useState('');\n  const [firstNameReg, setFirstNameReg] = useState('');\n  const [lastNameReg, setLastNameReg] = useState('');\n  const [email, setEmailReg] = useState('');\n  const history = useHistory();\n\n  Axios.defaults.withCredentials = true;\n\n  const register = () => {\n    if (!isSamePassword(passwordOneReg, passwordTwoReg)) {\n      alert('Passwords do not match, please re-enter');\n      document.getElementById('new-password-form').value = '';\n      document.getElementById('new-password-two-form').value = '';\n      return;\n    }\n\n    if (!isValidUsername(usernameReg)) {\n      alert('Invalid User Name');\n      document.getElementById('new-username-form').value = '';\n      return;\n    }\n\n    if (!isValidPassword(passwordOneReg)) {\n      alert('Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      document.getElementById('new-password-form').value = '';\n      document.getElementById('new-password-two-form').value = '';\n      return;\n    }\n\n    if (!isValidEmail(email)) {\n      alert('Invalid email, please re-enter');\n      document.getElementById('exampleInputEmail1').value = '';\n      return;\n    }\n\n    addUser(usernameReg, passwordOneReg, firstNameReg, lastNameReg, email).then((response) => {\n      console.log(response);\n      // if valid signup proceed to the login page\n      history.push('/signup');\n    }).catch((e) => {\n      console.log(e);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Sign Up</h2>\n          <div className=\"form-group\">\n            <label htmlFor=\"new-username-form\">Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"exampleInputEmail1\">Email address</label>\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"Enter email\"\n              onChange={(e) => setEmailReg(e.target.value)}\n            />\n            <small id=\"emailHelp\" className=\"form-text text-muted\">We will never share your email with anyone else.</small>\n          </div>\n          <div className=\"form-group\">\n            <label>First Name:</label>\n            <input\n              type=\"name\"\n              id=\"new-first-name-form\"\n              className=\"form-control\"\n              placeholder=\"Enter First Name\"\n              onChange={(e) => setFirstNameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Last Name:</label>\n            <input\n              type=\"name\"\n              id=\"new-last-name-form\"\n              placeholder=\"Enter Last Name\"\n              className=\"form-control\"\n              onChange={(e) => setLastNameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              id=\"new-password-form\"\n              aria-describedby=\"passwordHelp\"\n              className=\"form-control\"\n              placeholder=\"Enter Password\"\n              onChange={(e) => setPasswordOneReg(e.target.value)}\n            />\n            <small id=\"passwordHelp\" className=\"form-text text-muted\">Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character</small>\n\n          </div>\n          <div className=\"form-group\">\n            <label>Confirm Password:</label>\n            <input\n              type=\"password\"\n              id=\"new-password-two-form\"\n              className=\"form-control\"\n              placeholder=\"Re-Enter Password\"\n              onChange={(e) => setPasswordTwoReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={register}\n            >\n              Sign Up\n            </button>\n          </div>\n          <p>\n            Already have an account?&nbsp;\n            <Link to=\"/login\">Log in here!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Redirect } from 'react-router-dom';\nimport { deactivateProfile } from './Module';\nimport './DialogPassword.css';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function DialogPassword() {\n  const username = getCurrentUsername();\n  const [open, setOpen] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  const [clue, setClue] = useState('');\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setClue('');\n  };\n\n  const handleCloseDelete = () => {\n    const input = document.getElementById('passwordInput').value;\n    if (input !== '') {\n      deactivateProfile(username, input).then((response) => {\n        console.log(response);\n        setOpen(false);\n        setRedirect(true);\n      }).catch((err) => {\n        console.log(err);\n        setClue('Incorrect entry');\n      });\n    }\n  };\n\n  return !redirect ? (\n    <div>\n      <button id=\"delete\" style={{ color: '#00695c', border: 'none', backgroundColor: 'inherit' }} type=\"button\" onClick={handleClickOpen}>Delete account</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Confirm account deletion</DialogTitle>\n        <DialogContent>\n          <TextField\n            error={clue !== ''}\n            autoFocus\n            margin=\"dense\"\n            id=\"passwordInput\"\n            label=\"Input password\"\n            type=\"password\"\n            fullWidth\n            helperText={clue}\n          />\n        </DialogContent>\n        <DialogActions>\n          <button className=\"btn cancel\" type=\"button\" onClick={handleClose}>\n            Cancel\n          </button>\n          <button className=\"btn delete\" type=\"button\" onClick={handleCloseDelete}>\n            Delete\n          </button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  ) : <Redirect to=\"/login\" />;\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport isValidPassword from './authentication';\nimport { updatePassword } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function DialogPasswordChange() {\n  const username = getCurrentUsername();\n  const [open, setOpen] = useState(false);\n  const [checker, setChecker] = useState(true);\n  const [isValid, setIsValid] = useState(true);\n  const handleClickOpen = () => {\n    setChecker(true);\n    setOpen(true);\n    setIsValid(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCloseChange = () => {\n    const oldPassword = document.getElementById('oldPassword').value;\n    const newPassword = document.getElementById('newPassword').value;\n    const isNotEqual = oldPassword !== newPassword;\n    const oldIsNull = oldPassword !== '';\n    const newIsNull = newPassword !== '';\n    if (checker && isValid && isNotEqual && newIsNull && oldIsNull) {\n      updatePassword(username, newPassword, oldPassword).then((response) => {\n        if (response.status === 200) {\n          setOpen(false);\n        } else {\n          setOpen(true);\n        }\n      }).catch((err) => console.log(err.message));\n    }\n  };\n  return (\n    <div>\n      <button id=\"change\" style={{ color: '#00695c', border: 'none', backgroundColor: 'inherit' }} type=\"button\" onClick={handleClickOpen}>Change password</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Change password</DialogTitle>\n\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"oldPassword\"\n            label=\"Old password\"\n            type=\"password\"\n            fullWidth\n          />\n\n          <TextField\n            error={!isValid}\n            autoFocus\n            onChange={(event) => {\n              setIsValid(isValidPassword(event.target.value));\n            }}\n            margin=\"dense\"\n            id=\"newPassword\"\n            label=\"Input new password\"\n            type=\"password\"\n            fullWidth\n            helperText={isValid ? 'Password is strong!' : 'Password needs a min length of 8. It must consist of at 8 ...'}\n          />\n\n          <TextField\n            error={!checker}\n            onChange={(event) => {\n              setChecker(event.target.value === document.getElementById('newPassword').value);\n            }}\n            autoFocus\n            margin=\"dense\"\n            id=\"newPasswordConfirmed\"\n            label=\"Confirm new password\"\n            type=\"password\"\n            fullWidth\n            helperText={checker ? '' : 'New password must be identical'}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"#00695c\">\n            Cancel\n          </Button>\n          <Button onClick={handleCloseChange} color=\"primary\">\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","export default function isValidPassword(password) {\n  const strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})');\n  return strongRegex.test(password);\n}\n\nexport function isValidUsername(userName) {\n  const valid = new RegExp('^[a-zA-Z0-9_]*$');\n  return valid.test(userName);\n}\n\nexport function isValidEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n","import React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getCurrentUsername } from '../auth/authServices';\n// import { getFriends } from './Module';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function ScrollDialog({\n  secondary, title, secondTitle, getFunction, Icon, handle, iconText,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [scroll, setScroll] = useState('paper');\n  const [items, setItems] = useState([]);\n  const user = getCurrentUsername();\n  const createItem = (data) => {\n    console.log(data.profile_picture);\n    const toRet = (\n      <ListItem>\n        <ListItemAvatar>\n          <Avatar\n            alt=\"\"\n            src={`/api/viewFile/${data.profile_picture}`}\n          />\n        </ListItemAvatar>\n        <ListItemText primary={data.username} secondary={secondary} />\n        <Tooltip title={iconText} placement=\"top\">\n          <Icon className=\"button\" color=\"secondary\" onClick={() => handle(data.username)} />\n        </Tooltip>\n      </ListItem>\n    );\n    return toRet;\n  };\n  const handleClickOpen = (scrollType) => () => {\n    console.log('here');\n    getFunction(user).then((response) => {\n      let newItems = [];\n      if (response.data.friends) {\n        newItems = response.data.friends.map((e) => createItem(e));\n        console.log(response.data.friends);\n      } else if (response.data.followers) {\n        newItems = response.data.followers.map((e) => createItem(e));\n        console.log(response.data.followers);\n      }\n      setItems(newItems);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n    setOpen(true);\n    setScroll(scrollType);\n  };\n\n  useEffect(() => {\n  }, [items]);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <div>\n      <button\n        onClick={handleClickOpen('paper')}\n        className=\"btn\"\n        id=\"delete\"\n        style={{\n          color: '#00695c',\n          border: 'none',\n          backgroundColor: 'inherit',\n        }}\n        type=\"button\"\n      >\n        {title}\n      </button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        scroll={scroll}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle id=\"scroll-dialog-title\">{secondTitle}</DialogTitle>\n        <DialogContent dividers={scroll === 'paper'}>\n          <List className={classes.root}>\n            {items}\n          </List>\n        </DialogContent>\n        <DialogActions>\n          <button\n            onClick={handleClose}\n            className=\"btn\"\n            id=\"delete\"\n            style={{\n              color: '#00695c',\n              border: 'none',\n              backgroundColor: 'inherit',\n            }}\n            type=\"button\"\n          >\n            Close\n          </button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport './Profile.css';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport DialogPassword from './DialogPassword';\nimport DialogPasswordChange from './DialogPasswordChange';\nimport ScrollDialog from './DisplayerDialog';\nimport { getBlockedFollowers, unBlockUser } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Profile(props) {\n  const user = getCurrentUsername();\n  const date = (props.data.date.split('T'))[0];\n  const handleUnblock = (username) => {\n    unBlockUser(user, username).then((res) => {\n      console.log(res.message);\n      getBlockedFollowers(user).then((result) => {\n        console.log(result.data.friends);\n      });\n    });\n  };\n\n  const profilePic = props.data.profile_picture;\n  console.log(`pics${profilePic}`);\n  const profilePicUrl = `/api/viewFile/${profilePic}`;\n  return (\n    <div className=\"container-profile\">\n      <div className=\"pictures\">\n        <img src={profilePicUrl} alt=\"\" id=\"overlay\" />\n        <img src={profilePicUrl} alt=\"\" id=\"originalDiv\" />\n      </div>\n      <br />\n      <div className=\"username\">\n        <span style={{ color: '#0C8367' }} id=\"username\">{props.data.username}</span>\n        <span style={{ color: '#0C8367' }} id=\"username\">{`Since: ${date}`}</span>\n      </div>\n      <div className=\"deleteButton\">\n        <ScrollDialog\n          secondary=\"blocked\"\n          title=\"My Blocked Users\"\n          secondTitle=\"Blocked Users\"\n          getFunction={getBlockedFollowers}\n          Icon={LockOpenIcon}\n          handle={handleUnblock}\n          iconText=\"Unblock User\"\n        />\n        <DialogPassword />\n        <DialogPasswordChange />\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n// import MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport HomeIcon from '@material-ui/icons/Home';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport { useHistory } from 'react-router-dom';\nimport { logout } from '../auth/authServices';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PrimarySearchAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const history = useHistory();\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    const path = '/profile';\n    history.push(path);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleClick = () => {\n    const path = '/home';\n    history.push(path);\n  };\n\n  const handleLogOut = () => {\n    logout();\n    const path = '/login';\n    history.push(path);\n  };\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={handleClick}>Home</MenuItem>\n      <MenuItem onClick={handleMenuClose}>My Account</MenuItem>\n      <MenuItem onClick={handleLogOut}>Log Out</MenuItem>\n\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleClick}>\n        <IconButton color=\"inherit\">\n          <Badge>\n            <HomeIcon />\n          </Badge>\n        </IconButton>\n        <p>Home</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n          <Badge badgeContent={4} color=\"secondary\">\n            <MailIcon />\n          </Badge>\n        </IconButton>\n        <p>Messages</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n          <Badge badgeContent={11} color=\"secondary\">\n            <NotificationsIcon />\n          </Badge>\n        </IconButton>\n        <p>Notifications</p>\n      </MenuItem>\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n          onClick={handleClick}\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>Home</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div style={{ position: 'relative', top: '0px' }}>\n      <div style={{ position: 'relative', top: '0px' }} className=\"rest\">\n        <div className={classes.grow}>\n          <AppBar style={{ backgroundColor: '#0C8367' }} position=\"static\">\n            <Toolbar>\n              {/* <IconButton\n                edge=\"start\"\n                className={classes.menuButton}\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n              >\n                <MenuIcon />\n              </IconButton> */}\n              <Typography className={classes.title} variant=\"h6\" noWrap>\n                Trinirwa Microblog\n              </Typography>\n              <div className={classes.grow} />\n              <div className={classes.sectionDesktop}>\n                <IconButton\n                  onClick={handleClick}\n                  color=\"inherit\"\n                >\n                  <Badge>\n                    <HomeIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n                  <Badge badgeContent={4} color=\"secondary\">\n                    <MailIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton aria-label=\"show 17 new notifications\" color=\"inherit\">\n                  <Badge badgeContent={17} color=\"secondary\">\n                    <NotificationsIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"account of current user\"\n                  aria-controls={menuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleProfileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <AccountCircle />\n                </IconButton>\n              </div>\n              <div className={classes.sectionMobile}>\n                <IconButton\n                  aria-label=\"show more\"\n                  aria-controls={mobileMenuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleMobileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <MoreIcon />\n                </IconButton>\n              </div>\n            </Toolbar>\n          </AppBar>\n          {renderMobileMenu}\n          {renderMenu}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function DialogBox(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    const input = document.getElementById('interest').value;\n    props.onClose(input);\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button color=\"primary\" onClick={handleClickOpen}>\n        Add interest\n      </Button>\n      <Dialog open={open} onClose={handleClickOpen} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add interest</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"interest\"\n            type=\"string\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport './Displayer.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Divider from '@material-ui/core/Divider';\nimport DialogBox from './Dialog';\n\nexport default function Displayer({ interests, addInterest, deleteInterest }) {\n  const items = [];\n  interests.forEach((interest) => {\n    items.push(\n      <li key={interest} onClick={() => deleteInterest(interest)} className=\"badge rounded-pill bg-secondary m-2\">\n        {interest}\n      </li>,\n    );\n  });\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"section1\">\n        <ul>{items}</ul>\n      </div>\n      <Divider variant=\"middle\" />\n      <div className=\"section2\">\n        <DialogBox onClose={addInterest} />\n      </div>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport './Follower.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(2),\n      borderRadius: '100%',\n      padding: 0,\n      overflow: 'none',\n    },\n  },\n}));\n\nexport default function Follower({ info, handleB, handleF }) {\n  const classes = useStyles();\n  return (\n    <div className=\"Container_two\">\n      <div className={classes.root}>\n        <Tooltip title=\"Block user\" placement=\"top\">\n          <BlockIcon fontSize=\"small\" className=\"button\" color=\"secondary\" onClick={() => handleB(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Follow\" placement=\"top\">\n          <PersonAddIcon fontSize=\"small\" className=\"button\" onClick={() => handleF(info.username)} />\n        </Tooltip>\n      </div>\n      <div className=\"followerContainer\">\n        <div className=\"myimgContainer\">\n          <img\n            className=\"myimg\"\n            src={`/api/viewFile/${info.profile_picture}`}\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div style={{ fontWeight: 'bold', color: '#0C8367' }} className=\"text\">{info.username}</div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Follower from './Follower';\nimport ScrollDialog from './DisplayerDialog';\nimport { blockFollower, followUser, getFollowers } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Followers() {\n  const user = getCurrentUsername();\n  const [list, setFollowers] = useState([]);\n  useEffect(() => {\n    getFollowers(user).then((result) => {\n      setFollowers(result.data.followers);\n    });\n  }, []);\n\n  // handling blocking\n  const handleB = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        setFollowers(result.data.followers);\n      });\n    });\n  };\n  // handling following\n  const handleF = (username) => {\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        setFollowers(result.data.followers);\n      });\n    });\n  };\n\n  const items = list.map((e) => <Follower info={e} handleB={handleB} handleF={handleF} />);\n  return (\n    <div className=\"box-container\">\n      <div className=\"buttonFollowers\">\n        <ScrollDialog\n          secondary=\"follower\"\n          title=\"All followers\"\n          secondTitle=\"All followers\"\n          getFunction={getFollowers}\n          Icon={PersonAddIcon}\n          handle={handleF}\n          iconText=\"Follow\"\n        />\n      </div>\n      <div style={{ color: '#0C8367' }} className=\"title\">Followers</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {items}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport './Follower.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1.5),\n      borderRadius: '100%',\n      padding: 0,\n      overflow: 'none',\n    },\n  },\n}));\n\nexport default function Friend({\n  info, handleB, handleMessage, handleU,\n}) {\n  const classes = useStyles();\n  return (\n    <div className=\"Container_two\">\n      <div className={classes.root}>\n        <Tooltip title=\"Message\" placement=\"top\">\n          <ChatIcon fontSize=\"small\" className=\"button\" onClick={() => handleMessage(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Block user\" placement=\"top\">\n          <BlockIcon fontSize=\"small\" className=\"button\" color=\"secondary\" onClick={() => handleB(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Unfollow\" placement=\"top\">\n          <PersonAddDisabledIcon fontSize=\"small\" className=\"button\" onClick={() => handleU(info.username)} />\n        </Tooltip>\n      </div>\n      <div className=\"followerContainer\">\n        <div className=\"myimgContainer\">\n          <img\n            className=\"myimg\"\n            src={`/api/viewFile/${info.profile_picture}`}\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div style={{ fontWeight: 'bold', color: '#0C8367' }} className=\"text\">{info.username}</div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport { useHistory } from 'react-router-dom';\nimport Friend from './Friend';\nimport {\n  // eslint-disable-next-line no-unused-vars\n  blockFollower, getFriends, unfollowUser, updateHasRead,\n} from './Module';\nimport ScrollDialog from './DisplayerDialog';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Friends() {\n  const history = useHistory();\n  const user = getCurrentUsername();\n  const [friends, setFriends] = useState([]);\n  useEffect(() => {\n    getFriends(user).then((result) => {\n      setFriends(result.data.friends);\n    });\n  }, []);\n\n  const handleB = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n      getFriends(user).then((result) => {\n        setFriends(result.data.friends);\n      });\n    });\n  };\n\n  const handleU = (username) => {\n    unfollowUser(user, username).then((res) => {\n      console.log(res.message);\n      getFriends(user).then((result) => {\n        setFriends(result.data.friends);\n      });\n    });\n  };\n\n  const handleMessage = (username) => {\n    console.log(username);\n    localStorage.setItem('receiver', JSON.stringify(username));\n\n    history.push('/message');\n  };\n\n  const items = friends.map((e) => <Friend info={e} handleMessage={handleMessage} handleB={handleB} handleU={handleU} />);\n  return (\n    <div className=\"box-container\">\n      <div className=\"buttonFollowers\">\n        <ScrollDialog\n          secondary=\"friends\"\n          title=\"All friends\"\n          secondTitle=\"All friends\"\n          getFunction={getFriends}\n          Icon={PersonAddDisabledIcon}\n          handle={handleU}\n          iconText=\"Unfollow\"\n        />\n      </div>\n      <div style={{ color: '#0C8367' }} className=\"title\">Friends</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {items}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport './CommentInput.css';\nimport TextField from '@material-ui/core/TextField';\n\nexport default function CommentInput({ id, handleComment }) {\n  const [input, setInput] = useState('');\n  const [count, setCount] = useState(255);\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n      setInput(e.target.value);\n      console.log(input);\n    }\n  };\n  return (\n    <div className=\"comment_box\">\n      <div className=\"commentInpCtn\">\n        <TextField\n          id={`${id}`}\n          label=\"Comment on post\"\n          multiline\n          rowsMax={4}\n          helperText={`${count} remaining chars`}\n          variant=\"outlined\"\n          inputProps={{ maxLength: 255 }}\n          onChange={(e) => handleChange(e)}\n          fullWidth\n        />\n      </div>\n      <div className=\"commentBtnCtn\">\n        <button onClick={() => handleComment(input)} id=\"commentButton\" type=\"button\"> Comment</button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport './CommentDisplayer.css';\n\nexport default function DialogComment({ id, content, updatePost }) {\n  const cont = content;\n  const [open, setOpen] = React.useState(false);\n  const [count, setCount] = useState(255);\n  const [input, setInput] = useState('');\n  const handleChange = (e) => {\n    setInput(e.target.value);\n    setCount(255 - e.target.value.length);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClosePostChanged = () => {\n    updatePost(input);\n    setOpen(false);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <button onClick={handleClickOpen} id=\"editBtn\" type=\"button\">Edit</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Subscribe</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Changes will be made once you post them!\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id={`name${id}`}\n            label=\"Edit post\"\n            type=\"email\"\n            multiline\n            fullWidth\n            helperText={`${count} remaining chars`}\n            defaultValue={cont}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button style={{ color: 'green' }} onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button style={{ color: 'green' }} onClick={() => handleClosePostChanged(input)} color=\"primary\">\n            Post changes\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport './CommentDisplayer.css';\nimport DialogComment from './DialogComment';\nimport { getCurrentUsername } from '../auth/authServices';\nimport { getAvatar, updateComment } from './Module';\n\nexport default function CommentDisplayer({ data, handleDeleteComment }) {\n  const [avatar, setAvatar] = useState('');\n  const [content, setContent] = useState(data.content);\n  const user = getCurrentUsername();\n  const isOwner = data.user === user;\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const updatePost = (newContent) => {\n    if (newContent === '') {\n      return;\n    }\n    setContent(newContent);\n    updateComment(data.comm_id, newContent).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"comment_cont\" stlye={{ height: '200px', width: '100px', backgroundColor: 'red' }}>\n      <div className=\"comment_header\">\n        <div className=\"header_profile\">\n          <img id=\"comment_picture\" src={`/api/viewFile/${avatar}`} alt=\"\" />\n        </div>\n        <div className=\"header_name\">\n          <span id=\"cmnt_username\">{data.user}</span>\n        </div>\n      </div>\n      <div className=\"cmnt_cntBtn_box\" style={{ width: 'fit-content' }}>\n        <div className=\"cmnt_cnt_box\">\n          <span id=\"cmnt_cnt\">{content}</span>\n        </div>\n        <div className=\"cmnt_btns_box\">\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"cmnt_EditBtn_box\">\n            <DialogComment id={data.comm_id} updatePost={updatePost} content={content} />\n          </div>\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"cmnt_EditBtn_box\">\n            <button onClick={() => handleDeleteComment(data.comm_id)} id=\"deleteBtn\" type=\"button\">Delete</button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","/* eslint-disable react/jsx-key */\nimport React, { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport Typography from '@material-ui/core/Typography';\nimport { getAllCommentsForTweet, getHiders } from './Module';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const {\n    children, classes, onClose,\n  } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default function DialogAnalytics({ tweetId }) {\n  const [hiders, setHiders] = useState([]);\n  const [commentors, setCommentors] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const getData = async () => {\n    await getAllCommentsForTweet(tweetId).then((res) => {\n      const { comments } = res.data;\n      setCommentors(comments.map((com) => com.user));\n    }).catch((err) => console.log(err.message));\n    await getHiders(tweetId).then((res) => {\n      setHiders(res.data.hiders.map((hider) => hider.user));\n    }).catch((err) => console.log(err.message));\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n\n  }, [hiders, commentors, open]);\n  return (\n    <div>\n      <div>\n        <IconButton\n          onClick={handleClickOpen}\n          style={{\n            borderRadius: '50%',\n            padding: '3',\n          }}\n        >\n          <AssessmentIcon />\n        </IconButton>\n        <span id=\"analytics_btn\" style={{ color: '#0C8367' }}>Analytics</span>\n      </div>\n      <Dialog\n        onClose={handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n      >\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n          Tweet analytics\n        </DialogTitle>\n        <DialogContent dividers>\n          <div style={{ display: 'flex', minWidth: '100px' }}>\n            <div>\n              <span style={{ margin: 'auto', color: '#0C8367', fontWeight: 'bold' }}>Commentors</span>\n              <ol style={{ margin: 'auto', listStyleType: 'circle' }}>\n                {commentors.map((e) => (\n                  <li>\n                    {e}\n                  </li>\n                ))}\n              </ol>\n            </div>\n            <div style={{ marginLeft: '5px', borderRadius: '8px', backgroundColor: '#D0EAE4' }} className=\"hiders\">\n              <div style={{ display: 'flex' }}>\n                <span style={{ margin: 'auto', color: '#0C8367', fontWeight: 'bold' }}>Hiders</span>\n              </div>\n\n              <ol style={{ margin: 'auto', listStyleType: 'circle' }}>\n                {hiders.map((hider) => (\n                  <li key={hider}>\n                    {hider}\n                    {' '}\n                  </li>\n                ))}\n              </ol>\n            </div>\n          </div>\n\n        </DialogContent>\n        <DialogActions />\n      </Dialog>\n    </div>\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport LikeIcon from '@material-ui/icons/FavoriteBorderRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CommentInput from './CommentInput';\nimport {\n  getAvatar,\n  updateTweetLikes,\n  isLiked,\n  unLikeTweet,\n  likeTweet,\n  addComment,\n  getAllCommentsForTweet,\n  updateTweetComments,\n  deleteComment,\n  getHiders,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport CommentDisplayer from './CommentDisplayer';\nimport DialogAnalytics from './AnalyticsTweet';\n\nconst hash = require('object-hash');\n\nexport default function Tweet({ data, handleDelete }) {\n  const user = getCurrentUsername();\n  const [isLikedBool, setIsLike] = useState(false);\n  const [likes, setLikes] = useState(data.tweet_likes);\n  const [numComments, setNumComments] = useState(data.tweet_comments);\n  const [id] = useState(data.tweet_id);\n  const [blocks, setBlocks] = useState(data.tweet_blocks);\n  const [isOwner] = useState(data.user === user);\n  const [avatar, setAvatar] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [items, setItems] = useState([]);\n  const [allComments, setComments] = useState([]);\n  const [display, setDisplay] = useState(true);\n  const postComment = (content, tweetId) => {\n    const timestamp = new Date().toISOString();\n    const commentId = hash(`${content}${user}${timestamp}`);\n    const newComment = {\n      comment_id: commentId,\n      tweet_id: tweetId,\n      user,\n      content,\n      timestamp,\n    };\n    allComments.unshift(newComment);\n    addComment(newComment).then((res) => {\n      console.log(res.message);\n      updateTweetComments(id, numComments + 1).then((result) => {\n        console.log(result.message);\n        setNumComments(numComments + 1);\n      }).catch((err) => console.log(err.message));\n    }).catch((err) => console.log(err.message));\n  };\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await isLiked(user, data.tweet_id).then((res) => {\n      if (res.data.bool.length) {\n        setIsLike(true);\n      } else {\n        setIsLike(false);\n      }\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await getAllCommentsForTweet(data.tweet_id).then((res) => {\n      const { comments } = res.data;\n      setComments(comments);\n    }).catch((err) => console.log(err.message));\n    await getHiders(id).then((res) => {\n      console.log(res.data);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleComment = (input, countComments) => {\n    if (input === '') return;\n    postComment(input, id);\n  };\n  const handleDeleteorHideInternal = () => {\n    setDisplay(false);\n    handleDelete(id, isOwner);\n  };\n  const handleDeleteComment = (toDel) => {\n    const newList = allComments.filter((comment) => comment.comm_id !== toDel);\n    setComments(newList);\n    deleteComment(toDel).then((res) => {\n      console.log(res);\n      setNumComments(numComments - 1);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleClick = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleLike = () => {\n    if (isLikedBool) {\n      unLikeTweet(user, id).then((res) => {\n        if (res.status === 200) {\n          updateTweetLikes(id, likes - 1).then((result) => {\n            console.log(result.message);\n            setLikes(likes - 1);\n          }).catch((err) => {\n            console.log(err.message);\n          });\n        }\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      likeTweet(user, id).then((res) => {\n        updateTweetLikes(id, likes + 1).then((result) => {\n          console.log(result);\n          setLikes(likes + 1);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    }\n    setIsLike(!isLikedBool);\n  };\n\n  useEffect(() => {\n  }, [items]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.tweet_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n  return (\n    <>\n      <div style={{ display: display ? 'block' : 'none' }} id=\"container_tweet\">\n        <div className=\"tweet_header\">\n          <div className=\"tweet_img\">\n            <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n          </div>\n          <div className=\"tweet_text\">\n            <span\n              style={{\n                fontSize: '13px',\n                fontWeight: 'bold',\n              }}\n              id=\"author_username\"\n            >\n\n              {data.user}\n            </span>\n            <span style={{ fontSize: '10px' }} id=\"date\">\n              {date}\n            </span>\n          </div>\n        </div>\n        <div id=\"menu\">\n          <Tooltip title={isOwner ? 'Delete post' : 'Hide post'} placement=\"top\">\n            <IconButton\n              style={{\n                borderRadius: '50%',\n                padding: '3',\n                color: '#0C8367',\n              }}\n              onClick={handleDeleteorHideInternal}\n            >\n              <CloseRoundedIcon id={data.tweet_id} />\n            </IconButton>\n          </Tooltip>\n        </div>\n        <Divider variant=\"middle\" />\n        <div className=\"tweet_content\">\n          <>\n            {data.type === 'text' && (\n            <p style={{ textAlign: 'left' }}>\n              {data.content}\n            </p>\n            )}\n            {data.type === 'video' && (\n            // eslint-disable-next-line jsx-a11y/media-has-caption\n            <video className=\"tweet_video\" controls>\n              {' '}\n              <source src={newMedia} />\n            </video>\n            )}\n            {data.type === 'song' && (\n            // eslint-disable-next-line jsx-a11y/media-has-caption\n            <audio controls>\n              <source src={newMedia} />\n            </audio>\n            )}\n            {data.type === 'picture' && <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />}\n          </>\n\n        </div>\n        <Divider variant=\"middle\" />\n        <div className=\"comment\">\n          <CommentInput handleComment={handleComment} />\n        </div>\n        <div\n          className=\"comment_item\"\n          style={{\n            height: isOpen ? '300px' : '200px',\n            display: numComments > 0 ? 'block' : 'none',\n          }}\n        >\n          <div style={{\n            margin: 'auto',\n            textAlign: 'center',\n            fontWeight: 'bold',\n            color: '#0C8367',\n          }}\n          >\n            <span>{ (numComments !== 0) ? `${numComments} comments` : 'Comments'}</span>\n          </div>\n          <div style={{\n            margin: 'auto', width: '90%', height: '100%',\n          }}\n          >\n            <ul\n              id={`list${id}`}\n              style={{\n                whiteSpace: 'nowrap', listStyleType: 'none',\n              }}\n            >\n              {allComments.map((comment) => (\n                <li style={{ marginBottom: '35px' }} key={comment.comm_id}>\n                  <CommentDisplayer data={comment} handleDeleteComment={handleDeleteComment} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className=\"tweet_bottom\">\n          <div className=\"likes\">\n            <IconButton\n              onClick={handleLike}\n              style={{\n                borderRadius: '50%',\n                padding: '3',\n                color: isLikedBool ? 'red' : 'black',\n              }}\n            >\n              <LikeIcon />\n            </IconButton>\n            <span style={{ color: '#0C8367' }}>{`${likes} likes`}</span>\n          </div>\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"analytics\">\n            <DialogAnalytics\n              tweetId={data.tweet_id}\n            />\n          </div>\n          <div className=\"comments\">\n            <button onClick={() => handleClick()} id=\"viewCommentsBtn\" type=\"button\">{!isOpen ? 'View more' : 'View less'}</button>\n          </div>\n        </div>\n      </div>\n    </>\n\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Tweet from './Tweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addTweet,\n  deleteTweet,\n  fetchAllTweets,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerTweets() {\n  const history = useHistory();\n\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      deleteTweet(id).then((res) => {\n        window.location.reload();\n        console.log('message: delete:', res.message);\n        setUpdate(true);\n        console.log('deleted:', toDisplay.delete(items.get(id)));\n        items.delete(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        window.location.reload();\n        toDisplay.delete(items.get(id));\n        items.delete(id);\n        setUpdate(true);\n        // updating blocks\n      }).catch((err) => console.log(err));\n    }\n  };\n\n  useEffect(() => {\n    console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postTweet = () => {\n    setCount(255);\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(tweetId, toAdd);\n    // newItems.set(tweetId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addTweet(newTweet).then((res) => {\n      console.log(res.message);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchAllTweets(user).then((res) => {\n      const { tweets } = res.data;\n      tweets.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const goLiveHandler = () => {\n    history.push('/videochat');\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  // console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"tweet\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            onClick={goLiveHandler}\n            startIcon={<LiveTvIcon />}\n          >\n            Go live\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postTweet}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Profile from './ProfilePicture';\nimport NavBar from './navBar';\nimport Displayer from './Displayer';\nimport Followers from './Followers';\nimport Friends from './Friends';\n\n// import SearchBox from './Search2';\nimport DisplayerTweets from './CenterDisplay';\nimport './ProfilePage.css';\n// import TweetDisplayer from './tweetDisplayer';\nimport {\n  addInterest, deleteInterest, getProfileData,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function ProfilePage() {\n  const username = getCurrentUsername();\n  const [info, setData] = useState([{}]);\n  const [interests, setInterests] = useState(new Set());\n  const [madeQuery, setMadeQuery] = useState(false);\n  // const [tweets, setTweets] = useState([{}]);\n  const [childKey, setChildKey] = useState(0);\n  // const handleFetchTweets = () => {\n  //   fetchTweets(id).then((result) => {\n  //     setTweets(result.data);\n  //   });\n  // };\n  // console.log(`local storage Username = ${newUsername}`);\n\n  useEffect(() => {\n    getProfileData(username).then((result) => {\n      console.log(result.data.data[0]);\n      setData(result.data.data[0]);\n      const newInterest = new Set((result.data.interests).map((obj) => obj.interest));\n      setInterests(newInterest);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n    setMadeQuery(true);\n    // handleFetchTweets();\n  }, []);\n\n  const handleAddInterest = (newInterest) => {\n    setInterests([...interests, newInterest]);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    addInterest(newInterest, username);\n  };\n\n  const handleDeleteInterest = (interest) => {\n    const temp = interests;\n    temp.delete(interest);\n    setInterests(temp);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    deleteInterest(interest, username);\n  };\n\n  return madeQuery ? (\n    <div className=\"profile\">\n      <div\n        style={{\n          width: '98%', margin: 'auto',\n        }}\n      >\n        <div style={{ position: 'relative', top: '0px' }} className=\"rest\">\n          <NavBar />\n          <Profile data={info} user={username} />\n        </div>\n        <div className=\"all_boxes\">\n          <div className=\"left-boxes\">\n            <div className=\"left-Displayer\">\n              <Displayer\n                key={childKey}\n                interests={interests}\n                addInterest={handleAddInterest}\n                deleteInterest={handleDeleteInterest}\n              />\n            </div>\n            <div className=\"left-friends\">\n              <Friends />\n            </div>\n            <div className=\"left-followers\">\n              <Followers />\n            </div>\n          </div>\n          <div className=\"right_boxes\">\n            <DisplayerTweets />\n          </div>\n        </div>\n      </div>\n    </div>\n\n  ) : <div />;\n}\n","import React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport {\n  BrowserRouter as Router, Link, useHistory,\n} from 'react-router-dom';\nimport '../App.css';\nimport {\n  userLogin, getNumberFailedLogins, updateNumberFailedLogins,\n  getDateUserLastLockedOut, setLockOutTime, reactivateProfile,\n} from './Module';\n\nexport default function Login() {\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [numIncorrectLogins, setnumIncorrectLogins] = useState(0);\n  const [dateUserLastLockedOut, setDateUserLastLockedOut] = useState('');\n  // eslint-disable-next-line prefer-const\n  let [isLockedOut] = useState(false);\n\n  Axios.defaults.withCredentials = true;\n\n  useEffect(() => setnumIncorrectLogins(numIncorrectLogins), [numIncorrectLogins]);\n  useEffect(() => console.log(`changed dateUserLastLockedOut ${dateUserLastLockedOut}`), [dateUserLastLockedOut]);\n  // useEffect(() => console.log(`changed uid ${uid}`), [uid]);\n  useEffect(() => console.log(`changed isLockedOut ${isLockedOut}`), [isLockedOut]);\n\n  const loginOnClick = () => {\n    // const dateTime = new Date().toISOString();\n    setUsername(username);\n    userLogin(username, password).then((response) => {\n      localStorage.setItem('username', JSON.stringify(username));\n      // reactivate just in case\n      reactivateProfile(username, password).then(() => {\n      }).catch((er) => {\n        console.log(er);\n      });\n      getNumberFailedLogins(username).then((resOne) => {\n        console.log('resOne.data.message', resOne.data.message);\n        // eslint-disable-next-line eqeqeq\n        if (resOne.data.message == '200') {\n          let fetchNumberFailedLogins = 0;\n          [fetchNumberFailedLogins] = [Array.from(resOne.data.data)[0].number_failed_logins];\n          setnumIncorrectLogins(fetchNumberFailedLogins);\n          // new query\n          getDateUserLastLockedOut(username).then((resTwo) => {\n            let tmpDateUserLastLockedOut = '';\n            [tmpDateUserLastLockedOut] = [Array.from(resTwo.data.data)[0].date_last_locked_out];\n            // console.log('fetched fetchedNumberOfIncorrectLogins = ');\n            // console.log(fetchNumberFailedLogins);\n            setDateUserLastLockedOut(tmpDateUserLastLockedOut);\n            if (fetchNumberFailedLogins > 3) {\n              // setIsLockedOut(true);\n              // const dateTimeOne = new Date(dateTime);\n              // console.log('dateUserLastLockedOut = ', tmpDateUserLastLockedOut);\n              // console.log('dateTimeTwo = ', tmpDateUserLastLockedOut);\n              isLockedOut = true;\n              const dateTimeTwo = new Date(tmpDateUserLastLockedOut);\n              const timeDiffMs = new Date() - dateTimeTwo;\n              const lockOutTime = 3600 * 1000; // one hour lockOut\n              const isTimeOver = timeDiffMs > lockOutTime;\n              // console.log(`timeDiffMs : ${timeDiffMs}`);\n              // console.log(`isTimeOver : ${isTimeOver}`);\n              if (isTimeOver) {\n                isLockedOut = false;\n                // reset\n                updateNumberFailedLogins(username, 0).catch((e) => {\n                  console.log(e);\n                });\n              }\n              // setIsLockedOut(isTimeOver);\n            }\n\n            // console.log(`isLockedOut before if : ${isLockedOut}`);\n            if (isLockedOut === false) {\n              if (response.data.message) {\n                // need to revoke login access to this account\n                if (parseInt(fetchNumberFailedLogins, 10) === 3) {\n                  setLockOutTime(username);\n                }\n                // console.log(`numIncorrectLogins =${fetchNumberFailedLogins}`);\n                const numberFailedLoginsPlusOne = parseInt(fetchNumberFailedLogins, 10) + 1;\n                alert(`Wrong Password! You have ${3 - numberFailedLoginsPlusOne} attempts left before you get locked out`);\n                updateNumberFailedLogins(username, (numberFailedLoginsPlusOne))\n                  .catch((e) => {\n                    console.log(e);\n                  });\n                // document.getElementById('new-password-form').value = '';\n                // document.getElementById('new-username-form').value = '';\n                alert(response.data.message);\n                history.push('/login');\n                document.getElementById('new-username-form').value = '';\n                document.getElementById('new-password-form').value = '';\n              } else {\n                updateNumberFailedLogins(username, 0).catch((e) => {\n                  console.log(e);\n                });\n                // const fetchedUid = null;\n                // getUid(username).then((resThree) => {\n                //   [fetchedUid] = [Array.from(resThree.data.data)[0].uid];\n                //   console.log('fetched UID = ');\n                //   console.log(fetchedUid);\n                //   setUid(fetchedUid);\n                // }).catch((e) => {\n                //   console.log(e);\n                // });\n                history.push('/home');\n\n                // window.location.reload();\n              }\n            } else {\n              alert('your account has been locked because to too many incorrect attempts, please try back in an hour');\n              history.push('/login');\n              document.getElementById('new-username-form').value = '';\n              document.getElementById('new-password-form').value = '';\n            }\n          }).catch((e) => {\n            console.log(e);\n          });\n        } else {\n          // user enters an erroneous username\n          alert('Username Not Found');\n          history.push('/login');\n          document.getElementById('new-username-form').value = '';\n          document.getElementById('new-password-form').value = '';\n        }\n      }).catch((e) => {\n        console.log(e);\n        alert('Username Not Found');\n        document.getElementById('new-username-form').value = '';\n        document.getElementById('new-password-form').value = '';\n      });\n      // console.log(`Number Of Incorrect Logins${numIncorrectLogins}`);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Log In</h2>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <p>\n            Forgot Password?&nbsp;\n            <Router>\n              <Link to=\"/resetPassword\">Click here to reset!</Link>\n            </Router>\n          </p>\n          <div className=\"form-group text-center\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={loginOnClick}\n            >\n              Log In\n            </button>\n          </div>\n          <p>\n            Don&apos;t have an account?&nbsp;\n            <Router>\n              <Link to=\"/registration\">Sign Up!</Link>\n            </Router>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Sidebar.css';\nimport {\n  useHistory, BrowserRouter as Router,\n} from 'react-router-dom';\nimport { getAvatar } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport Friends from './Friends';\n\nexport default function Sidebar() {\n  const history = useHistory();\n  const [avatar, setAvatar] = useState('');\n  const handleClick = () => {\n    const path = '/profile';\n    history.push(path);\n  };\n  const user = getCurrentUsername();\n\n  useEffect(() => {\n    getAvatar(user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  }, []);\n\n  useEffect(() => {\n  }, [avatar]);\n\n  return (\n    <Router>\n      <div className=\"sidebar\">\n        <div style={{ marginBottom: '5px' }} className=\"bigButton\">\n          <button className=\"button_profile\" onClick={handleClick} type=\"button\">\n            <div className=\"header_box\">\n              <div className=\"img_box\">\n                <img id=\"img\" alt=\"\" src={`/api/viewfile/${avatar}`} />\n              </div>\n              <div className=\"username_box\">\n                <span className=\"user\">{user}</span>\n              </div>\n            </div>\n          </button>\n        </div>\n        <div style={{ marginBottom: '5px' }}>\n          <Friends />\n        </div>\n      </div>\n    </Router>\n  );\n}\n","import { TextField } from '@material-ui/core';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  searchFriend, followUser,\n  getFollowers, blockFollower, getBlockedFollowers, unfollowUser,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './SearchBox.css';\n\nexport default function searchBox() {\n  const user = getCurrentUsername();\n  const [results, setResults] = useState([]);\n  // eslint-disable-next-line no-unused-vars\n  const [blockedUsers, setBlockedUser] = useState(new Set());\n\n  const handleFollow = (username) => {\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        console.log(result.data.followers);\n      });\n    });\n  };\n    // handling blocking\n  const handleBlock = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n  const getData = () => {\n    getBlockedFollowers(user).then((res) => {\n      setBlockedUser(() => new Set([res.data.friends.map((e) => e.username)]));\n    }).catch((err) => console.log(err.message));\n  };\n    //  handling unfollowing\n  const handleUnfollowing = (username) => {\n    unfollowUser(user, username).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const handleChange = (e) => {\n    if (e.target.value === '') {\n      setResults([]);\n      return;\n    }\n    searchFriend(user, e.target.value).then((result) => {\n      console.log(`input: ${e.target.value} , ${user}`);\n      setResults(result.data.friends);\n      console.log(result.data.friends);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n  };\n\n  const searchItem = (info) => {\n    const status = info.followed;\n    const isUser = info.username === user;\n    const blocked = blockedUsers.has(info.username);\n    return (\n      <div className=\"searchItem\">\n        <div className=\"searchImg\">\n          <img id=\"search_img\" src={`/api/viewFile/${info.profile_picture}`} alt=\"\" />\n        </div>\n        <div className=\"search-name\">\n          <span style={{ color: '#0C8367', fontWeight: 'bold' }}>\n            {info.username}\n          </span>\n          <span style={{ fontWeight: 'lighter' }}>\n            {info.followed ? 'following' : 'Follow me PLZ :)'}\n          </span>\n        </div>\n        <div className=\"searchBtn\">\n          <>\n            {(!status && !isUser) && (\n              <Tooltip title=\"Follow\" placement=\"top\">\n                <PersonAddIcon style={{ margin: '2px' }} fontSize=\"small\" className=\"button\" onClick={() => handleFollow(info.username)} />\n              </Tooltip>\n            )}\n            {(blocked && !isUser) && (\n              <Tooltip title=\"Unblock\" placement=\"top\">\n                <LockOpenIcon className=\"button\" style={{ margin: '2px' }} fontSize=\"small\" />\n              </Tooltip>\n            )}\n\n            {(status && !isUser) && (\n              <Tooltip title=\"Unfollow\" placement=\"top\">\n                <PersonAddDisabledIcon style={{ margin: '2px' }} fontSize=\"small\" className=\"button\" onClick={() => handleUnfollowing(info.username)} />\n              </Tooltip>\n            )}\n\n            {!isUser && (\n            <Tooltip title=\"Block\" placement=\"top\">\n              <BlockIcon style={{ margin: '2px' }} fontSize=\"small\" className=\"button\" color=\"secondary\" onClick={() => handleBlock(info.username)} />\n            </Tooltip>\n            )}\n\n          </>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <div>\n      <TextField\n        multiline\n        id=\"tweet\"\n        label=\"Search for contact\"\n        variant=\"outlined\"\n        inputProps={{ maxLength: 255 }}\n        onChange={(e) => handleChange(e)}\n        fullWidth\n      />\n      <div className=\"searchBack\">\n        {results.map((e) => (searchItem(e)))}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport Follower from './Follower';\nimport { blockFollower, followUser, getSuggestions } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Suggestions() {\n  const user = getCurrentUsername();\n  const [suggestions, setSuggestions] = useState([]);\n  const getData = async () => {\n    await getSuggestions(user).then((result) => {\n      if (suggestions.length === 4) {\n        suggestions.push(result.data.suggestions[0]);\n      } else {\n        setSuggestions(result.data.suggestions);\n      }\n    }).catch((err) => console.log(err.message));\n  };\n  const updateList = async (username) => {\n    const newArray = suggestions.filter((e) => e.username !== username);\n    await getSuggestions(user).then((result) => {\n      newArray.push(result.data.suggestions[0]);\n    }).catch((err) => console.log(err.message));\n    setSuggestions(newArray);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  // handling blocking\n  const handleB = (username) => {\n    updateList(username);\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n    });\n  };\n  // handling following\n  const handleF = (username) => {\n    updateList(username);\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n    });\n  };\n\n  return (\n    <div className=\"box-container\">\n      <div style={{ color: '#0C8367' }} className=\"title\">Suggestions</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {suggestions.map((e) => <Follower info={e} handleB={handleB} handleF={handleF} />)}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport './CenterDisplayerHome.css';\n\nimport './CenterDisplay.css';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CommentBox({ handlers }) {\n  const {\n    postTweet, postPicture, postVideo, postSong,\n  } = handlers;\n  const [count, setCount] = useState(255);\n  const handleChange = (e) => {\n    setCount(255 - (e.target.value).length);\n  };\n  const history = useHistory();\n  const classes = useStyles();\n  const goLiveHandler = () => {\n    history.push('/videochat');\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPictureCommentBox').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"tweet\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n        <div>\n          <TextField\n            id=\"filter\"\n            label=\"Filter posts by hashtag\"\n            variant=\"standard\"\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            onClick={goLiveHandler}\n            startIcon={<LiveTvIcon />}\n          >\n            Go live\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postTweet}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPictureCommentBox\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Tweet from './Tweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addTweet,\n  deleteTweet,\n  fetchAllTweetsPaginated,\n  getTweetCount,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\nimport CommentBox from './CommentBox';\n// import Divider from '@material-ui/core/Divider';\n\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function TweetsDisplayer() {\n  // eslint-disable-next-line no-unused-vars\n  const [loading, setLoading] = useState(true);\n  // eslint-disable-next-line no-unused-vars\n  const [hasMore, setHasMore] = useState(false);\n  const [allTweets, setAllTweets] = useState([]);\n  // eslint-disable-next-line no-unused-vars\n  const [pageNumber, setPageNumber] = useState(1);\n  // eslint-disable-next-line no-unused-vars\n  const [count, setCount] = useState(25);\n  const observer = useRef();\n  const handleChange = (e) => {\n    const u = 25 - (e.target.value).length;\n    setCount(u);\n  };\n  const lastTweetRef = useCallback((node) => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        setPageNumber((prevPageNumber) => prevPageNumber + 1);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading]);\n  const user = getCurrentUsername();\n\n  // eslint-disable-next-line no-unused-vars\n  const getData = async () => {\n    getTweetCount(user).then((res) => {\n      // const {  } = res.data.count[0][0];\n      console.log('typeof', res.data.count[0][0].COUNT);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n    setLoading(true);\n    fetchAllTweetsPaginated(user, pageNumber, 10).then((res) => {\n      setAllTweets((prevTweets) => [...prevTweets, ...res.data.tweets[0]]);\n      setLoading(false);\n    }).catch((err) => console.log(err));\n  }, [pageNumber]);\n\n  const postTweet = () => {\n    const input = document.getElementById('tweet').value;\n    // const regexp = /\\B\\#\\w\\w+\\b/g;\n    if (input.length === 0) return;\n    // const hashtag = input.match(regexp);\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    setAllTweets((prevTweet) => [newTweet, ...prevTweet]);\n    // eslint-disable-next-line no-unused-vars\n    addTweet(newTweet).then((res) => {\n      console.log(allTweets);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    const fakePath = document.getElementById('fileInputPictureCommentBox').value;\n    formdata.append('image', e.target.files[0], fakePath);\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const upload = async () => {\n      let content = '';\n      await fetch('/api/uploadFile', requestOptions)\n        .then((response) => response.text())\n        .then((result) => {\n          content = JSON.parse(result).data;\n          // eslint-disable-next-line no-unused-vars\n        }).catch((error) => {\n          console.log(error);\n        });\n      console.log('content', content);\n      const newTweet = {\n        user,\n        tweet_id: tweetId,\n        type: 'picture',\n        content,\n        tweet_date: dateTime,\n        tweet_likes: 0,\n      };\n      // eslint-disable-next-line no-unused-vars\n      await addTweet(newTweet).then((res) => {\n        setAllTweets((prevTweet) => [newTweet, ...prevTweet]);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    };\n    upload();\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const updateState = async (id) => {\n    await setAllTweets((prevTweets) => prevTweets.filter((e) => e.tweet_id !== id));\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      // eslint-disable-next-line no-unused-vars\n      deleteTweet(id).then((res) => {\n        console.log('here');\n        // setAllTweets((prevTweets) => prevTweets.filter((e) => e.tweet_id !== id));\n        updateState(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        setAllTweets((prevTweet) => prevTweet.filter((e) => e.tweet_id !== id));\n      }).catch((err) => console.log(err));\n    }\n  };\n  const handlers = {\n    postTweet, postPicture, postVideo, postSong,\n  };\n  // console.log('td', toDisplay);\n  return (\n    <>\n      <div className=\"container_center\">\n        <CommentBox className=\"tweetIpt\" handlers={handlers} />\n        <div className=\"filterBox\">\n          <TextField\n            style={{\n              background: 'white', margin: '10px', width: '90%', borderRadius: '8px',\n            }}\n            multiline\n            id=\"filter\"\n            label=\"Filter posts by hashtag\"\n            variant=\"outlined\"\n            onChange={(e) => handleChange(e)}\n          />\n        </div>\n\n        <div className=\"tweet_items\">\n          {allTweets.map((e, index) => {\n            if (allTweets.length === index + 1) {\n              return (<div ref={lastTweetRef} className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>);\n            }\n            return (<div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>);\n          })}\n        </div>\n      </div>\n      <div>\n        <CircularProgress style={{ color: 'green' }} />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\nimport SideBar from './SidebarU';\nimport SearchBox from './SearchBox2';\nimport Suggestions from './Suggestion';\nimport TweetsDisplayer from './TweetsDisplayer';\n\nexport default function Home() {\n  return (\n    <div>\n      <div className=\"nav_item\">\n        <NavBar />\n      </div>\n      <div className=\"home\">\n        <div className=\"sidebar_item\">\n          <SideBar />\n        </div>\n        <div className=\"center_item\">\n          <TweetsDisplayer />\n        </div>\n        <div className=\"right_item\">\n          <div className=\"searchbox\">\n            <SearchBox />\n          </div>\n          <div className=\"suggestionBox\">\n            <Suggestions />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  addProfilePicture, addInterest, deleteInterest, getProfileData,\n} from './Module';\nimport '../App.css';\nimport Displayer from './Displayer';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Signup() {\n  const history = useHistory();\n  const username = getCurrentUsername();\n  console.log(`username = ${username}`);\n\n  /* -------------------------------------------------------------------------- */\n  const [interests, setInterests] = useState(new Set());\n  // const [madeQuery, setMadeQuery] = useState(false);\n  const [childKey, setChildKey] = useState(0);\n  const [filePath, setFilePath] = useState('');\n  // const [showImage] = useState(<div />);\n\n  useEffect(() => {\n    getProfileData(username).then((result) => {\n      console.log(result.data.data[0]);\n      const newInterest = new Set((result.data.interests).map((obj) => obj.interest));\n      setInterests(newInterest);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n  }, []);\n\n  const handleAddInterest = (newInterest) => {\n    setInterests([...interests, newInterest]);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    addInterest(newInterest, username);\n  };\n\n  const handleDeleteInterest = (interest) => {\n    const temp = interests;\n    temp.delete(interest);\n    setInterests(temp);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    deleteInterest(interest, username);\n  };\n  /* -------------------------------------------------------------------------- */\n\n  const fileupload = (e) => {\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileUploadProfilePicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        setFilePath(JSON.parse(result).data);\n        addProfilePicture(username, JSON.parse(result).data)\n          .then((res) => {\n            console.log(res);\n          }).catch((error) => {\n            console.log(error);\n          });\n      }).catch((err) => {\n        alert(err);\n      });\n  };\n\n  // useEffect(() => {\n  //   if (typeof filePath !== 'undefined') {\n  //     const tmp = `/viewFile/${filePath}`;\n  //     console.log(`${tmp}`);\n  //   }\n  // }, [filePath]);\n\n  const signup = () => {\n    alert('Your have successfully signed up');\n    history.push('/login/');\n  };\n  // useEffect(() => {\n\n  // }, [filePath]);\n  let showImage = <div />;\n  if (filePath !== '') {\n    showImage = (\n      <div className=\"myimgContainer\">\n        {' '}\n        {' '}\n        Here is your new profile\n        <img\n          className=\"myimg\"\n          src={`/api/viewFile/${filePath}`}\n          alt=\"\"\n        />\n      </div>\n    );\n    console.log(`/api/viewFile/${filePath}`);\n  }\n  console.log(showImage);\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">\n\n            Hi\n            <var>\n              {' '}\n              {username}\n            </var>\n\n          </h2>\n          <h2 className=\"card-title text-center font-weight-bold\">\n            {' '}\n            <h2 className=\"card-title text-center font-weight-bold\">Please Finish Sign Up</h2>\n          </h2>\n          <div className=\"form-group\">\n\n            <label htmlFor=\"new-username-form\">Please Upload Profile Picture:</label>\n            <input\n              type=\"file\"\n              className=\"form-control\"\n              id=\"fileUploadProfilePicture\"\n              onChange={fileupload}\n            />\n            {showImage}\n\n            <label htmlFor=\"new-username-form\">Please Add Your Interests:</label>\n\n            <Displayer\n              key={childKey}\n              interests={interests}\n              addInterest={handleAddInterest}\n              deleteInterest={handleDeleteInterest}\n            />\n            <div className=\"form-group\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary w-100\"\n                onClick={signup}\n              >\n                Complete Registration\n              </button>\n            </div>\n\n            <p>\n              Already have an account?&nbsp;\n              <Link to=\"/login\">Log in here!</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport '../App.css';\n\nexport default function Temp() {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n      <img src=\"/api/viewFile/cat1.jpg\" alt=\"\" className=\"img-responsive\" />\n    </div>\n\n  );\n}\n","import React from 'react';\nimport NavBar from '../components/navBar';\n\nconst Lobby = ({\n  username,\n  roomName,\n  handleRoomNameChange,\n  handleSubmit,\n  connecting,\n}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div\n          style={{\n          }}\n        />\n\n        <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n          <div className=\"container mx-1\">\n            <div className=\"card-body p-xs\">\n              <h2 className=\"card-title text-center font-weight-bold\">Live Stream</h2>\n              <div className=\"form-group\">\n                <h2>Enter a room</h2>\n                <div>\n                  <label htmlFor=\"name\">\n                    {' '}\n                    Hi,\n                    {' '}\n                    {username}\n                    , please select a room to start your live stream!\n\n                  </label>\n                </div>\n                <label htmlFor=\"room\">Room name:</label>\n                <input\n                  type=\"text\"\n                  id=\"room\"\n                  placeholder=\"Enter Room Name\"\n                  value={roomName}\n                  onChange={handleRoomNameChange}\n                  readOnly={connecting}\n                  required\n                />\n              </div>\n              <div className=\"video-group\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={connecting}\n                >\n                  {connecting ? 'Connecting' : 'Join'}\n                </button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n);\n\nexport default Lobby;\n","/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable no-shadow */\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst Participant = ({ participant }) => {\n  const [videoTracks, setVideoTracks] = useState([]);\n  const [audioTracks, setAudioTracks] = useState([]);\n\n  const videoRef = useRef();\n  const audioRef = useRef();\n\n  const trackpubsToTracks = (trackMap) => Array.from(trackMap.values())\n    .map((publication) => publication.track)\n    .filter((track) => track !== null);\n\n  useEffect(() => {\n    setVideoTracks(trackpubsToTracks(participant.videoTracks));\n    setAudioTracks(trackpubsToTracks(participant.audioTracks));\n\n    const trackSubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => [...videoTracks, track]);\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => [...audioTracks, track]);\n      }\n    };\n\n    const trackUnsubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => videoTracks.filter((v) => v !== track));\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => audioTracks.filter((a) => a !== track));\n      }\n    };\n\n    participant.on('trackSubscribed', trackSubscribed);\n    participant.on('trackUnsubscribed', trackUnsubscribed);\n\n    return () => {\n      setVideoTracks([]);\n      setAudioTracks([]);\n      participant.removeAllListeners();\n    };\n  }, [participant]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const videoTrack = videoTracks[0];\n    if (videoTrack) {\n      videoTrack.attach(videoRef.current);\n      return () => {\n        videoTrack.detach();\n      };\n    }\n  }, [videoTracks]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const audioTrack = audioTracks[0];\n    if (audioTrack) {\n      audioTrack.attach(audioRef.current);\n      return () => {\n        audioTrack.detach();\n      };\n    }\n  }, [audioTracks]);\n\n  return (\n    <div className=\"participant\">\n      <h3>{participant.identity}</h3>\n      <video ref={videoRef} autoPlay />\n      <audio ref={audioRef} autoPlay muted />\n    </div>\n  );\n};\n\nexport default Participant;\n","import React, { useEffect, useState } from 'react';\nimport './CommentDisplayer.css';\nimport { getAvatar } from './Module';\n\nexport default function CommentDisplayer({ data }) {\n  const [avatar, setAvatar] = useState('');\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"comment_cont\" stlye={{ height: '200px', width: '100px', backgroundColor: 'red' }}>\n      <div className=\"comment_header\">\n        <div className=\"header_profile\">\n          <img id=\"comment_picture\" src={`/api/viewFile/${avatar}`} alt=\"\" />\n        </div>\n        <div className=\"header_name\">\n          <span id=\"cmnt_username\">{data.user}</span>\n        </div>\n      </div>\n      <div className=\"cmnt_cntBtn_box\" style={{ width: 'fit-content' }}>\n        <div className=\"cmnt_cnt_box\">\n          <span id=\"cmnt_cnt\">{data.content}</span>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Participant from './Participant';\nimport NavBar from '../components/navBar';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport CommentInput from '../components/CommentInput';\nimport CommentDisplayerLive from '../components/CommentDisplayerLive';\nimport './Room.css';\nimport {\n  addCommentLiveStream,\n  getAllCommentsLiveStream,\n  // deleteComment,\n} from '../components/Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nconst Room = ({ roomName, room, handleLogout }) => {\n  const user = getCurrentUsername();\n  const [participants, setParticipants] = useState([]);\n  const [comments, setComments] = useState([]);\n  const getData = async () => {\n    await getAllCommentsLiveStream(roomName).then((res) => {\n      console.log(res.data);\n    }).catch((err) => console.log(err));\n  };\n  const postComment = (content) => {\n    const timestamp = new Date().toISOString();\n    const newComment = {\n      roomName,\n      user,\n      timestamp,\n      content,\n    };\n    setComments((prevComm) => [newComment, ...prevComm]);\n    addCommentLiveStream(newComment).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleComment = (input) => {\n    if (input === '') return;\n    postComment(input);\n  };\n\n  useEffect(() => {\n    const participantConnected = (participant) => {\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\n    };\n    const participantDisconnected = (participant) => {\n      setParticipants((prevParticipants) => prevParticipants.filter((p) => p !== participant));\n    };\n\n    room.on('participantConnected', participantConnected);\n    room.on('participantDisconnected', participantDisconnected);\n    room.participants.forEach(participantConnected);\n    return () => {\n      room.off('participantConnected', participantConnected);\n      room.off('participantDisconnected', participantDisconnected);\n    };\n  }, [room]);\n  useEffect(() => {\n    getData();\n  });\n  const remoteParticipants = participants.map((participant) => (\n    <Participant key={participant.sid} participant={participant} />\n  ));\n\n  return (\n\n    <div className=\"room\">\n      <NavBar />\n      <div\n        style={{\n        }}\n      />\n      <h2>\n        Live Stream:\n        {' '}\n        {roomName}\n      </h2>\n      <Button\n        color=\"secondary\"\n        startIcon={<ExitToAppIcon />}\n        type=\"submit\"\n        className=\"btn btn-primary w-100\"\n        onClick={handleLogout}\n      >\n        Leave Stream\n      </Button>\n      <div className=\"parent-liveStream\">\n        <div className=\"local-participant\">\n          {room ? (\n            <Participant\n              key={room.localParticipant.sid}\n              participant={room.localParticipant}\n            />\n          ) : (\n            ''\n          )}\n        </div>\n        <div className=\"comment-liveStream\">\n          <div style={{ height: '200px' }}>\n            {comments.map((e) => <div style={{ margin: '4px' }}><CommentDisplayerLive data={e} /></div>)}\n          </div>\n          <div className=\"comn-liveStream\">\n            <CommentInput handleComment={handleComment} />\n          </div>\n        </div>\n      </div>\n\n      <h3>Remote Participants</h3>\n      <div className=\"remote-participants\">{remoteParticipants}</div>\n    </div>\n\n  );\n};\n\nexport default Room;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport Video from 'twilio-video';\nimport Lobby from './Lobby';\nimport Room from './Room';\nimport {\n  getCurrentUsername,\n} from '../auth/authServices';\n\nconst VideoChat = () => {\n  const [roomName, setRoomName] = useState('');\n  const [room, setRoom] = useState(null);\n  const [connecting, setConnecting] = useState(false);\n  const username = getCurrentUsername();\n\n  const handleRoomNameChange = useCallback((event) => {\n    setRoomName(event.target.value);\n  }, []);\n\n  const handleSubmit = useCallback(\n    async (event) => {\n      event.preventDefault();\n      setConnecting(true);\n      const data = await fetch('/video/token', {\n        method: 'POST',\n        body: JSON.stringify({\n          identity: username,\n          room: roomName,\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }).then((res) => res.json());\n      Video.connect(data.token, {\n        name: roomName,\n      })\n        .then((rm) => {\n          setConnecting(false);\n          setRoom(rm);\n        })\n        .catch((err) => {\n          console.error(err);\n          setConnecting(false);\n        });\n    },\n    [roomName, username],\n  );\n\n  const handleLogout = useCallback(() => {\n    setRoom((prevRoom) => {\n      if (prevRoom) {\n        prevRoom.localParticipant.tracks.forEach((trackPub) => {\n          trackPub.track.stop();\n        });\n        prevRoom.disconnect();\n      }\n      return null;\n    });\n  }, []);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (room) {\n      const tidyUp = (event) => {\n        if (event.persisted) {\n          return;\n        }\n        if (room) {\n          handleLogout();\n        }\n      };\n      window.addEventListener('pagehide', tidyUp);\n      window.addEventListener('beforeunload', tidyUp);\n      return () => {\n        window.removeEventListener('pagehide', tidyUp);\n        window.removeEventListener('beforeunload', tidyUp);\n      };\n    }\n  }, [room, handleLogout]);\n\n  let render;\n  if (room) {\n    render = (\n      <Room roomName={roomName} room={room} handleLogout={handleLogout} />\n    );\n  } else {\n    render = (\n      <Lobby\n        username={username}\n        roomName={roomName}\n        handleRoomNameChange={handleRoomNameChange}\n        handleSubmit={handleSubmit}\n        connecting={connecting}\n      />\n    );\n  }\n  return render;\n};\n\nexport default VideoChat;\n","import React, { useState } from 'react';\nimport {\n  Link, useHistory,\n} from 'react-router-dom';\nimport '../App.css';\nimport {\n  isValidPassword, isSamePassword,\n} from '../auth/authentication';\nimport { resetPassword } from './Module';\n\nexport default function ResetPassword() {\n  const [usernameReg, setUsernameReg] = useState('');\n  const [passwordOneReg, setPasswordOneReg] = useState('');\n  const [passwordTwoReg, setPasswordTwoReg] = useState('');\n  const history = useHistory();\n  const resetPasswrd = () => {\n    // console.log('the actual username of this user is ', user);\n    // if (!isSameUsername(usernameReg, user)) {\n    //   alert('Wrong Username, please re-enter');\n    //   window.history.replaceState(null, 'new page', '/resetPassword');\n    //   window.location.reload();\n    //   return;\n    // }\n\n    if (!isSamePassword(passwordOneReg, passwordTwoReg)) {\n      alert('Passwords do not match, please re-enter');\n      window.history.replaceState(null, 'new page', '/resetPassword');\n      window.location.reload();\n      return;\n    }\n\n    if (!isValidPassword(passwordOneReg)) {\n      alert('Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      window.history.replaceState(null, 'new page', '/resetPassword');\n      window.location.reload();\n      return;\n    }\n\n    resetPassword(usernameReg, passwordOneReg).then(() => {\n    //   console.log(response);\n      alert('Success! Your Password Has Been Updated');\n      // if valid signup proceed to the login page\n      history.push('/login');\n    }).catch((e) => {\n      console.log(e);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Reset Password</h2>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPasswordOneReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Confirm Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPasswordTwoReg(e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group text-center\">\n\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={resetPasswrd}\n            >\n              Submit New Password\n            </button>\n          </div>\n          <p>\n            Changed Your Mind?&nbsp;\n            <Link to=\"/login\">Return To Login!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport {\n  getAvatar,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Message({ data }) {\n  const user = getCurrentUsername();\n  // const receiver = getCurrentReceiver();\n  const [avatar, setAvatar] = useState('');\n  // const [hadRead, setHasRead] = useState(false);\n  // eslint-disable-next-line eqeqeq\n  const [isPicture] = useState(data.type === 'picture');\n  const [isVideo] = useState(data.type === 'video');\n  const [isSong] = useState(data.type === 'song');\n\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.message_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n\n  let newMediaMessage;\n  if (isPicture) {\n    newMediaMessage = <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />;\n  } else if (isVideo) {\n    newMediaMessage = (\n      <video className=\"tweet_video\" controls>\n        {' '}\n        <source src={newMedia} />\n      </video>\n    );\n  } else if (isSong) {\n    console.log('song');\n    newMediaMessage = (\n      <audio controls>\n        <source src={newMedia} />\n      </audio>\n    );\n  } else {\n    newMediaMessage = data.content;\n  }\n  // eslint-disable-next-line eqeqeq\n  const hasRead = (data.is_read == 1);\n  let messageStatus = 'Message Status : Delivered';\n  if (hasRead) {\n    messageStatus = 'Message Status : Read';\n  }\n\n  let senderReceiver = 'Receiver>';\n  if (user === data.user) {\n    senderReceiver = 'Sender>';\n  } else {\n    messageStatus = '';\n  }\n  return (\n\n    <div id=\"container_tweet\">\n      <div className=\"tweet_header\">\n        <div className=\"tweet_img\">\n          <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n        </div>\n        <div className=\"tweet_text\">\n          <span\n            style={{\n              fontSize: '13px',\n              fontWeight: 'bold',\n            }}\n            id=\"author_username\"\n          >\n            {senderReceiver}\n            {' '}\n            {data.user}\n\n          </span>\n          <span\n            style={{\n              fontSize: '13px',\n              fontWeight: 'bold',\n            }}\n            id=\"author_message\"\n\n          >\n            {' '}\n            {messageStatus}\n\n          </span>\n          <span style={{ fontSize: '10px' }} id=\"date\">\n            {date}\n          </span>\n        </div>\n      </div>\n\n      <Divider variant=\"middle\" />\n      <div className=\"tweet_content\">\n        <p style={{ textAlign: 'left' }}>\n          {newMediaMessage}\n        </p>\n      </div>\n      <Divider variant=\"middle\" />\n\n    </div>\n\n  );\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\n// import { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Message from './Message';\nimport Tweet from './Tweet';\n// eslint-disable-next-line no-unused-vars\nimport { getCurrentUsername, getCurrentReceiver } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addMessage,\n  fetchMessages,\n  updateHasRead,\n} from './Module';\nimport './CenterDisplay.css';\n\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerMessages() {\n  const receiver = getCurrentReceiver();\n  // console.log(`receiver = ${receiver}`);\n  //   const history = useHistory();\n\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  useEffect(() => {\n    // console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postMessage = () => {\n    setCount(255);\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n    const newMessage = {\n      user,\n      message_id: messageId,\n      type: 'text',\n      content: input,\n      message_date: dateTime,\n      receiver,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(messageId, toAdd);\n    // newItems.set(messageId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addMessage(newMessage).then((res) => {\n      // console.log(res.message);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchMessages(user, receiver).then((res) => {\n      updateHasRead(receiver, user).then(() => {\n        console.log('Updated message status');\n      }).catch((err) => {\n        console.log(err.message);\n      });\n      const { messages } = res.data;\n      console.log(`ttt--${messages}`);\n      messages.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Message data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        console.log(`is this good? ${newMessage}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        // console.log(`is this good? ${newMessage.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        // console.log(`is this good? ${newMessage.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"message\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postMessage}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\n// import DisplayerTweets from './CenterDisplayerHome';\nimport DisplayerMessages from './CenterDisplayerMessages';\nimport { getCurrentReceiver } from '../auth/authServices';\n\nexport default function MessagePage() {\n  const receiver = getCurrentReceiver();\n  console.log(`receiver = ${receiver}`);\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div>\n          <DisplayerMessages />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Registration from './components/Registration';\nimport ProfilePage from './components/ProfilePage';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Signup from './components/Signup';\nimport Temp from './components/Temp';\nimport VideoChat from './live_stream/VideoChat';\nimport ResetPassword from './components/ResetPassword';\nimport MessagePage from './components/MessagePage';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Registration />} />\n        <Route path=\"/registration\" exact render={() => <Registration />} />\n        <Route path=\"/login\" exact render={() => <Login />} />\n        <Route path=\"/signup/\" exact render={() => <Signup />} />\n        <Route path=\"/home\" component={() => <Home />} />\n        <Route path=\"/profile\" exact render={() => <ProfilePage />} />\n        <Route path=\"/resetPassword\" exact render={() => <ResetPassword />} />\n        <Route path=\"/temp\" exact render={() => <Temp />} />\n        <Route path=\"/videochat\" exact render={() => <VideoChat />} />\n        <Route path=\"/message\" exact render={() => <MessagePage />} />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('react-root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","function isValidPassword(password) {\n  const strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})');\n  return strongRegex.test(password);\n}\n\nfunction isValidUsername(userName) {\n  const valid = new RegExp('^[a-zA-Z0-9_]*$');\n  return valid.test(userName);\n}\n\nfunction isValidEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction isSamePassword(passwordOne, passwordTwo) {\n  return (passwordOne === passwordTwo);\n}\n\nmodule.exports = {\n  isValidPassword, isValidUsername, isValidEmail, isSamePassword,\n};\n"],"sourceRoot":""}