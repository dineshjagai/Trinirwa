(this.webpackJsonpprofile=this.webpackJsonpprofile||[]).push([[0],{12:function(e,t){e.exports={getCurrentUsername:function(){return JSON.parse(localStorage.getItem("username"))},isLogged:function(){return!!JSON.parse(localStorage.getItem("username"))},logout:function(){localStorage.removeItem("username")}}},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},213:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},243:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},248:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(14),r=n.n(o),s=(n(213),n(102),n(27)),i=n(17),l=(n(57),n(4)),d=n(8),u=n.n(d);function j(e,t){var n="/api/profile/interest/".concat(t);return u()({method:"POST",url:n,data:{interest:e}})}function b(e,t){var n="/api/profile/delete/interest/".concat(t);return u()({method:"DELETE",url:n,data:{interest:e}})}function m(e){var t="/api/tweets/all/".concat(e);return u()({method:"GET",url:t})}function h(e){var t="/api/profile/".concat(e);return u()({method:"GET",url:t})}function f(e){var t="/api/profile/followers/".concat(e);return u()({method:"GET",url:t})}function O(e){var t="/api/profile/friends/".concat(e);return u()({method:"GET",url:t})}function p(e,t){var n="/api/block/".concat(e);return u()({method:"POST",url:n,data:{follower:t}})}function g(e){var t="/api/blocked/".concat(e);return u()({method:"GET",url:t})}function x(e){return u()({method:"GET",url:"/api/profile/avatar/".concat(e)})}function v(e){return u()({method:"POST",url:"/api/createTweet/".concat(e.user),data:{content:e.content,tweet_date:e.tweet_date,type:e.type,tweetId:e.tweet_id}})}function w(e){return u()({method:"GET",url:"/api/tweet/comments/all/".concat(e)})}function y(e,t){var n="/api/follow/".concat(e);return u()({method:"POST",url:n,data:{follower:t}})}function N(e){var t="/api/tweet/delete/".concat(e);return u()({method:"DELETE",url:t})}function C(e,t){var n="/api/tweet/hide/".concat(e);return u()({method:"POST",url:n,data:{username:t}})}function S(e,t){var n="/api/tweet/likes/".concat(e);return u()({method:"PUT",url:n,data:{likes:t}})}function k(e,t){var n="/api/tweet/isliked/".concat(e,"/").concat(t,"/");return u()({method:"GET",url:n})}var E=function(e){return u()({method:"GET",url:"/api/tweet/hiders/all/".concat(e)})};var I=function(e,t){return u()({method:"POST",url:"/api/updateNumberFailedLogins",data:{username:e,numberOfFailedLogins:t}})},_=n(48),P=n(1);function T(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(l.a)(o,2),d=r[0],j=r[1],b=Object(c.useState)(""),m=Object(l.a)(b,2),h=m[0],f=m[1],O=Object(c.useState)(""),p=Object(l.a)(O,2),g=p[0],x=p[1],v=Object(c.useState)(""),w=Object(l.a)(v,2),y=w[0],N=w[1],C=Object(c.useState)(""),S=Object(l.a)(C,2),k=S[0],E=S[1],I=Object(i.g)();u.a.defaults.withCredentials=!0;return Object(P.jsx)("div",{className:"card shadow mx-auto mt-5",style:{width:"30rem"},children:Object(P.jsx)("div",{className:"container mx-1",children:Object(P.jsxs)("div",{className:"card-body p-xs",children:[Object(P.jsx)("h2",{className:"card-title text-center font-weight-bold",children:"Sign Up"}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"new-username-form",children:"Username:"}),Object(P.jsx)("input",{id:"new-username-form",placeholder:"Enter Username",className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(P.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){return E(e.target.value)}}),Object(P.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We will never share your email with anyone else."})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"First Name:"}),Object(P.jsx)("input",{type:"name",id:"new-first-name-form",className:"form-control",placeholder:"Enter First Name",onChange:function(e){return x(e.target.value)}})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Last Name:"}),Object(P.jsx)("input",{type:"name",id:"new-last-name-form",placeholder:"Enter Last Name",className:"form-control",onChange:function(e){return N(e.target.value)}})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Password:"}),Object(P.jsx)("input",{type:"password",id:"new-password-form","aria-describedby":"passwordHelp",className:"form-control",placeholder:"Enter Password",onChange:function(e){return j(e.target.value)}}),Object(P.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Confirm Password:"}),Object(P.jsx)("input",{type:"password",id:"new-password-two-form",className:"form-control",placeholder:"Re-Enter Password",onChange:function(e){return f(e.target.value)}})]}),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsx)("button",{type:"submit",className:"btn btn-primary w-100",onClick:function(){return Object(_.isSamePassword)(d,h)?Object(_.isValidUsername)(n)?Object(_.isValidPassword)(d)?Object(_.isValidEmail)(k)?void function(e,t,n,c,a){return localStorage.setItem("username",JSON.stringify(e)),u()({method:"POST",url:"/api/register",data:{username:e,password:t,first_name:n,last_name:c,email:a}})}(n,d,g,y,k).then((function(e){console.log(e),I.push("/signup")})).catch((function(e){console.log(e)})):(alert("Invalid email, please re-enter"),void(document.getElementById("exampleInputEmail1").value="")):(alert("Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"),document.getElementById("new-password-form").value="",void(document.getElementById("new-password-two-form").value="")):(alert("Invalid User Name"),void(document.getElementById("new-username-form").value="")):(alert("Passwords do not match, please re-enter"),document.getElementById("new-password-form").value="",void(document.getElementById("new-password-two-form").value=""))},children:"Sign Up"})}),Object(P.jsxs)("p",{children:["Already have an account?\xa0",Object(P.jsx)(s.b,{to:"/login",children:"Log in here!"})]})]})})})}var B=n(42),F=(n(239),n(187)),U=n.n(F),L=n(409),D=n(411),R=n(397),A=n(394),M=n(393),W=(n(240),n(12));function V(){var e=Object(W.getCurrentUsername)(),t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),d=s[0],j=s[1],b=Object(c.useState)(""),m=Object(l.a)(b,2),h=m[0],f=m[1],O=function(){o(!1),f("")};return d?Object(P.jsx)(i.a,{to:"/login"}):Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{id:"delete",style:{color:"#00695c",border:"none",backgroundColor:"inherit"},type:"button",onClick:function(){o(!0)},children:"Delete account"}),Object(P.jsxs)(D.a,{open:a,onClose:O,"aria-labelledby":"form-dialog-title",children:[Object(P.jsx)(M.a,{id:"form-dialog-title",children:"Confirm account deletion"}),Object(P.jsx)(A.a,{children:Object(P.jsx)(L.a,{error:""!==h,autoFocus:!0,margin:"dense",id:"passwordInput",label:"Input password",type:"password",fullWidth:!0,helperText:h})}),Object(P.jsxs)(R.a,{children:[Object(P.jsx)("button",{className:"btn cancel",type:"button",onClick:O,children:"Cancel"}),Object(P.jsx)("button",{className:"btn delete",type:"button",onClick:function(){var t=document.getElementById("passwordInput").value;""!==t&&function(e,t){var n="/api/profile/deactivate/".concat(e);return u()({method:"PUT",url:n,data:{password:t}})}(e,t).then((function(e){console.log(e),o(!1),j(!0)})).catch((function(e){console.log(e),f("Incorrect entry")}))},children:"Delete"})]})]})]})}var G=n(398);function J(){var e=Object(W.getCurrentUsername)(),t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(!0),s=Object(l.a)(r,2),i=s[0],d=s[1],j=Object(c.useState)(!0),b=Object(l.a)(j,2),m=b[0],h=b[1],f=function(){o(!1)};return Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{id:"change",style:{color:"#00695c",border:"none",backgroundColor:"inherit"},type:"button",onClick:function(){d(!0),o(!0),h(!0)},children:"Change password"}),Object(P.jsxs)(D.a,{open:a,onClose:f,"aria-labelledby":"form-dialog-title",children:[Object(P.jsx)(M.a,{id:"form-dialog-title",children:"Change password"}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(L.a,{autoFocus:!0,margin:"dense",id:"oldPassword",label:"Old password",type:"password",fullWidth:!0}),Object(P.jsx)(L.a,{error:!m,autoFocus:!0,onChange:function(e){var t;h((t=e.target.value,new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(t)))},margin:"dense",id:"newPassword",label:"Input new password",type:"password",fullWidth:!0,helperText:m?"Password is strong!":"Password needs a min length of 8. It must consist of at 8 ..."}),Object(P.jsx)(L.a,{error:!i,onChange:function(e){d(e.target.value===document.getElementById("newPassword").value)},autoFocus:!0,margin:"dense",id:"newPasswordConfirmed",label:"Confirm new password",type:"password",fullWidth:!0,helperText:i?"":"New password must be identical"})]}),Object(P.jsxs)(R.a,{children:[Object(P.jsx)(G.a,{onClick:f,color:"#00695c",children:"Cancel"}),Object(P.jsx)(G.a,{onClick:function(){var t=document.getElementById("oldPassword").value,n=document.getElementById("newPassword").value;i&&m&&t!==n&&""!==n&&""!==t&&function(e,t,n){var c="/api/profile/password/".concat(e);return u()({method:"PUT",url:c,data:{newPassword:t,oldPassword:n}})}(e,n,t).then((function(e){200===e.status?o(!1):o(!0)})).catch((function(e){return console.log(e.message)}))},color:"primary",children:"Update"})]})]})]})}var z=n(396),H=n(357),Z=n(401),Y=n(400),$=n(399),q=n(413),K=n(414),Q=Object($.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function X(e){var t=e.secondary,n=e.title,o=e.secondTitle,r=e.getFunction,s=e.Icon,i=e.handle,d=e.iconText,u=Q(),j=Object(c.useState)(!1),b=Object(l.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)("paper"),O=Object(l.a)(f,2),p=O[0],g=O[1],x=Object(c.useState)([]),v=Object(l.a)(x,2),w=v[0],y=v[1],N=Object(W.getCurrentUsername)(),C=function(e){return console.log(e.profile_picture),Object(P.jsxs)(H.a,{children:[Object(P.jsx)(Y.a,{children:Object(P.jsx)(q.a,{alt:"",src:"/api/viewFile/".concat(e.profile_picture)})}),Object(P.jsx)(Z.a,{primary:e.username,secondary:t}),Object(P.jsx)(K.a,{title:d,placement:"top",children:Object(P.jsx)(s,{className:"button",color:"secondary",onClick:function(){return i(e.username)}})})]})};Object(c.useEffect)((function(){}),[w]);var S,k=function(){h(!1)},E=a.a.useRef(null);return a.a.useEffect((function(){if(m){var e=E.current;null!==e&&e.focus()}}),[m]),Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{onClick:(S="paper",function(){console.log("here"),r(N).then((function(e){var t=[];e.data.friends?(t=e.data.friends.map((function(e){return C(e)})),console.log(e.data.friends)):e.data.followers&&(t=e.data.followers.map((function(e){return C(e)})),console.log(e.data.followers)),y(t)})).catch((function(e){console.log(e.message)})),h(!0),g(S)}),className:"btn",id:"delete",style:{color:"#00695c",border:"none",backgroundColor:"inherit"},type:"button",children:n}),Object(P.jsxs)(D.a,{open:m,onClose:k,scroll:p,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(P.jsx)(M.a,{id:"scroll-dialog-title",children:o}),Object(P.jsx)(A.a,{dividers:"paper"===p,children:Object(P.jsx)(z.a,{className:u.root,children:w})}),Object(P.jsx)(R.a,{children:Object(P.jsx)("button",{onClick:k,className:"btn",id:"delete",style:{color:"#00695c",border:"none",backgroundColor:"inherit"},type:"button",children:"Close"})})]})]})}function ee(e){var t=Object(W.getCurrentUsername)(),n=e.data.profile_picture;console.log("pics".concat(n));var c="/api/viewFile/".concat(n);return Object(P.jsxs)("div",{className:"container-profile",children:[Object(P.jsxs)("div",{className:"pictures",children:[Object(P.jsx)("img",{src:c,alt:"",id:"overlay"}),Object(P.jsx)("img",{src:c,alt:"",id:"originalDiv"})]}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:"username",children:Object(P.jsx)("span",{id:"username",children:e.data.username})}),Object(P.jsxs)("div",{className:"deleteButton",children:[Object(P.jsx)(X,{secondary:"blocked",title:"My Blocked Users",secondTitle:"Blocked Users",getFunction:g,Icon:U.a,handle:function(e){(function(e,t){var n="/api/unblock/".concat(e);return u()({method:"PUT",url:n,data:{follower:t}})})(t,e).then((function(e){console.log(e.message),g(t).then((function(e){console.log(e.data.friends)}))}))},iconText:"Unblock User"}),Object(P.jsx)(V,{}),Object(P.jsx)(J,{})]})]})}var te=n(43),ne=n(18),ce=n(405),ae=n(406),oe=n(403),re=n(69),se=n(404),ie=n(402),le=n(196),de=n(120),ue=n.n(de),je=n(118),be=n.n(je),me=n(117),he=n.n(me),fe=n(119),Oe=n.n(fe),pe=n(188),ge=n.n(pe),xe=Object($.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(te.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ne.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ne.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(te.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(te.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(te.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function ve(){var e=xe(),t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(null),s=Object(l.a)(r,2),d=s[0],u=s[1],j=Boolean(a),b=Boolean(d),m=function(e){o(e.currentTarget)},h=Object(i.g)(),f=function(){u(null)},O=function(){o(null);h.push("/profile"),f()},p=function(){h.push("/home")},g="primary-search-account-menu",x=Object(P.jsxs)(le.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:g,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:O,children:[Object(P.jsx)(ie.a,{onClick:p,children:"Home"}),Object(P.jsx)(ie.a,{onClick:O,children:"My Account"}),Object(P.jsx)(ie.a,{onClick:function(){Object(W.logout)();h.push("/login")},children:"Log Out"})]}),v="primary-search-account-menu-mobile",w=Object(P.jsxs)(le.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:f,children:[Object(P.jsxs)(ie.a,{onClick:p,children:[Object(P.jsx)(oe.a,{color:"inherit",children:Object(P.jsx)(se.a,{children:Object(P.jsx)(he.a,{})})}),Object(P.jsx)("p",{children:"Home"})]}),Object(P.jsxs)(ie.a,{children:[Object(P.jsx)(oe.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(P.jsx)(se.a,{badgeContent:4,color:"secondary",children:Object(P.jsx)(be.a,{})})}),Object(P.jsx)("p",{children:"Messages"})]}),Object(P.jsxs)(ie.a,{children:[Object(P.jsx)(oe.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(P.jsx)(se.a,{badgeContent:11,color:"secondary",children:Object(P.jsx)(Oe.a,{})})}),Object(P.jsx)("p",{children:"Notifications"})]}),Object(P.jsxs)(ie.a,{onClick:m,children:[Object(P.jsx)(oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",onClick:p,children:Object(P.jsx)(ue.a,{})}),Object(P.jsx)("p",{children:"Home"})]})]});return Object(P.jsx)("div",{style:{position:"relative",top:"0px"},children:Object(P.jsx)("div",{style:{position:"relative",top:"0px"},className:"rest",children:Object(P.jsxs)("div",{className:e.grow,children:[Object(P.jsx)(ce.a,{style:{backgroundColor:"#0C8367"},position:"static",children:Object(P.jsxs)(ae.a,{children:[Object(P.jsx)(re.a,{className:e.title,variant:"h6",noWrap:!0,children:"Trinirwa Microblog"}),Object(P.jsx)("div",{className:e.grow}),Object(P.jsxs)("div",{className:e.sectionDesktop,children:[Object(P.jsx)(oe.a,{onClick:p,color:"inherit",children:Object(P.jsx)(se.a,{children:Object(P.jsx)(he.a,{})})}),Object(P.jsx)(oe.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(P.jsx)(se.a,{badgeContent:4,color:"secondary",children:Object(P.jsx)(be.a,{})})}),Object(P.jsx)(oe.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(P.jsx)(se.a,{badgeContent:17,color:"secondary",children:Object(P.jsx)(Oe.a,{})})}),Object(P.jsx)(oe.a,{edge:"end","aria-label":"account of current user","aria-controls":g,"aria-haspopup":"true",onClick:m,color:"inherit",children:Object(P.jsx)(ue.a,{})})]}),Object(P.jsx)("div",{className:e.sectionMobile,children:Object(P.jsx)(oe.a,{"aria-label":"show more","aria-controls":v,"aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(P.jsx)(ge.a,{})})})]})}),w,x]})})})}n(243);var we=n(407);function ye(e){var t=a.a.useState(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],r=function(){o(!0)},s=function(){var t=document.getElementById("interest").value;e.onClose(t),o(!1)};return Object(P.jsxs)("div",{children:[Object(P.jsx)(G.a,{color:"primary",onClick:r,children:"Add interest"}),Object(P.jsxs)(D.a,{open:c,onClose:r,"aria-labelledby":"form-dialog-title",children:[Object(P.jsx)(M.a,{id:"form-dialog-title",children:"Add interest"}),Object(P.jsx)(A.a,{children:Object(P.jsx)(L.a,{autoFocus:!0,margin:"dense",id:"interest",type:"string",fullWidth:!0})}),Object(P.jsxs)(R.a,{children:[Object(P.jsx)(G.a,{onClick:s,color:"primary",children:"Cancel"}),Object(P.jsx)(G.a,{onClick:s,color:"primary",children:"Add"})]})]})]})}function Ne(e){var t=e.interests,n=e.addInterest,c=e.deleteInterest,a=[];return t.forEach((function(e){a.push(Object(P.jsx)("li",{onClick:function(){return c(e)},className:"badge rounded-pill bg-secondary m-2",children:e},e))})),Object(P.jsxs)("div",{className:"wrapper",children:[Object(P.jsx)("div",{className:"section1",children:Object(P.jsx)("ul",{children:a})}),Object(P.jsx)(we.a,{variant:"middle"}),Object(P.jsx)("div",{className:"section2",children:Object(P.jsx)(ye,{onClose:n})})]})}n(138);var Ce=n(65),Se=n.n(Ce),ke=n(93),Ee=n.n(ke),Ie=(n(139),Object($.a)((function(e){return{root:{"& > *":{margin:e.spacing(2),borderRadius:"100%",padding:0,overflow:"none"}}}})));function _e(e){var t=e.info,n=e.handleB,c=e.handleF,a=Ie();return Object(P.jsxs)("div",{className:"Container_two",children:[Object(P.jsxs)("div",{className:a.root,children:[Object(P.jsx)(K.a,{title:"Block user",placement:"top",children:Object(P.jsx)(Ee.a,{className:"button",color:"secondary",onClick:function(){return n(t.username)}})}),Object(P.jsx)(K.a,{title:"Follow",placement:"top",children:Object(P.jsx)(Se.a,{className:"button",onClick:function(){return c(t.username)}})})]}),Object(P.jsx)("div",{className:"followerContainer",children:Object(P.jsx)("div",{className:"myimgContainer",children:Object(P.jsx)("img",{className:"myimg",src:"/api/viewFile/".concat(t.profile_picture),alt:""})})}),Object(P.jsx)("div",{className:"text",children:t.username})]})}function Pe(){var e=Object(W.getCurrentUsername)(),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],o=n[1];Object(c.useEffect)((function(){f(e).then((function(e){o(e.data.followers)}))}),[]);var r=function(t){p(e,t).then((function(t){console.log(t.message),f(e).then((function(e){o(e.data.followers)}))}))},s=function(t){y(e,t).then((function(t){console.log(t.message),f(e).then((function(e){o(e.data.followers)}))}))},i=a.map((function(e){return Object(P.jsx)(_e,{info:e,handleB:r,handleF:s})}));return Object(P.jsxs)("div",{className:"box-container",children:[Object(P.jsx)("div",{className:"buttonFollowers",children:Object(P.jsx)(X,{secondary:"follower",title:"All followers",secondTitle:"All followers",getFunction:f,Icon:Se.a,handle:s,iconText:"Follow"})}),Object(P.jsx)("div",{className:"title",children:"Followers"}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:"box",children:Object(P.jsx)("div",{className:"containers",children:i})})]})}var Te=n(94),Be=n.n(Te),Fe=n(189),Ue=n.n(Fe),Le=Object($.a)((function(e){return{root:{"& > *":{margin:e.spacing(1.5),borderRadius:"100%",padding:0,overflow:"none"}}}}));function De(e){var t=e.info,n=e.handleB,c=e.handleMessage,a=e.handleU,o=Le();return Object(P.jsxs)("div",{className:"Container_two",children:[Object(P.jsxs)("div",{className:o.root,children:[Object(P.jsx)(K.a,{title:"Message",placement:"top",children:Object(P.jsx)(Ue.a,{className:"button",onClick:function(){return c}})}),Object(P.jsx)(K.a,{title:"Block user",placement:"top",children:Object(P.jsx)(Ee.a,{className:"button",color:"secondary",onClick:function(){return n(t.username)}})}),Object(P.jsx)(K.a,{title:"Unfollow",placement:"top",children:Object(P.jsx)(Be.a,{className:"button",onClick:function(){return a(t.username)}})})]}),Object(P.jsx)("div",{className:"followerContainer",children:Object(P.jsx)("div",{className:"myimgContainer",children:Object(P.jsx)("img",{className:"myimg",src:"/api/viewFile/".concat(t.profile_picture),alt:""})})}),Object(P.jsx)("div",{className:"text",children:t.username})]})}function Re(){var e=Object(W.getCurrentUsername)(),t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],o=n[1];Object(c.useEffect)((function(){O(e).then((function(e){o(e.data.friends)}))}),[]);var r=function(t){p(e,t).then((function(t){console.log(t.message),O(e).then((function(e){o(e.data.friends)}))}))},s=function(t){(function(e,t){var n="/api/unfollow/".concat(e);return u()({method:"PUT",url:n,data:{follower:t}})})(e,t).then((function(t){console.log(t.message),O(e).then((function(e){o(e.data.friends)}))}))},i=a.map((function(e){return Object(P.jsx)(De,{info:e,handleB:r,handleU:s})}));return Object(P.jsxs)("div",{className:"box-container",children:[Object(P.jsx)("div",{className:"buttonFollowers",children:Object(P.jsx)(X,{secondary:"friends",title:"All friends",secondTitle:"All friends",getFunction:O,Icon:Be.a,handle:s,iconText:"Unfollow"})}),Object(P.jsx)("div",{className:"title",children:"Friends"}),Object(P.jsx)("br",{}),Object(P.jsx)("div",{className:"box",children:Object(P.jsx)("div",{className:"containers",children:i})})]})}var Ae=n(25),Me=n.n(Ae),We=n(34),Ve=n(99),Ge=n.n(Ve),Je=n(95),ze=n.n(Je),He=n(96),Ze=n.n(He),Ye=n(97),$e=n.n(Ye),qe=n(98),Ke=n.n(qe),Qe=(n(245),n(193)),Xe=n.n(Qe),et=n(192),tt=n.n(et);n(246);function nt(e){var t=e.id,n=e.handleComment,a=Object(c.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1],i=Object(c.useState)(255),d=Object(l.a)(i,2),u=d[0],j=d[1];return Object(P.jsxs)("div",{className:"comment_box",children:[Object(P.jsx)("div",{className:"commentInpCtn",children:Object(P.jsx)(L.a,{id:"".concat(t),label:"Comment on post",multiline:!0,rowsMax:4,helperText:"".concat(u," remaining chars"),variant:"outlined",inputProps:{maxLength:255},onChange:function(e){return function(e){if(e.target.value.length>=0){var t=255-e.target.value.length;j(t),s(e.target.value),console.log(r)}}(e)},fullWidth:!0})}),Object(P.jsx)("div",{className:"commentBtnCtn",children:Object(P.jsx)("button",{onClick:function(){return n(r)},id:"commentButton",type:"button",children:" Comment"})})]})}n(140);var ct=n(408);function at(e){var t=e.id,n=e.content,o=e.updatePost,r=n,s=a.a.useState(!1),i=Object(l.a)(s,2),d=i[0],u=i[1],j=Object(c.useState)(255),b=Object(l.a)(j,2),m=b[0],h=b[1],f=Object(c.useState)(""),O=Object(l.a)(f,2),p=O[0],g=O[1],x=function(){u(!1)};return Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{onClick:function(){u(!0)},id:"editBtn",type:"button",children:"Edit"}),Object(P.jsxs)(D.a,{open:d,onClose:x,"aria-labelledby":"form-dialog-title",children:[Object(P.jsx)(M.a,{id:"form-dialog-title",children:"Subscribe"}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(ct.a,{children:"Changes will be made once you post them!"}),Object(P.jsx)(L.a,{autoFocus:!0,margin:"dense",id:"name".concat(t),label:"Edit post",type:"email",multiline:!0,fullWidth:!0,helperText:"".concat(m," remaining chars"),defaultValue:r,inputProps:{maxLength:255},onChange:function(e){return function(e){g(e.target.value),h(255-e.target.value.length)}(e)}})]}),Object(P.jsxs)(R.a,{children:[Object(P.jsx)(G.a,{style:{color:"green"},onClick:x,color:"primary",children:"Cancel"}),Object(P.jsx)(G.a,{style:{color:"green"},onClick:function(){return o(p),void u(!1)},color:"primary",children:"Post changes"})]})]})]})}function ot(e){var t=e.data,n=e.handleDeleteComment,a=Object(c.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1],i=Object(c.useState)(t.content),d=Object(l.a)(i,2),j=d[0],b=d[1],m=Object(W.getCurrentUsername)(),h=t.user===m,f=function(){var e=Object(We.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.user).then((function(e){s(e.data.avatar[0].profile_picture)})).catch((function(e){console.log(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f()}),[]),Object(P.jsxs)("div",{className:"comment_cont",stlye:{height:"200px",width:"100px",backgroundColor:"red"},children:[Object(P.jsxs)("div",{className:"comment_header",children:[Object(P.jsx)("div",{className:"header_profile",children:Object(P.jsx)("img",{id:"comment_picture",src:"/api/viewFile/".concat(r),alt:""})}),Object(P.jsx)("div",{className:"header_name",children:Object(P.jsx)("span",{id:"cmnt_username",children:t.user})})]}),Object(P.jsxs)("div",{className:"cmnt_cntBtn_box",style:{width:"fit-content"},children:[Object(P.jsx)("div",{className:"cmnt_cnt_box",children:Object(P.jsx)("span",{id:"cmnt_cnt",children:j})}),Object(P.jsxs)("div",{className:"cmnt_btns_box",children:[Object(P.jsx)("div",{style:{display:h?"block":"none"},className:"cmnt_EditBtn_box",children:Object(P.jsx)(at,{id:t.comm_id,updatePost:function(e){""!==e&&(b(e),function(e,t){return u()({method:"PUT",url:"/api/tweet/comment/update/".concat(e),data:{content:t}})}(t.comm_id,e).then((function(e){console.log(e.message)})).catch((function(e){return console.log(e.message)})))},content:j})}),Object(P.jsx)("div",{style:{display:h?"block":"none"},className:"cmnt_EditBtn_box",children:Object(P.jsx)("button",{onClick:function(){return n(t.comm_id)},id:"deleteBtn",type:"button",children:"Delete"})})]})]})]})}var rt=n(6),st=n(190),it=n.n(st),lt=n(191),dt=n.n(lt),ut=Object(rt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose;return Object(P.jsxs)(M.a,{disableTypography:!0,className:n.root,children:[Object(P.jsx)(re.a,{variant:"h6",children:t}),c?Object(P.jsx)(oe.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(P.jsx)(it.a,{})}):null]})})),jt=Object(rt.a)((function(e){return{root:{padding:e.spacing(2)}}}))(A.a),bt=Object(rt.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(R.a);function mt(e){var t=e.tweetId,n=Object(c.useState)([]),o=Object(l.a)(n,2),r=o[0],s=o[1],i=Object(c.useState)([]),d=Object(l.a)(i,2),u=d[0],j=d[1],b=a.a.useState(!1),m=Object(l.a)(b,2),h=m[0],f=m[1],O=function(){var e=Object(We.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t).then((function(e){var t=e.data.comments;console.log(t),j(t.map((function(e){return e.user}))),console.log(u)})).catch((function(e){return console.log(e.message)}));case 2:return e.next=4,E(t).then((function(e){s(e.data.hiders.map((function(e){return e.user})))})).catch((function(e){return console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){f(!1)};return Object(c.useEffect)((function(){O()}),[]),Object(c.useEffect)((function(){}),[r,u,h]),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(oe.a,{onClick:function(){f(!0)},style:{borderRadius:"50%",padding:"3"},children:Object(P.jsx)(dt.a,{})}),Object(P.jsx)("span",{id:"analytics_btn",style:{color:"#0C8367"},children:"Analytics"})]}),Object(P.jsxs)(D.a,{onClose:p,"aria-labelledby":"customized-dialog-title",open:h,children:[Object(P.jsx)(ut,{id:"customized-dialog-title",onClose:p,children:"Tweet analytics"}),Object(P.jsx)(jt,{dividers:!0,children:Object(P.jsxs)("div",{style:{display:"flex",minWidth:"100px"},children:[Object(P.jsxs)("div",{className:"commentors",children:[Object(P.jsx)("span",{children:"Commentors"}),Object(P.jsx)("ol",{style:{title:"commentors"},children:u.map((function(e){return Object(P.jsx)("li",{children:e})}))})]}),Object(P.jsxs)("div",{style:{borderRadius:"8px",backgroundColor:"#D0EAE4"},className:"hiders",children:[Object(P.jsx)("div",{style:{margin:"auto"},children:Object(P.jsx)("span",{children:"Hiders"})}),Object(P.jsx)("ol",{children:r.map((function(e){return Object(P.jsxs)("li",{children:[e," "]},e)}))})]})]})}),Object(P.jsx)(bt,{})]})]})}var ht=n(104);function ft(e){var t=e.data,n=e.handleDelete,a=Object(W.getCurrentUsername)(),o=Object(c.useState)(!1),r=Object(l.a)(o,2),s=r[0],i=r[1],d=Object(c.useState)(t.tweet_likes),j=Object(l.a)(d,2),b=j[0],m=j[1],h=Object(c.useState)(t.tweet_comments),f=Object(l.a)(h,2),O=f[0],p=f[1],g=Object(c.useState)(t.tweet_id),v=Object(l.a)(g,1)[0],y=Object(c.useState)(t.tweet_blocks),N=Object(l.a)(y,2),C=(N[0],N[1],Object(c.useState)(t.user===a)),I=Object(l.a)(C,1)[0],_=Object(c.useState)(""),T=Object(l.a)(_,2),B=T[0],F=T[1],U=Object(c.useState)("picture"===t.type),L=Object(l.a)(U,1)[0],D=Object(c.useState)("video"===t.type),R=Object(l.a)(D,1)[0],A=Object(c.useState)("song"===t.type),M=Object(l.a)(A,1)[0],V=Object(c.useState)(!1),G=Object(l.a)(V,2),J=G[0],z=G[1],H=Object(c.useState)([]),Z=Object(l.a)(H,2),Y=Z[0],$=(Z[1],Object(c.useState)("undefined"!==typeof t.content)),q=(Object(l.a)($,1)[0],Object(c.useState)([])),Q=Object(l.a)(q,2),X=Q[0],ee=Q[1],te=function(e,t){var n=(new Date).toISOString(),c={comment_id:ht("".concat(e).concat(a).concat(n)),tweet_id:t,user:a,content:e,timestamp:n};X.unshift(c),function(e){return u()({method:"POST",url:"/api/comment/add/".concat(e.user),data:{commentId:e.comment_id,tweetId:e.tweet_id,content:e.content,timestamp:e.timestamp}})}(c).then((function(e){console.log(e.message),function(e,t){return u()({method:"PUT",url:"/api/tweet/comments/".concat(e),data:{comments:t}})}(v,O+1).then((function(e){console.log(e.message),p(O+1)})).catch((function(e){return console.log(e.message)}))})).catch((function(e){return console.log(e.message)}))},ne=function(){var e=Object(We.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.user).then((function(e){F(e.data.avatar[0].profile_picture)})).catch((function(e){console.log(e.message)}));case 2:return e.next=4,k(a,t.tweet_id).then((function(e){e.data.bool.length?i(!0):i(!1)})).catch((function(e){console.log(e.message)}));case 4:return e.next=6,w(t.tweet_id).then((function(e){var t=e.data.comments;ee(t)})).catch((function(e){return console.log(e.message)}));case 6:return e.next=8,E(v).then((function(e){console.log(e.data)})).catch((function(e){return console.log(e.message)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){var t,n=X.filter((function(t){return t.comm_id!==e}));ee(n),(t=e,u()({method:"DELETE",url:"/api/tweet/comment/delete/".concat(t)})).then((function(e){console.log(e),p(O-1)})).catch((function(e){return console.log(e.message)}))};Object(c.useEffect)((function(){}),[Y]),Object(c.useEffect)((function(){ne()}),[]);var ae,re=t.tweet_date.split("T")[0],se="/api/viewFile/".concat(B),ie="/api/viewFile/".concat(t.content);return ae=L?Object(P.jsx)("img",{className:"tweet_image",id:"tweet_media_picture",src:ie,alt:""}):R?Object(P.jsxs)("video",{className:"tweet_video",controls:!0,children:[" ",Object(P.jsx)("source",{src:ie})]}):M?Object(P.jsx)("audio",{controls:!0,children:Object(P.jsx)("source",{src:ie})}):t.content,Object(P.jsxs)("div",{id:"container_tweet",children:[Object(P.jsxs)("div",{className:"tweet_header",children:[Object(P.jsx)("div",{className:"tweet_img",children:Object(P.jsx)("img",{className:"tweet_header",id:"tweet_author_picture",src:se,alt:""})}),Object(P.jsxs)("div",{className:"tweet_text",children:[Object(P.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},id:"author_username",children:t.user}),Object(P.jsx)("span",{style:{fontSize:"10px"},id:"date",children:re})]})]}),Object(P.jsx)("div",{id:"menu",children:Object(P.jsx)(K.a,{title:I?"Delete post":"Hide post",placement:"top",children:Object(P.jsx)(oe.a,{style:{borderRadius:"50%",padding:"3",color:"#0C8367"},onClick:function(){return n(v,I)},children:Object(P.jsx)(tt.a,{id:t.tweet_id})})})}),Object(P.jsx)(we.a,{variant:"middle"}),Object(P.jsx)("div",{className:"tweet_content",children:Object(P.jsx)("p",{style:{textAlign:"left"},children:ae})}),Object(P.jsx)(we.a,{variant:"middle"}),Object(P.jsx)("div",{className:"comment",children:Object(P.jsx)(nt,{handleComment:function(e,t){""!==e&&te(e,v)}})}),Object(P.jsxs)("div",{style:{borderRadius:"8px",minHeight:"200px",backgroundColor:"#eaf1ef",overflow:"auto",margin:"auto",width:"90%",marginTop:"2%",height:J?"300px":"200px"},children:[Object(P.jsx)("div",{style:{margin:"auto",textAlign:"center",fontWeight:"bold",color:"#0C8367"},children:Object(P.jsx)("span",{children:0!==O?"".concat(O," comments"):"Comments"})}),Object(P.jsx)("div",{style:{margin:"auto",width:"90%",height:"100%"},children:Object(P.jsx)("ul",{id:"list".concat(v),style:{whiteSpace:"nowrap",listStyleType:"none"},children:X.map((function(e){return Object(P.jsx)("li",{style:{marginBottom:"35px"},children:Object(P.jsx)(ot,{data:e,handleDeleteComment:ce})},e.comm_id)}))})})]}),Object(P.jsxs)("div",{className:"tweet_bottom",children:[Object(P.jsxs)("div",{className:"likes",children:[Object(P.jsx)(oe.a,{onClick:function(){s?function(e,t){var n="/api/tweet/unlike/".concat(e,"/");return u()({method:"PUT",url:n,data:{tweetid:t}})}(a,v).then((function(e){200===e.status&&S(v,b-1).then((function(e){console.log(e.message),m(b-1)})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})):function(e,t){var n="/api/tweet/like/".concat(e,"/");return u()({method:"POST",url:n,data:{tweetid:t}})}(a,v).then((function(e){S(v,b+1).then((function(e){console.log(e),m(b+1)})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)})),i(!s)},style:{borderRadius:"50%",padding:"3",color:s?"red":"black"},children:Object(P.jsx)(Xe.a,{})}),Object(P.jsx)("span",{style:{color:"#0C8367"},children:"".concat(b," likes")})]}),Object(P.jsx)("div",{style:{display:I?"block":"none"},className:"analytics",children:Object(P.jsx)(mt,{tweetId:t.tweet_id})}),Object(P.jsx)("div",{className:"comments",children:Object(P.jsx)("button",{onClick:function(){z(!J)},id:"viewCommentsBtn",type:"button",children:J?"View less":"View more"})})]})]})}n(141),n(142);var Ot=Object($.a)((function(e){return{button:{margin:e.spacing(1)}}})),pt=n(104);function gt(){var e=Object(i.g)(),t=Object(c.useState)(new Map),n=Object(l.a)(t,1)[0],a=Object(c.useState)(!1),o=Object(l.a)(a,2),r=o[0],s=o[1],d=Object(c.useState)(255),u=Object(l.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(new Set),f=Object(l.a)(h,1)[0],O=Ot(),p=Object(W.getCurrentUsername)(),g=function(e,t){t?N(e).then((function(t){window.location.reload(),console.log("message: delete:",t.message),s(!0),console.log("deleted:",f.delete(n.get(e))),n.delete(e)})).catch((function(e){console.log(e.message)})):C(e,p).then((function(t){window.location.reload(),f.delete(n.get(e)),n.delete(e),s(!0)})).catch((function(e){return console.log(e)}))};Object(c.useEffect)((function(){console.log("refreshed"),s(!1)}),[r]);var x=function(){var e=Object(We.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(p).then((function(e){e.data.tweets.forEach((function(e){var t=Object(P.jsx)("div",{className:"tContainer",children:Object(P.jsx)(ft,{handleDelete:g,data:e})});f.add(t),n.set(e.tweet_id,t)})),s(!0)})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){x()}),[]);return Object(P.jsxs)("div",{className:"container_center",children:[Object(P.jsxs)("div",{style:{backgroundColor:"white",height:"fit-content",borderRadius:"8px"},className:"whatIsOn",children:[Object(P.jsx)("div",{style:{width:"90%",paddingTop:"4px",margin:"auto"},children:Object(P.jsx)(L.a,{multiline:!0,id:"tweet",label:"what's on your mind!!",variant:"outlined",helperText:"".concat(j," remaining chars"),inputProps:{maxLength:255},onChange:function(e){return function(e){if(e.target.value.length>=0){var t=255-e.target.value.length;b(t)}}(e)},fullWidth:!0})}),Object(P.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px"},className:"buttons",children:[Object(P.jsx)(G.a,{variant:"contained",color:"secondary",className:O.button,onClick:function(){e.push("/videochat")},startIcon:Object(P.jsx)(ze.a,{}),children:"Go live"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",id:"button-media",className:O.button,startIcon:Object(P.jsx)(Ze.a,{}),onClick:function(){document.getElementById("fileInputPicture").click()},children:"Photo"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",id:"button-media",className:O.button,startIcon:Object(P.jsx)($e.a,{}),onClick:function(){document.getElementById("fileInputVideo").click()},children:"Video"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",id:"button-media",className:O.button,startIcon:Object(P.jsx)(Ke.a,{}),onClick:function(){document.getElementById("fileInputSong").click()},children:"Song"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",className:O.button,startIcon:Object(P.jsx)(Ge.a,{}),onClick:function(){b(255);var e=document.getElementById("tweet").value;if("undefined"!==typeof e&&0!==e.length){var t=(new Date).toISOString(),n=pt("".concat(e).concat(p).concat(t));v({user:p,tweet_id:n,type:"text",content:e,tweet_date:t,tweet_likes:0}).then((function(e){console.log(e.message),window.location.reload()})).catch((function(e){console.log(e.message)}))}},children:"Create post"}),Object(P.jsx)("input",{className:"FileUpload",accept:".jpg,.png,.gif",id:"fileInputPicture",type:"file",onChange:function(e){var t=new FormData,n=document.getElementById("fileInputPicture").value;t.append("image",e.target.files[0],n);var c={method:"POST",body:t,redirect:"follow"},a=document.getElementById("tweet").value;if("undefined"!==typeof a){var o=(new Date).toISOString(),r=pt("".concat(a).concat(p).concat(o));fetch("/uploadFile",c).then((function(e){return e.text()})).then((function(e){v({user:p,tweet_id:r,type:"picture",content:JSON.parse(e).data,tweet_date:o,tweet_likes:0}).then((function(e){console.log(e.message),window.location.reload()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e)}))}},hidden:!0}),Object(P.jsx)("input",{className:"FileUpload",id:"fileInputVideo",type:"file",onChange:function(e){var t=new FormData,n=document.getElementById("fileInputVideo").value;t.append("image",e.target.files[0],n);var c={method:"POST",body:t,redirect:"follow"},a=document.getElementById("tweet").value;if("undefined"!==typeof a){var o=(new Date).toISOString(),r=pt("".concat(a).concat(p).concat(o));fetch("/uploadFile",c).then((function(e){return e.text()})).then((function(e){v({user:p,tweet_id:r,type:"video",content:JSON.parse(e).data,tweet_date:o,tweet_likes:0}).then((function(e){console.log(e.message),window.location.reload()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e)}))}},hidden:!0}),Object(P.jsx)("input",{className:"FileUpload",id:"fileInputSong",type:"file",onChange:function(e){var t=new FormData,n=document.getElementById("fileInputSong").value;t.append("image",e.target.files[0],n);var c={method:"POST",body:t,redirect:"follow"},a=document.getElementById("tweet").value;if("undefined"!==typeof a){var o=(new Date).toISOString(),r=pt("".concat(a).concat(p).concat(o));fetch("/uploadFile",c).then((function(e){return e.text()})).then((function(e){v({user:p,tweet_id:r,type:"song",content:JSON.parse(e).data,tweet_date:o,tweet_likes:0}).then((function(e){window.location.reload(),console.log(e.message)})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e)}))}},hidden:!0})]})]}),Object(P.jsx)("div",{children:f})]})}n(247);function xt(){var e=Object(W.getCurrentUsername)(),t=Object(c.useState)([{}]),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(new Set),s=Object(l.a)(r,2),i=s[0],d=s[1],u=Object(c.useState)(!1),m=Object(l.a)(u,2),f=m[0],O=m[1],p=Object(c.useState)(0),g=Object(l.a)(p,2),x=g[0],v=g[1];Object(c.useEffect)((function(){h(e).then((function(e){console.log(e.data.data[0]),o(e.data.data[0]);var t=new Set(e.data.interests.map((function(e){return e.interest})));d(t)})).catch((function(e){console.log(e.message)})),O(!0)}),[]);return f?Object(P.jsx)("div",{className:"profile",children:Object(P.jsxs)("div",{style:{width:"98%",margin:"auto"},children:[Object(P.jsxs)("div",{style:{position:"relative",top:"0px"},className:"rest",children:[Object(P.jsx)(ve,{}),Object(P.jsx)(ee,{data:a,user:e})]}),Object(P.jsxs)("div",{className:"all_boxes",children:[Object(P.jsxs)("div",{className:"left-boxes",children:[Object(P.jsx)("div",{className:"left-Displayer",children:Object(P.jsx)(Ne,{interests:i,addInterest:function(t){d([].concat(Object(B.a)(i),[t])),v(Math.floor(1e9*Math.random())),j(t,e)},deleteInterest:function(t){var n=i;n.delete(t),d(n),v(Math.floor(1e9*Math.random())),b(t,e)}},x)}),Object(P.jsx)("div",{className:"left-friends",children:Object(P.jsx)(Re,{})}),Object(P.jsx)("div",{className:"left-followers",children:Object(P.jsx)(Pe,{})})]}),Object(P.jsx)("div",{className:"right_boxes",children:Object(P.jsx)(gt,{})})]})]})}):Object(P.jsx)("div",{})}function vt(){var e=Object(i.g)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(""),d=Object(l.a)(r,2),j=d[0],b=d[1],m=Object(c.useState)(0),h=Object(l.a)(m,2),f=h[0],O=h[1],p=Object(c.useState)(""),g=Object(l.a)(p,2),x=g[0],v=g[1],w=Object(c.useState)(!1),y=Object(l.a)(w,1)[0];u.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){return O(f)}),[f]),Object(c.useEffect)((function(){return console.log("changed dateUserLastLockedOut ".concat(x))}),[x]),Object(c.useEffect)((function(){return console.log("changed isLockedOut ".concat(y))}),[y]);return Object(P.jsx)("div",{className:"card shadow mx-auto mt-5",style:{width:"30rem"},children:Object(P.jsx)("div",{className:"container mx-1",children:Object(P.jsxs)("div",{className:"card-body p-xs",children:[Object(P.jsx)("h2",{className:"card-title text-center font-weight-bold",children:"Log In"}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Username:"}),Object(P.jsx)("input",{id:"new-username-form",placeholder:"Enter Username",className:"form-control",onChange:function(e){return o(e.target.value)}})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Password:"}),Object(P.jsx)("input",{id:"new-password-form",type:"password",placeholder:"Enter Password",className:"form-control",onChange:function(e){return b(e.target.value)}})]}),Object(P.jsxs)("p",{children:["Forgot Password?\xa0",Object(P.jsx)(s.b,{to:"/resetPassword",children:"Click here to reset!"})]}),Object(P.jsx)("div",{className:"form-group text-center",children:Object(P.jsx)("button",{type:"submit",className:"btn btn-primary w-100",onClick:function(){o(a),function(e,t){return u()({method:"POST",url:"/api/login",data:{username:e,password:t}})}(a,j).then((function(t){localStorage.setItem("username",JSON.stringify(a)),function(e,t){var n="/api/profile/reactivate/".concat(e);return u()({method:"PUT",url:n,data:{password:t}})}(a,j).then((function(){})).catch((function(e){console.log(e)})),function(e){return u()({method:"GET",url:"/api/numberFailedLogins/".concat(e)})}(a).then((function(n){if(console.log("resOne.data.message",n.data.message),"200"==n.data.message){var c,o=[Array.from(n.data.data)[0].number_failed_logins];O(c=o[0]),function(e){return u()({method:"GET",url:"/api/dateUserLastLockedOut/".concat(e)})}(a).then((function(n){var o,r=[Array.from(n.data.data)[0].date_last_locked_out];if(v(o=r[0]),c>3){y=!0;var s=new Date(o);new Date-s>36e5&&(y=!1,I(a,0).catch((function(e){console.log(e)})))}if(!1===y)if(t.data.message){3===parseInt(c,10)&&function(e){u()({method:"POST",url:"/api/setLockOutTime",data:{username:e}})}(a);var i=parseInt(c,10)+1;alert("Wrong Password! You have ".concat(3-i," attempts left before you get locked out")),I(a,i).catch((function(e){console.log(e)})),alert(t.data.message),e.push("/login"),document.getElementById("new-username-form").value="",document.getElementById("new-password-form").value=""}else I(a,0).catch((function(e){console.log(e)})),e.push("/home");else alert("your account has been locked because to too many incorrect attempts, please try back in an hour"),e.push("/login"),document.getElementById("new-username-form").value="",document.getElementById("new-password-form").value=""})).catch((function(e){console.log(e)}))}else alert("Username Not Found"),e.push("/login"),document.getElementById("new-username-form").value="",document.getElementById("new-password-form").value=""})).catch((function(e){console.log(e),alert("Username Not Found"),document.getElementById("new-username-form").value="",document.getElementById("new-password-form").value=""}))}))},children:"Log In"})}),Object(P.jsxs)("p",{children:["Don't have an account?\xa0",Object(P.jsx)(s.b,{to:"/registration",children:"Sign Up!"})]})]})})})}n(248);var wt=Object($.a)((function(e){return{button:{margin:e.spacing(1)}}})),yt=n(104);function Nt(){var e=Object(i.g)(),t=Object(c.useState)(new Map),n=Object(l.a)(t,1)[0],a=Object(c.useState)(!1),o=Object(l.a)(a,2),r=o[0],s=o[1],d=Object(c.useState)(255),u=Object(l.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(new Set),f=Object(l.a)(h,1)[0],O=wt(),p=Object(W.getCurrentUsername)(),g=function(e,t){t?N(e).then((function(t){window.location.reload(),console.log("message: delete:",t.message),s(!0),n.delete(e)})).catch((function(e){console.log(e.message)})):C(e,p).then((function(t){window.location.reload(),f.delete(n.get(e)),n.delete(e),s(!0)})).catch((function(e){return console.log(e)}))};Object(c.useEffect)((function(){console.log("refreshed"),s(!1)}),[r]);var x=function(){var e=Object(We.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(p).then((function(e){e.data.tweets.forEach((function(e){var t=Object(P.jsx)("div",{className:"tContainer",children:Object(P.jsx)(ft,{handleDelete:g,data:e})});f.add(t),n.set(e.tweet_id,t)})),s(!0)})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){x()}),[]);return Object(P.jsxs)("div",{className:"container_center",children:[Object(P.jsxs)("div",{style:{backgroundColor:"white",height:"fit-content",borderRadius:"8px"},className:"whatIsOn",children:[Object(P.jsx)("div",{style:{width:"90%",paddingTop:"4px",margin:"auto"},children:Object(P.jsx)(L.a,{multiline:!0,id:"tweet",label:"what's on your mind!!",variant:"outlined",helperText:"".concat(j," remaining chars"),inputProps:{maxLength:255},onChange:function(e){return function(e){if(e.target.value.length>=0){var t=255-e.target.value.length;b(t)}}(e)},fullWidth:!0})}),Object(P.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px"},className:"buttons",children:[Object(P.jsx)(G.a,{variant:"contained",color:"secondary",className:O.button,onClick:function(){e.push("/videochat")},startIcon:Object(P.jsx)(ze.a,{}),children:"Go live"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",id:"button-media",className:O.button,startIcon:Object(P.jsx)(Ze.a,{}),onClick:function(){document.getElementById("fileInputPicture").click()},children:"Photo"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",id:"button-media",className:O.button,startIcon:Object(P.jsx)($e.a,{}),onClick:function(){document.getElementById("fileInputVideo").click()},children:"Video"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",id:"button-media",className:O.button,startIcon:Object(P.jsx)(Ke.a,{}),onClick:function(){document.getElementById("fileInputSong").click()},children:"Song"}),Object(P.jsx)(G.a,{variant:"contained",color:"secondary",className:O.button,startIcon:Object(P.jsx)(Ge.a,{}),onClick:function(){b(255);var e=document.getElementById("tweet").value;if("undefined"!==typeof e&&0!==e.length){var t=(new Date).toISOString(),n=yt("".concat(e).concat(p).concat(t));v({user:p,tweet_id:n,type:"text",content:e,tweet_date:t,tweet_likes:0}).then((function(e){console.log(e.message),window.location.reload()})).catch((function(e){console.log(e.message)}))}},children:"Create post"}),Object(P.jsx)("input",{className:"FileUpload",accept:".jpg,.png,.gif",id:"fileInputPicture",type:"file",onChange:function(e){var t=new FormData,n=document.getElementById("fileInputPicture").value;t.append("image",e.target.files[0],n);var c={method:"POST",body:t,redirect:"follow"},a=document.getElementById("tweet").value;if("undefined"!==typeof a){var o=(new Date).toISOString(),r=yt("".concat(a).concat(p).concat(o));fetch("/uploadFile",c).then((function(e){return e.text()})).then((function(e){v({user:p,tweet_id:r,type:"picture",content:JSON.parse(e).data,tweet_date:o,tweet_likes:0}).then((function(e){console.log(e.message),window.location.reload()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e)}))}},hidden:!0}),Object(P.jsx)("input",{className:"FileUpload",id:"fileInputVideo",type:"file",onChange:function(e){var t=new FormData,n=document.getElementById("fileInputVideo").value;t.append("image",e.target.files[0],n);var c={method:"POST",body:t,redirect:"follow"},a=document.getElementById("tweet").value;if("undefined"!==typeof a){var o=(new Date).toISOString(),r=yt("".concat(a).concat(p).concat(o));fetch("/uploadFile",c).then((function(e){return e.text()})).then((function(e){v({user:p,tweet_id:r,type:"video",content:JSON.parse(e).data,tweet_date:o,tweet_likes:0}).then((function(e){console.log(e.message),window.location.reload()})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e)}))}},hidden:!0}),Object(P.jsx)("input",{className:"FileUpload",id:"fileInputSong",type:"file",onChange:function(e){var t=new FormData,n=document.getElementById("fileInputSong").value;t.append("image",e.target.files[0],n);var c={method:"POST",body:t,redirect:"follow"},a=document.getElementById("tweet").value;if("undefined"!==typeof a){var o=(new Date).toISOString(),r=yt("".concat(a).concat(p).concat(o));fetch("/uploadFile",c).then((function(e){return e.text()})).then((function(e){v({user:p,tweet_id:r,type:"song",content:JSON.parse(e).data,tweet_date:o,tweet_likes:0}).then((function(e){window.location.reload(),console.log(e.message)})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e)}))}},hidden:!0})]})]}),Object(P.jsx)("div",{children:f})]})}n(249);function Ct(){var e=Object(i.g)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),a=n[0],o=n[1],r=Object(W.getCurrentUsername)();return Object(c.useEffect)((function(){x(r).then((function(e){o(e.data.avatar[0].profile_picture)})).catch((function(e){console.log(e.message)}))}),[]),Object(c.useEffect)((function(){}),[a]),Object(P.jsx)(s.a,{children:Object(P.jsx)("div",{className:"sidebar",children:Object(P.jsx)("button",{className:"button_profile",onClick:function(){e.push("/profile")},type:"button",children:Object(P.jsxs)("div",{className:"header_box",children:[Object(P.jsx)("div",{className:"img_box",children:Object(P.jsx)("img",{id:"img",alt:"",src:"/api/viewfile/".concat(a)})}),Object(P.jsx)("div",{className:"username_box",children:Object(P.jsx)("span",{className:"user",children:r})})]})})})})}var St=n(412),kt=(n(250),Object($.a)((function(e){return{root:{left:"25px",width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},search:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ne.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ne.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"100%"}),searchIcon:{padding:e.spacing(0,2),eight:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(te.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"30%"},e.breakpoints.up("md"),{width:"20ch"})}})));function Et(){var e=Object(W.getCurrentUsername)(),t=kt(),n=Object(c.useState)([]),a=Object(l.a)(n,2),o=a[0],r=a[1],s=Object(c.useState)([]),i=Object(l.a)(s,2),d=i[0],j=i[1],b=function(t){return console.log(t.profile_picture),Object(P.jsxs)(H.a,{children:[Object(P.jsx)(Y.a,{children:Object(P.jsx)(q.a,{alt:"",src:"/api/viewFile/".concat(t.profile_picture)})}),Object(P.jsx)(Z.a,{primary:t.username,secondary:t.followed?"following":"Follow me PLZ :)"}),Object(P.jsx)(K.a,{title:"follow",placement:"top",children:Object(P.jsx)(Se.a,{className:"button",style:{color:"#0C8367"},onClick:function(){return n=t.username,void y(e,n).then((function(t){console.log(t.message),f(e).then((function(e){console.log(e.data.followers)}))}));var n}})})]})},m=function(t){var n,c;(n=e,c=t.target.value,u()({method:"GET",url:"/api/search/".concat(n,"/").concat(c)})).then((function(n){console.log("input: ".concat(t.target.value," , ").concat(e)),j(n.data.friends),console.log(d.data.friens)})).catch((function(e){console.log(e.message)}))};return Object(c.useEffect)((function(){console.log(d);var e=d.map((function(e){return b(e)}));console.log(o),r(e),0===d.length&&r([])}),[d]),Object(P.jsx)("div",{className:"searchBack",children:Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:t.search,children:[Object(P.jsx)("div",{className:t.searchIcon}),Object(P.jsx)("div",{children:Object(P.jsx)(St.a,{id:"search",placeholder:"Search user\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){return m(e)}})})]}),Object(P.jsx)("div",{children:Object(P.jsx)(z.a,{className:t.root,children:o})})]})})}function It(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(ve,{}),Object(P.jsxs)("div",{className:"home",children:[Object(P.jsx)("div",{children:Object(P.jsx)(Ct,{})}),Object(P.jsx)("div",{children:Object(P.jsx)(Nt,{})}),Object(P.jsx)("div",{className:"searchBack",children:Object(P.jsx)(Et,{})})]})]})}function _t(){var e=Object(i.g)(),t=Object(W.getCurrentUsername)();console.log("username = ".concat(t));var n=Object(c.useState)(new Set),a=Object(l.a)(n,2),o=a[0],r=a[1],d=Object(c.useState)(0),m=Object(l.a)(d,2),f=m[0],O=m[1];Object(c.useEffect)((function(){h(t).then((function(e){console.log(e.data.data[0]);var t=new Set(e.data.interests.map((function(e){return e.interest})));r(t)})).catch((function(e){console.log(e.message)}))}),[]);return Object(P.jsx)("div",{className:"card shadow mx-auto mt-5",style:{width:"30rem"},children:Object(P.jsx)("div",{className:"container mx-1",children:Object(P.jsxs)("div",{className:"card-body p-xs",children:[Object(P.jsxs)("h2",{className:"card-title text-center font-weight-bold",children:["Hi",Object(P.jsxs)("var",{children:[" ",t]})]}),Object(P.jsxs)("h2",{className:"card-title text-center font-weight-bold",children:[" ",Object(P.jsx)("h2",{className:"card-title text-center font-weight-bold",children:"Please Finish Sign Up"})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6",children:Object(P.jsx)("img",{src:"/uploadFiles/1620555316674--image.png",alt:"",className:"img-responsive"})}),Object(P.jsx)("label",{htmlFor:"new-username-form",children:"Please Upload Profile Picture:"}),Object(P.jsx)("input",{type:"file",className:"form-control",id:"fileUploadProfilePicture",onChange:function(e){var n=new FormData,c=document.getElementById("fileUploadProfilePicture").value;n.append("image",e.target.files[0],c),fetch("/uploadFile",{method:"POST",body:n,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return function(e,t){return u()({method:"POST",url:"/api/uploadProfilePicture",data:{username:e,profilePicture:t}})}(t,JSON.parse(e).data).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){alert(e)}))}}),Object(P.jsx)("label",{htmlFor:"new-username-form",children:"Please Add Your Interests:"}),Object(P.jsx)(Ne,{interests:o,addInterest:function(e){r([].concat(Object(B.a)(o),[e])),O(Math.floor(1e9*Math.random())),j(e,t)},deleteInterest:function(e){var n=o;n.delete(e),r(n),O(Math.floor(1e9*Math.random())),b(e,t)}},f),Object(P.jsx)("div",{className:"form-group",children:Object(P.jsx)("button",{type:"submit",className:"btn btn-primary w-100",onClick:function(){alert("Your have successfully signed up"),e.push("/login/")},children:"Complete Registration"})}),Object(P.jsxs)("p",{children:["Already have an account?\xa0",Object(P.jsx)(s.b,{to:"/login",children:"Log in here!"})]})]})]})})})}function Pt(){return Object(P.jsx)("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6",children:Object(P.jsx)("img",{src:"/viewFile/cat1.jpg",alt:"",className:"img-responsive"})})}var Tt=n(194),Bt=n.n(Tt),Ft=function(e){var t=e.username,n=e.roomName,c=e.handleRoomNameChange,a=e.handleSubmit,o=e.connecting;return Object(P.jsx)("form",{onSubmit:a,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(ve,{}),Object(P.jsxs)("div",{className:"home",children:[Object(P.jsx)("div",{style:{}}),Object(P.jsx)("div",{className:"card shadow mx-auto mt-5",style:{width:"30rem"},children:Object(P.jsx)("div",{className:"container mx-1",children:Object(P.jsxs)("div",{className:"card-body p-xs",children:[Object(P.jsx)("h2",{className:"card-title text-center font-weight-bold",children:"Live Stream"}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("h2",{children:"Enter a room"}),Object(P.jsx)("div",{children:Object(P.jsxs)("label",{htmlFor:"name",children:[" ","Hi,"," ",t,", please select a room to start your live stream!"]})}),Object(P.jsx)("label",{htmlFor:"room",children:"Room name:"}),Object(P.jsx)("input",{type:"text",id:"room",placeholder:"Enter Room Name",value:n,onChange:c,readOnly:o,required:!0})]}),Object(P.jsx)("div",{className:"video-group",children:Object(P.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:o,children:o?"Connecting":"Join"})})]})})})]})]})})},Ut=n(195),Lt=n.n(Ut),Dt=function(e){var t=e.participant,n=Object(c.useState)([]),a=Object(l.a)(n,2),o=a[0],r=a[1],s=Object(c.useState)([]),i=Object(l.a)(s,2),d=i[0],u=i[1],j=Object(c.useRef)(),b=Object(c.useRef)(),m=function(e){return Array.from(e.values()).map((function(e){return e.track})).filter((function(e){return null!==e}))};return Object(c.useEffect)((function(){r(m(t.videoTracks)),u(m(t.audioTracks));return t.on("trackSubscribed",(function(e){"video"===e.kind?r((function(t){return[].concat(Object(B.a)(t),[e])})):"audio"===e.kind&&u((function(t){return[].concat(Object(B.a)(t),[e])}))})),t.on("trackUnsubscribed",(function(e){"video"===e.kind?r((function(t){return t.filter((function(t){return t!==e}))})):"audio"===e.kind&&u((function(t){return t.filter((function(t){return t!==e}))}))})),function(){r([]),u([]),t.removeAllListeners()}}),[t]),Object(c.useEffect)((function(){var e=o[0];if(e)return e.attach(j.current),function(){e.detach()}}),[o]),Object(c.useEffect)((function(){var e=d[0];if(e)return e.attach(b.current),function(){e.detach()}}),[d]),Object(P.jsxs)("div",{className:"participant",children:[Object(P.jsx)("h3",{children:t.identity}),Object(P.jsx)("video",{ref:j,autoPlay:!0}),Object(P.jsx)("audio",{ref:b,autoPlay:!0,muted:!0})]})},Rt=(n(353),function(e){var t=e.roomName,n=e.room,a=e.handleLogout,o=Object(c.useState)([]),r=Object(l.a)(o,2),s=r[0],i=r[1];Object(c.useEffect)((function(){var e=function(e){i((function(t){return[].concat(Object(B.a)(t),[e])}))},t=function(e){i((function(t){return t.filter((function(t){return t!==e}))}))};return n.on("participantConnected",e),n.on("participantDisconnected",t),n.participants.forEach(e),function(){n.off("participantConnected",e),n.off("participantDisconnected",t)}}),[n]);var d=s.map((function(e){return Object(P.jsx)(Dt,{participant:e},e.sid)}));return Object(P.jsxs)("div",{className:"room",children:[Object(P.jsx)(ve,{}),Object(P.jsx)("div",{style:{}}),Object(P.jsxs)("h2",{children:["Room:"," ",t]}),Object(P.jsx)(G.a,{color:"secondary",startIcon:Object(P.jsx)(Lt.a,{}),type:"submit",className:"btn btn-primary w-100",onClick:a,children:"Leave Stream"}),Object(P.jsx)("div",{className:"local-participant",children:n?Object(P.jsx)(Dt,{participant:n.localParticipant},n.localParticipant.sid):""}),Object(P.jsx)("h3",{children:"Remote Participants"}),Object(P.jsx)("div",{className:"remote-participants",children:d})]})}),At=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(null),r=Object(l.a)(o,2),s=r[0],i=r[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),j=u[0],b=u[1],m=Object(W.getCurrentUsername)(),h=Object(c.useCallback)((function(e){a(e.target.value)}),[]),f=Object(c.useCallback)(function(){var e=Object(We.a)(Me.a.mark((function e(t){var c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,fetch("/video/token",{method:"POST",body:JSON.stringify({identity:m,room:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 4:c=e.sent,Bt.a.connect(c.token,{name:n}).then((function(e){b(!1),i(e)})).catch((function(e){console.error(e),b(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,m]),O=Object(c.useCallback)((function(){i((function(e){return e&&(e.localParticipant.tracks.forEach((function(e){e.track.stop()})),e.disconnect()),null}))}),[]);return Object(c.useEffect)((function(){if(s){var e=function(e){e.persisted||s&&O()};return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),function(){window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}}}),[s,O]),s?Object(P.jsx)(Rt,{roomName:n,room:s,handleLogout:O}):Object(P.jsx)(Ft,{username:m,roomName:n,handleRoomNameChange:h,handleSubmit:f,connecting:j})};function Mt(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),r=Object(l.a)(o,2),d=r[0],j=r[1],b=Object(c.useState)(""),m=Object(l.a)(b,2),h=m[0],f=m[1],O=Object(i.g)();return Object(P.jsx)("div",{className:"card shadow mx-auto mt-5",style:{width:"30rem"},children:Object(P.jsx)("div",{className:"container mx-1",children:Object(P.jsxs)("div",{className:"card-body p-xs",children:[Object(P.jsx)("h2",{className:"card-title text-center font-weight-bold",children:"Reset Password"}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Username:"}),Object(P.jsx)("input",{id:"new-username-form",placeholder:"Enter Username",className:"form-control",onChange:function(e){return a(e.target.value)}})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Password:"}),Object(P.jsx)("input",{id:"new-password-form",type:"password",placeholder:"Enter Password",className:"form-control",onChange:function(e){return j(e.target.value)}})]}),Object(P.jsxs)("div",{className:"form-group",children:[Object(P.jsx)("label",{children:"Confirm Password:"}),Object(P.jsx)("input",{id:"new-password-form",type:"password",placeholder:"Enter Password",className:"form-control",onChange:function(e){return f(e.target.value)}})]}),Object(P.jsx)("div",{className:"form-group text-center",children:Object(P.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:function(){return Object(_.isSamePassword)(d,h)?Object(_.isValidPassword)(d)?void(e=n,t=d,u()({method:"PUT",url:"/api/resetPassword",data:{username:e,password:t}})).then((function(){alert("Success! Your Password Has Been Updated"),O.push("/login")})).catch((function(e){console.log(e)})):(alert("Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character"),window.history.replaceState(null,"new page","/resetPassword"),void window.location.reload()):(alert("Passwords do not match, please re-enter"),window.history.replaceState(null,"new page","/resetPassword"),void window.location.reload());var e,t},children:"Submit New Password"})}),Object(P.jsxs)("p",{children:["Changed Your Mind?\xa0",Object(P.jsx)(s.b,{to:"/login",children:"Return To Login!"})]})]})})})}var Wt=function(){return Object(P.jsx)(s.a,{children:Object(P.jsxs)(i.d,{children:[Object(P.jsx)(i.b,{path:"/",exact:!0,render:function(){return Object(P.jsx)(T,{})}}),Object(P.jsx)(i.b,{path:"/registration",exact:!0,render:function(){return Object(P.jsx)(T,{})}}),Object(P.jsx)(i.b,{path:"/login",exact:!0,render:function(){return Object(P.jsx)(vt,{})}}),Object(P.jsx)(i.b,{path:"/signup/",exact:!0,render:function(){return Object(P.jsx)(_t,{})}}),Object(P.jsx)(i.b,{path:"/home",component:function(){return Object(P.jsx)(It,{})}}),Object(P.jsx)(i.b,{path:"/profile",exact:!0,render:function(){return Object(P.jsx)(xt,{})}}),Object(P.jsx)(i.b,{path:"/resetPassword",exact:!0,render:function(){return Object(P.jsx)(Mt,{})}}),Object(P.jsx)(i.b,{path:"/temp",exact:!0,render:function(){return Object(P.jsx)(Pt,{})}}),Object(P.jsx)(i.b,{path:"/videochat",exact:!0,render:function(){return Object(P.jsx)(At,{})}})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(P.jsx)(Wt,{}),document.getElementById("react-root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t){e.exports={isValidPassword:function(e){return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(e)},isValidUsername:function(e){return new RegExp("^[a-zA-Z0-9_]*$").test(e)},isValidEmail:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},isSamePassword:function(e,t){return e===t}}},57:function(e,t,n){}},[[354,1,2]]]);
//# sourceMappingURL=main.d16fe15b.chunk.js.map