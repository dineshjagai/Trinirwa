{"version":3,"sources":["components/Module.js","components/Registration.js","components/DialogPassword.js","components/DialogPasswordChange.js","components/authentication.js","components/DisplayerDialog.js","components/ProfilePicture.js","components/navBar.js","components/Dialog.js","components/Displayer.js","components/Follower.js","components/Followers.js","components/Friend.js","components/Friends.js","components/CommentInput.js","components/DialogComment.js","components/CommentDisplayer.js","components/AnalyticsTweet.js","components/Tweet.js","components/CenterDisplay.js","components/ProfilePage.js","components/Login.js","components/SidebarU.js","components/SearchBox2.js","components/Suggestion.js","components/CommentBox.js","components/TweetsDisplayer.js","components/Home.js","components/Signup.js","live_stream/Lobby.js","live_stream/Participant.js","components/CommentDisplayerLive.js","live_stream/Room.js","live_stream/VideoChat.js","components/ResetPassword.js","components/Message.js","components/CenterDisplayerMessages.js","components/MessagePage.js","components/FilteredTweet.js","components/FilteredTweetsDisplayer.js","components/HashTagTweets.js","App.js","index.js","auth/authentication.js","auth/authServices.js"],"names":["addInterest","newInterest","username","addUrl","axios","method","url","data","interest","deleteInterest","interestToDelete","delUrl","fetchAllTweets","getUrl","fetchAllTweetsPaginated","pageNumber","limit","params","page","getTweetCount","getProfileData","getFollowers","getFriends","blockFollower","id","insUrl","follower","getBlockedFollowers","getAvatar","user","addTweet","content","tweet_date","type","tweetId","tweet_id","addHashtag","tweetid","hashtag","console","log","addComment","commentId","comment_id","timestamp","getAllCommentsLiveStream","roomName","getAllCommentsForTweet","updateTweetComments","newNumComments","comments","deleteComment","commId","followUser","unfollowUser","deleteTweet","hideTweet","postUrl","updateTweetLikes","tweetLikes","putUrl","likes","isLiked","likeTweet","getHiders","getSuggestions","unLikeTweet","updateNumberFailedLogins","numberOfFailedLogins","addMessage","receiver","message_date","messageId","message_id","fetchMessages","updateHasRead","Registration","useState","usernameReg","setUsernameReg","passwordOneReg","setPasswordOneReg","passwordTwoReg","setPasswordTwoReg","firstNameReg","setFirstNameReg","lastNameReg","setLastNameReg","email","setEmailReg","history","useHistory","Axios","defaults","withCredentials","className","style","width","htmlFor","placeholder","onChange","e","target","value","aria-describedby","onClick","isSamePassword","isValidUsername","isValidPassword","isValidEmail","firstName","lastName","localStorage","setItem","JSON","stringify","password","first_name","last_name","addUser","then","response","push","catch","alert","document","getElementById","to","DialogPassword","getCurrentUsername","open","setOpen","redirect","setRedirect","clue","setClue","handleClose","color","border","backgroundColor","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","error","autoFocus","margin","label","fullWidth","helperText","DialogActions","input","inputPassword","deactivateProfile","err","DialogPasswordChange","checker","setChecker","isValid","setIsValid","event","RegExp","test","Button","oldPassword","newPassword","newPass","oldPass","upUrl","updatePassword","status","message","useStyles","makeStyles","theme","root","maxWidth","palette","background","paper","ScrollDialog","secondary","title","secondTitle","getFunction","Icon","handle","iconText","classes","scroll","setScroll","items","setItems","createItem","profile_picture","ListItem","ListItemAvatar","Avatar","alt","src","ListItemText","primary","Tooltip","placement","useEffect","scrollType","descriptionElementRef","React","useRef","descriptionElement","current","focus","newItems","friends","map","followers","dividers","List","Profile","props","date","profilePic","profilePicUrl","LockOpenIcon","blocked","unBlockUser","res","result","grow","flexGrow","menuButton","marginRight","spacing","display","breakpoints","up","search","position","borderRadius","shape","fade","common","white","marginLeft","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","handleClick","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","logout","mobileMenuId","renderMobileMenu","IconButton","Badge","aria-label","badgeContent","aria-controls","aria-haspopup","top","AppBar","Toolbar","Typography","variant","noWrap","edge","DialogBox","handleClickOpen","Displayer","interests","forEach","Divider","overflow","Follower","info","handleB","handleF","fontSize","fontWeight","Followers","list","setFollowers","PersonAddIcon","Friend","handleMessage","handleU","Friends","setFriends","PersonAddDisabledIcon","CommentInput","handleComment","setInput","count","setCount","multiline","rowsMax","inputProps","maxLength","length","u","handleChange","DialogComment","updatePost","cont","DialogContentText","defaultValue","CommentDisplayer","handleDeleteComment","avatar","setAvatar","setContent","isOwner","getData","a","stlye","comm_id","newContent","updateComment","withStyles","closeButton","right","grey","children","disableTypography","MuiDialogContent","MuiDialogActions","DialogAnalytics","hiders","setHiders","commentors","setCommentors","com","hider","minWidth","listStyleType","hash","require","Tweet","handleDelete","isLikedBool","setIsLike","tweet_likes","setLikes","tweet_comments","numComments","setNumComments","tweet_blocks","isOpen","setIsOpen","allComments","setComments","setDisplay","getCurrentHashTag","bool","toDel","newList","filter","comment","split","newAvatar","newMedia","textAlign","controls","countComments","Date","toISOString","newComment","unshift","postComment","whiteSpace","marginBottom","button","DisplayerTweets","Map","update","setUpdate","Set","toDisplay","handleHideOrDelete","window","location","reload","delete","get","tweets","toAdd","add","set","paddingTop","startIcon","click","dateTime","accept","formdata","FormData","fakePath","append","files","requestOptions","body","fetch","text","parse","hidden","ProfilePage","setData","setInterests","madeQuery","setMadeQuery","childKey","setChildKey","obj","Math","floor","random","temp","Login","setUsername","setPassword","numIncorrectLogins","setnumIncorrectLogins","dateUserLastLockedOut","setDateUserLastLockedOut","isLockedOut","userLogin","reactivateProfile","er","getNumberFailedLogins","resOne","fetchNumberFailedLogins","Array","from","number_failed_logins","getDateUserLastLockedOut","resTwo","tmpDateUserLastLockedOut","date_last_locked_out","dateTimeTwo","parseInt","setLockOutTime","numberFailedLoginsPlusOne","Sidebar","searchBox","results","setResults","blockedUsers","setBlockedUser","searchItem","followed","isUser","has","Suggestions","suggestions","setSuggestions","updateList","newArray","CommentBox","handlers","postTweet","postPicture","postVideo","postSong","size","TweetsDisplayer","loading","setLoading","allTweets","setAllTweets","setPageNumber","hashTagQuery","sethashTagQuery","observer","lastTweetRef","useCallback","node","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","COUNT","prevTweets","updateState","prevTweet","match","newTweet","upload","matchHashTag","index","ref","CircularProgress","Home","Signup","filePath","setFilePath","showImage","profilePicture","addProfilePicture","Lobby","handleRoomNameChange","handleSubmit","connecting","onSubmit","readOnly","required","disabled","Participant","participant","videoTracks","setVideoTracks","audioTracks","setAudioTracks","videoRef","audioRef","trackpubsToTracks","trackMap","values","publication","track","on","kind","v","removeAllListeners","videoTrack","attach","detach","audioTrack","identity","autoPlay","muted","Room","room","handleLogout","participants","setParticipants","prevComm","addCommentLiveStream","participantConnected","prevParticipants","participantDisconnected","p","off","interval","setInterval","clearInterval","remoteParticipants","sid","localParticipant","VideoChat","setRoomName","setRoom","setConnecting","preventDefault","headers","json","Video","connect","token","name","rm","prevRoom","tracks","trackPub","stop","tidyUp","persisted","addEventListener","removeEventListener","ResetPassword","replaceState","Message","isPicture","isVideo","isSong","newMediaMessage","messageStatus","is_read","senderReceiver","DisplayerMessages","getCurrentReceiver","messages","newMessage","MessagePage","FilteredTweet","includes","HashTagTweets","App","path","exact","render","component","ReactDOM","module","exports","userName","String","toLowerCase","passwordOne","passwordTwo","getItem","isLogged","removeItem"],"mappings":"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","file":"static/js/main.83f51203.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport function getUserInformation(username) {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/api/${username}`,\n  });\n  return prm;\n}\n\nexport function addInterest(newInterest, username) {\n  const addUrl = `/api/profile/interest/${username}`;\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      interest: newInterest,\n    },\n  });\n}\n\nexport function addRoom(username, room) {\n  const addUrl = `/api/livestream/open/${username}`;\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      room,\n    },\n  });\n}\n\nexport function closeRoom(username) {\n  const addUrl = `/api/livestream/close/${username}`;\n  return axios({\n    method: 'DELETE',\n    url: addUrl,\n  });\n}\n\nexport function deleteInterest(interestToDelete, username) {\n  const delUrl = `/api/profile/delete/interest/${username}`;\n  return axios({\n    method: 'DELETE',\n    url: delUrl,\n    data: {\n      interest: interestToDelete,\n    },\n  });\n}\n\nexport function fetchTweets(username) {\n  const getUrl = `/api/profile/tweet/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function fetchAllTweets(username) {\n  const getUrl = `/api/tweets/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function fetchAllTweetsPaginated(username, pageNumber, limit) {\n  const getUrl = `/api/tweeters/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n    params: { page: pageNumber, limit },\n\n  });\n}\n\nexport function getTweetCount(username) {\n  const getUrl = `/api/tweets/count/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\nexport function getProfileData(username) {\n  const getUrl = `/api/profile/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getFollowers(username) {\n  const getUrl = `/api/profile/followers/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getTweets(username) {\n  const getUrl = `/api/profile/tweets/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\n// export function getFriends(id) {\n//   const getUrl = `/api/profile/friends/${id}`;\n//   return axios({\n//     method: 'GET',\n//     url: getUrl,\n//   });\n// }\n\nexport function getFriends(username) {\n  const getUrl = `/api/profile/friends/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function deactivateProfile(id, inputPassword) {\n  const delUrl = `/api/profile/deactivate/${id}`;\n  return axios({\n    method: 'PUT',\n    url: delUrl,\n    data: {\n      password: inputPassword,\n    },\n  });\n}\n\n// reactivate the account\nexport function reactivateProfile(id, inputPassword) {\n  const delUrl = `/api/profile/reactivate/${id}`;\n  return axios({\n    method: 'PUT',\n    url: delUrl,\n    data: {\n      password: inputPassword,\n    },\n  });\n}\n\n// change the password in the profile page\nexport function updatePassword(username, newPass, oldPass) {\n  const upUrl = `/api/profile/password/${username}`;\n  return axios({\n    method: 'PUT',\n    url: upUrl,\n    data: {\n      newPassword: newPass,\n      oldPassword: oldPass,\n    },\n  });\n}\n\n// change the password in the login page\nexport function resetPassword(username, newPassword) {\n  const upUrl = '/api/resetPassword';\n  return axios({\n    method: 'PUT',\n    url: upUrl,\n    data: {\n      username,\n      password: newPassword,\n    },\n  });\n}\n\nexport function blockFollower(id, username) {\n  const insUrl = `/api/block/${id}`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function getBlockedFollowers(username) {\n  const insUrl = `/api/blocked/${username}`;\n  return axios({\n    method: 'GET',\n    url: insUrl,\n  });\n}\n\nexport function unBlockUser(username, blocked) {\n  const insUrl = `/api/unblock/${username}`;\n  return axios({\n    method: 'PUT',\n    url: insUrl,\n    data: {\n      follower: blocked,\n    },\n  });\n}\n\n// Home modules\nexport function getUsername(id) {\n  return axios({\n    method: 'GET',\n    url: `/api/home/${id}`,\n  });\n}\n\n// Home modules\nexport function getAvatar(user) {\n  return axios({\n    method: 'GET',\n    url: `/api/profile/avatar/${user}`,\n  });\n}\n\nexport function addTweet(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/createTweet/${data.user}`,\n    data: {\n      content: data.content,\n      tweet_date: data.tweet_date,\n      type: data.type,\n      tweetId: data.tweet_id,\n    },\n  });\n}\n\nexport function addHashtag(tweetid, hashtag) {\n  console.log('hasha', hashtag);\n  return axios({\n    method: 'POST',\n    url: `/api/tweet/hashtag/${tweetid}`,\n    data: {\n      hashtag,\n    },\n  });\n}\n\nexport function addComment(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/comment/add/${data.user}`,\n    data: {\n      commentId: data.comment_id,\n      tweetId: data.tweet_id,\n      content: data.content,\n      timestamp: data.timestamp,\n    },\n  });\n}\nexport function addCommentLiveStream(data) {\n  const {\n    roomName, user, timestamp, content,\n  } = data;\n  return axios({\n    method: 'POST',\n    url: `/api/comment/livestream/${roomName}`,\n    data: {\n      user,\n      timestamp,\n      content,\n    },\n  });\n}\n\nexport function getAllCommentsLiveStream(roomName) {\n  return axios({\n    method: 'GET',\n    url: `/api/livestream/comments/all/${roomName}`,\n  });\n}\n\nexport function getAllCommentsForTweet(tweetId) {\n  return axios({\n    method: 'GET',\n    url: `/api/tweet/comments/all/${tweetId}`,\n  });\n}\n\nexport function updateTweetComments(tweetId, newNumComments) {\n  return axios({\n    method: 'PUT',\n    url: `/api/tweet/comments/${tweetId}`,\n    data: {\n      comments: newNumComments,\n    },\n  });\n}\n\nexport function updateComment(commId, newContent) {\n  return axios({\n    method: 'PUT',\n    url: `/api/tweet/comment/update/${commId}`,\n    data: {\n      content: newContent,\n    },\n  });\n}\n\nexport function deleteComment(commId) {\n  return axios({\n    method: 'DELETE',\n    url: `/api/tweet/comment/delete/${commId}`,\n  });\n}\n\nexport function followUser(id, username) {\n  const insUrl = `/api/follow/${id}`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function unfollowUser(id, username) {\n  const insUrl = `/api/unfollow/${id}`;\n  return axios({\n    method: 'PUT',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function fetchFollowers(id) {\n  return axios({\n    method: 'GET',\n    url: `/api/followers/${id}`,\n  });\n}\n\nexport function fetchAllFollowers(username) {\n  return axios({\n    method: 'GET',\n    url: `/api/all/followers/${username}`,\n  });\n}\n\nexport const addUser = (usernameReg, passwordOneReg, firstName, lastName, email) => {\n  // const user\n  localStorage.setItem('username', JSON.stringify(usernameReg));\n  const prm = axios({\n    method: 'POST',\n    url: '/api/register',\n    data: {\n      username: usernameReg,\n      password: passwordOneReg,\n      first_name: firstName,\n      last_name: lastName,\n      email,\n    },\n  });\n  return prm;\n};\n\nexport const getUid = (usernameReg) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/userUid',\n    data: {\n      username: usernameReg,\n    },\n  });\n  return prm;\n};\n\nexport const userLogin = (usernameReg, password) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/login',\n    data: {\n      username: usernameReg,\n      password,\n    },\n  });\n  return prm;\n};\n\nexport const addProfilePicture = (username, profilePicture) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/uploadProfilePicture',\n    data: {\n      username,\n      profilePicture,\n    },\n  });\n  return prm;\n};\n\n// export const uploadFile = () => {\n//   const prm = axios({\n//     method: 'POST',\n//     url: '/api/uploadFile',\n//     data: {\n//     },\n//   });\n//   return prm;\n// };\nexport const searchFriend = (username, input) => {\n  console.log(`search friend ${username}, typeof ${typeof (input)}@@@@@@@@@@@@`);\n  const promise = axios({\n    method: 'GET',\n    url: `/api/search/${username}/${input}`,\n  });\n  return promise;\n};\n\nexport function deleteTweet(tweetId) {\n  const delUrl = `/api/tweet/delete/${tweetId}`;\n  return axios({\n    method: 'DELETE',\n    url: delUrl,\n  });\n}\n\nexport function hideTweet(tweetId, username) {\n  const postUrl = `/api/tweet/hide/${tweetId}`;\n  return axios({\n    method: 'POST',\n    url: postUrl,\n    data: {\n      username,\n    },\n  });\n}\n\nexport function updateTweetLikes(tweetId, tweetLikes) {\n  const putUrl = `/api/tweet/likes/${tweetId}`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      likes: tweetLikes,\n    },\n  });\n}\n\nexport function updateTweetBlocks(tweetId, tweetBlocks) {\n  const putUrl = `/api/tweet/likes/${tweetId}`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      blocks: tweetBlocks,\n    },\n  });\n}\n\nexport function isLiked(user, tweetId) {\n  const getUrl = `/api/tweet/isliked/${user}/${tweetId}/`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function likeTweet(user, tweetId) {\n  const insUrl = `/api/tweet/like/${user}/`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      tweetid: tweetId,\n    },\n  });\n}\n\nexport const getHiders = (tweetId) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/tweet/hiders/all/${tweetId}`,\n  });\n  return prm;\n};\n\nexport const getSuggestions = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/profile/suggestions/${username}`,\n  });\n  return prm;\n};\n\nexport function unLikeTweet(user, tweetId) {\n  const putUrl = `/api/tweet/unlike/${user}/`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      tweetid: tweetId,\n    },\n  });\n}\n\nexport const getNumberFailedLogins = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/numberFailedLogins/${username}`,\n  });\n  return prm;\n};\n\nexport const updateNumberFailedLogins = (username, numberOfFailedLogins) => {\n  const addUrl = '/api/updateNumberFailedLogins';\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      username,\n      numberOfFailedLogins,\n    },\n  });\n};\n\nexport const getDateUserLastLockedOut = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/dateUserLastLockedOut/${username}`,\n  });\n  return prm;\n};\n\nexport const setLockOutTime = (username) => {\n  const addUrl = '/api/setLockOutTime';\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      username,\n    },\n  });\n};\n\n/* -------------------------------------------------------------------------- */\n/* ------------------------------MESSAGING----------------------------------- */\n/* -------------------------------------------------------------------------- */\n\nexport function addMessage(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/createMessage/${data.user}/${data.receiver}`,\n    data: {\n      content: data.content,\n      message_date: data.message_date,\n      type: data.type,\n      messageId: data.message_id,\n    },\n  });\n}\n\nexport function fetchMessages(username, receiver) {\n  const getUrl = `/api/profile/messages/${username}/${receiver}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function updateHasRead(username, receiver) {\n  return axios({\n    method: 'POST',\n    url: `/api/hasRead/${username}/${receiver}`,\n    data: {\n    },\n  });\n}\n","/* eslint-disable no-alert */\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { addUser } from './Module';\nimport '../App.css';\nimport {\n  isValidPassword, isValidUsername, isValidEmail, isSamePassword,\n} from '../auth/authentication';\n\nexport default function Registration() {\n  const [usernameReg, setUsernameReg] = useState('');\n  const [passwordOneReg, setPasswordOneReg] = useState('');\n  const [passwordTwoReg, setPasswordTwoReg] = useState('');\n  const [firstNameReg, setFirstNameReg] = useState('');\n  const [lastNameReg, setLastNameReg] = useState('');\n  const [email, setEmailReg] = useState('');\n  const history = useHistory();\n\n  Axios.defaults.withCredentials = true;\n\n  const register = () => {\n    if (!isSamePassword(passwordOneReg, passwordTwoReg)) {\n      alert('Passwords do not match, please re-enter');\n      document.getElementById('new-password-form').value = '';\n      document.getElementById('new-password-two-form').value = '';\n      return;\n    }\n\n    if (!isValidUsername(usernameReg)) {\n      alert('Invalid User Name');\n      document.getElementById('new-username-form').value = '';\n      return;\n    }\n\n    if (!isValidPassword(passwordOneReg)) {\n      alert('Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      document.getElementById('new-password-form').value = '';\n      document.getElementById('new-password-two-form').value = '';\n      return;\n    }\n\n    if (!isValidEmail(email)) {\n      alert('Invalid email, please re-enter');\n      document.getElementById('exampleInputEmail1').value = '';\n      return;\n    }\n\n    addUser(usernameReg, passwordOneReg, firstNameReg, lastNameReg, email).then((response) => {\n      console.log(response);\n      // if valid signup proceed to the login page\n      history.push('/signup');\n    }).catch((e) => {\n      console.log(e);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Sign Up</h2>\n          <div className=\"form-group\">\n            <label htmlFor=\"new-username-form\">Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"exampleInputEmail1\">Email address</label>\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"Enter email\"\n              onChange={(e) => setEmailReg(e.target.value)}\n            />\n            <small id=\"emailHelp\" className=\"form-text text-muted\">We will never share your email with anyone else.</small>\n          </div>\n          <div className=\"form-group\">\n            <label>First Name:</label>\n            <input\n              type=\"name\"\n              id=\"new-first-name-form\"\n              className=\"form-control\"\n              placeholder=\"Enter First Name\"\n              onChange={(e) => setFirstNameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Last Name:</label>\n            <input\n              type=\"name\"\n              id=\"new-last-name-form\"\n              placeholder=\"Enter Last Name\"\n              className=\"form-control\"\n              onChange={(e) => setLastNameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              id=\"new-password-form\"\n              aria-describedby=\"passwordHelp\"\n              className=\"form-control\"\n              placeholder=\"Enter Password\"\n              onChange={(e) => setPasswordOneReg(e.target.value)}\n            />\n            <small id=\"passwordHelp\" className=\"form-text text-muted\">Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character</small>\n\n          </div>\n          <div className=\"form-group\">\n            <label>Confirm Password:</label>\n            <input\n              type=\"password\"\n              id=\"new-password-two-form\"\n              className=\"form-control\"\n              placeholder=\"Re-Enter Password\"\n              onChange={(e) => setPasswordTwoReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={register}\n            >\n              Sign Up\n            </button>\n          </div>\n          <p>\n            Already have an account?&nbsp;\n            <Link to=\"/login\">Log in here!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Redirect } from 'react-router-dom';\nimport { deactivateProfile } from './Module';\nimport './DialogPassword.css';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function DialogPassword() {\n  const username = getCurrentUsername();\n  const [open, setOpen] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  const [clue, setClue] = useState('');\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setClue('');\n  };\n\n  const handleCloseDelete = () => {\n    const input = document.getElementById('passwordInput').value;\n    if (input !== '') {\n      deactivateProfile(username, input).then((response) => {\n        console.log(response);\n        setOpen(false);\n        setRedirect(true);\n      }).catch((err) => {\n        console.log(err);\n        setClue('Incorrect entry');\n      });\n    }\n  };\n\n  return !redirect ? (\n    <div>\n      <button id=\"delete\" style={{ color: '#00695c', border: 'none', backgroundColor: 'inherit' }} type=\"button\" onClick={handleClickOpen}>Delete account</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Confirm account deletion</DialogTitle>\n        <DialogContent>\n          <TextField\n            error={clue !== ''}\n            autoFocus\n            margin=\"dense\"\n            id=\"passwordInput\"\n            label=\"Input password\"\n            type=\"password\"\n            fullWidth\n            helperText={clue}\n          />\n        </DialogContent>\n        <DialogActions>\n          <button className=\"btn cancel\" type=\"button\" onClick={handleClose}>\n            Cancel\n          </button>\n          <button className=\"btn delete\" type=\"button\" onClick={handleCloseDelete}>\n            Delete\n          </button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  ) : <Redirect to=\"/login\" />;\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport isValidPassword from './authentication';\nimport { updatePassword } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function DialogPasswordChange() {\n  const username = getCurrentUsername();\n  const [open, setOpen] = useState(false);\n  const [checker, setChecker] = useState(true);\n  const [isValid, setIsValid] = useState(true);\n  const handleClickOpen = () => {\n    setChecker(true);\n    setOpen(true);\n    setIsValid(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCloseChange = () => {\n    const oldPassword = document.getElementById('oldPassword').value;\n    const newPassword = document.getElementById('newPassword').value;\n    const isNotEqual = oldPassword !== newPassword;\n    const oldIsNull = oldPassword !== '';\n    const newIsNull = newPassword !== '';\n    if (checker && isValid && isNotEqual && newIsNull && oldIsNull) {\n      updatePassword(username, newPassword, oldPassword).then((response) => {\n        if (response.status === 200) {\n          setOpen(false);\n        } else {\n          setOpen(true);\n        }\n      }).catch((err) => console.log(err.message));\n    }\n  };\n  return (\n    <div>\n      <button id=\"change\" style={{ color: '#00695c', border: 'none', backgroundColor: 'inherit' }} type=\"button\" onClick={handleClickOpen}>Change password</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Change password</DialogTitle>\n\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"oldPassword\"\n            label=\"Old password\"\n            type=\"password\"\n            fullWidth\n          />\n\n          <TextField\n            error={!isValid}\n            autoFocus\n            onChange={(event) => {\n              setIsValid(isValidPassword(event.target.value));\n            }}\n            margin=\"dense\"\n            id=\"newPassword\"\n            label=\"Input new password\"\n            type=\"password\"\n            fullWidth\n            helperText={isValid ? 'Password is strong!' : 'Password needs a min length of 8. It must consist of at 8 ...'}\n          />\n\n          <TextField\n            error={!checker}\n            onChange={(event) => {\n              setChecker(event.target.value === document.getElementById('newPassword').value);\n            }}\n            autoFocus\n            margin=\"dense\"\n            id=\"newPasswordConfirmed\"\n            label=\"Confirm new password\"\n            type=\"password\"\n            fullWidth\n            helperText={checker ? '' : 'New password must be identical'}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"#00695c\">\n            Cancel\n          </Button>\n          <Button onClick={handleCloseChange} color=\"primary\">\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","export default function isValidPassword(password) {\n  const strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})');\n  return strongRegex.test(password);\n}\n\nexport function isValidUsername(userName) {\n  const valid = new RegExp('^[a-zA-Z0-9_]*$');\n  return valid.test(userName);\n}\n\nexport function isValidEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n","import React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getCurrentUsername } from '../auth/authServices';\n// import { getFriends } from './Module';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function ScrollDialog({\n  secondary, title, secondTitle, getFunction, Icon, handle, iconText,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [scroll, setScroll] = useState('paper');\n  const [items, setItems] = useState([]);\n  const user = getCurrentUsername();\n  const createItem = (data) => {\n    console.log(data.profile_picture);\n    const toRet = (\n      <ListItem>\n        <ListItemAvatar>\n          <Avatar\n            alt=\"\"\n            src={`/api/viewFile/${data.profile_picture}`}\n          />\n        </ListItemAvatar>\n        <ListItemText primary={data.username} secondary={secondary} />\n        <Tooltip title={iconText} placement=\"top\">\n          <Icon className=\"button\" color=\"secondary\" onClick={() => handle(data.username)} />\n        </Tooltip>\n      </ListItem>\n    );\n    return toRet;\n  };\n  const handleClickOpen = (scrollType) => () => {\n    console.log('here');\n    getFunction(user).then((response) => {\n      let newItems = [];\n      if (response.data.friends) {\n        newItems = response.data.friends.map((e) => createItem(e));\n        console.log(response.data.friends);\n      } else if (response.data.followers) {\n        newItems = response.data.followers.map((e) => createItem(e));\n        console.log(response.data.followers);\n      }\n      setItems(newItems);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n    setOpen(true);\n    setScroll(scrollType);\n  };\n\n  useEffect(() => {\n  }, [items]);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <div>\n      <button\n        onClick={handleClickOpen('paper')}\n        className=\"btn\"\n        id=\"delete\"\n        style={{\n          color: '#00695c',\n          border: 'none',\n          backgroundColor: 'inherit',\n        }}\n        type=\"button\"\n      >\n        {title}\n      </button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        scroll={scroll}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle id=\"scroll-dialog-title\">{secondTitle}</DialogTitle>\n        <DialogContent dividers={scroll === 'paper'}>\n          <List className={classes.root}>\n            {items}\n          </List>\n        </DialogContent>\n        <DialogActions>\n          <button\n            onClick={handleClose}\n            className=\"btn\"\n            id=\"delete\"\n            style={{\n              color: '#00695c',\n              border: 'none',\n              backgroundColor: 'inherit',\n            }}\n            type=\"button\"\n          >\n            Close\n          </button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport './Profile.css';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport DialogPassword from './DialogPassword';\nimport DialogPasswordChange from './DialogPasswordChange';\nimport ScrollDialog from './DisplayerDialog';\nimport { getBlockedFollowers, unBlockUser } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Profile(props) {\n  const user = getCurrentUsername();\n\n  let date = 0;\n  console.log(props.data);\n  if (typeof props.data !== 'undefined') {\n    date = (props.data.date);\n  }\n  const handleUnblock = (username) => {\n    unBlockUser(user, username).then((res) => {\n      console.log(res.message);\n      getBlockedFollowers(user).then((result) => {\n        console.log(result.data.friends);\n      });\n    });\n  };\n\n  const profilePic = props.data.profile_picture;\n  console.log(`pics${profilePic}`);\n  const profilePicUrl = `/api/viewFile/${profilePic}`;\n  return (\n    <div className=\"container-profile\">\n      <div className=\"pictures\">\n        <img src={profilePicUrl} alt=\"\" id=\"overlay\" />\n        <img src={profilePicUrl} alt=\"\" id=\"originalDiv\" />\n      </div>\n      <br />\n      <div className=\"username\">\n        <span style={{ color: '#0C8367' }} id=\"username\">{props.data.username}</span>\n        <span style={{ color: '#0C8367' }} id=\"username\">{`Since: ${date}`}</span>\n      </div>\n      <div className=\"deleteButton\">\n        <ScrollDialog\n          secondary=\"blocked\"\n          title=\"My Blocked Users\"\n          secondTitle=\"Blocked Users\"\n          getFunction={getBlockedFollowers}\n          Icon={LockOpenIcon}\n          handle={handleUnblock}\n          iconText=\"Unblock User\"\n        />\n        <DialogPassword />\n        <DialogPasswordChange />\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n// import MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport HomeIcon from '@material-ui/icons/Home';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport { useHistory } from 'react-router-dom';\nimport { logout } from '../auth/authServices';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PrimarySearchAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const history = useHistory();\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    const path = '/profile';\n    history.push(path);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleClick = () => {\n    const path = '/home';\n    history.push(path);\n  };\n\n  const handleLogOut = () => {\n    logout();\n    const path = '/login';\n    history.push(path);\n  };\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={handleClick}>Home</MenuItem>\n      <MenuItem onClick={handleMenuClose}>My Account</MenuItem>\n      <MenuItem onClick={handleLogOut}>Log Out</MenuItem>\n\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleClick}>\n        <IconButton color=\"inherit\">\n          <Badge>\n            <HomeIcon />\n          </Badge>\n        </IconButton>\n        <p>Home</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n          <Badge badgeContent={4} color=\"secondary\">\n            <MailIcon />\n          </Badge>\n        </IconButton>\n        <p>Messages</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n          <Badge badgeContent={11} color=\"secondary\">\n            <NotificationsIcon />\n          </Badge>\n        </IconButton>\n        <p>Notifications</p>\n      </MenuItem>\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n          onClick={handleClick}\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>Home</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div style={{ position: 'relative', top: '0px' }}>\n      <div style={{ position: 'relative', top: '0px' }} className=\"rest\">\n        <div className={classes.grow}>\n          <AppBar style={{ backgroundColor: '#0C8367' }} position=\"static\">\n            <Toolbar>\n              {/* <IconButton\n                edge=\"start\"\n                className={classes.menuButton}\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n              >\n                <MenuIcon />\n              </IconButton> */}\n              <Typography className={classes.title} variant=\"h6\" noWrap>\n                Trinirwa Microblog\n              </Typography>\n              <div className={classes.grow} />\n              <div className={classes.sectionDesktop}>\n                <IconButton\n                  onClick={handleClick}\n                  color=\"inherit\"\n                >\n                  <Badge>\n                    <HomeIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n                  <Badge badgeContent={4} color=\"secondary\">\n                    <MailIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton aria-label=\"show 17 new notifications\" color=\"inherit\">\n                  <Badge badgeContent={17} color=\"secondary\">\n                    <NotificationsIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"account of current user\"\n                  aria-controls={menuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleProfileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <AccountCircle />\n                </IconButton>\n              </div>\n              <div className={classes.sectionMobile}>\n                <IconButton\n                  aria-label=\"show more\"\n                  aria-controls={mobileMenuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleMobileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <MoreIcon />\n                </IconButton>\n              </div>\n            </Toolbar>\n          </AppBar>\n          {renderMobileMenu}\n          {renderMenu}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function DialogBox(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    const input = document.getElementById('interest').value;\n    props.onClose(input);\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button color=\"primary\" onClick={handleClickOpen}>\n        Add interest\n      </Button>\n      <Dialog open={open} onClose={handleClickOpen} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add interest</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"interest\"\n            type=\"string\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport './Displayer.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Divider from '@material-ui/core/Divider';\nimport DialogBox from './Dialog';\n\nexport default function Displayer({ interests, addInterest, deleteInterest }) {\n  const items = [];\n  interests.forEach((interest) => {\n    items.push(\n      <li key={interest} onClick={() => deleteInterest(interest)} className=\"badge rounded-pill bg-secondary m-2\">\n        {interest}\n      </li>,\n    );\n  });\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"section1\">\n        <ul>{items}</ul>\n      </div>\n      <Divider variant=\"middle\" />\n      <div className=\"section2\">\n        <DialogBox onClose={addInterest} />\n      </div>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport './Follower.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(2),\n      borderRadius: '100%',\n      padding: 0,\n      overflow: 'none',\n    },\n  },\n}));\n\nexport default function Follower({ info, handleB, handleF }) {\n  const classes = useStyles();\n  return (\n    <div className=\"Container_two\">\n      <div className={classes.root}>\n        <Tooltip title=\"Block user\" placement=\"top\">\n          <BlockIcon fontSize=\"small\" className=\"button\" color=\"secondary\" onClick={() => handleB(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Follow\" placement=\"top\">\n          <PersonAddIcon fontSize=\"small\" className=\"button\" onClick={() => handleF(info.username)} />\n        </Tooltip>\n      </div>\n      <div className=\"followerContainer\">\n        <div className=\"myimgContainer\">\n          <img\n            className=\"myimg\"\n            src={`/api/viewFile/${info.profile_picture}`}\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div style={{ fontWeight: 'bold', color: '#0C8367' }} className=\"text\">{info.username}</div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Follower from './Follower';\nimport ScrollDialog from './DisplayerDialog';\nimport { blockFollower, followUser, getFollowers } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Followers() {\n  const user = getCurrentUsername();\n  const [list, setFollowers] = useState([]);\n  useEffect(() => {\n    getFollowers(user).then((result) => {\n      setFollowers(result.data.followers);\n    });\n  }, []);\n\n  // handling blocking\n  const handleB = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        setFollowers(result.data.followers);\n      });\n    });\n  };\n  // handling following\n  const handleF = (username) => {\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        setFollowers(result.data.followers);\n      });\n    });\n  };\n\n  const items = list.map((e) => <Follower info={e} handleB={handleB} handleF={handleF} />);\n  return (\n    <div className=\"box-container\">\n      <div className=\"buttonFollowers\">\n        <ScrollDialog\n          secondary=\"follower\"\n          title=\"All followers\"\n          secondTitle=\"All followers\"\n          getFunction={getFollowers}\n          Icon={PersonAddIcon}\n          handle={handleF}\n          iconText=\"Follow\"\n        />\n      </div>\n      <div style={{ color: '#0C8367' }} className=\"title\">Followers</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {items}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport './Follower.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1.5),\n      borderRadius: '100%',\n      padding: 0,\n      overflow: 'none',\n    },\n  },\n}));\n\nexport default function Friend({\n  info, handleB, handleMessage, handleU,\n}) {\n  const classes = useStyles();\n  return (\n    <div className=\"Container_two\">\n      <div className={classes.root}>\n        <Tooltip title=\"Message\" placement=\"top\">\n          <ChatIcon fontSize=\"small\" className=\"button\" onClick={() => handleMessage(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Block user\" placement=\"top\">\n          <BlockIcon fontSize=\"small\" className=\"button\" color=\"secondary\" onClick={() => handleB(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Unfollow\" placement=\"top\">\n          <PersonAddDisabledIcon fontSize=\"small\" className=\"button\" onClick={() => handleU(info.username)} />\n        </Tooltip>\n      </div>\n      <div className=\"followerContainer\">\n        <div className=\"myimgContainer\">\n          <img\n            className=\"myimg\"\n            src={`/api/viewFile/${info.profile_picture}`}\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div style={{ fontWeight: 'bold', color: '#0C8367' }} className=\"text\">{info.username}</div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport { useHistory } from 'react-router-dom';\nimport Friend from './Friend';\nimport {\n  // eslint-disable-next-line no-unused-vars\n  blockFollower, getFriends, unfollowUser, updateHasRead,\n} from './Module';\nimport ScrollDialog from './DisplayerDialog';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Friends() {\n  const history = useHistory();\n  const user = getCurrentUsername();\n  const [friends, setFriends] = useState([]);\n  useEffect(() => {\n    getFriends(user).then((result) => {\n      setFriends(result.data.friends);\n    });\n  }, []);\n\n  const handleB = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n      getFriends(user).then((result) => {\n        setFriends(result.data.friends);\n      });\n    });\n  };\n\n  const handleU = (username) => {\n    unfollowUser(user, username).then((res) => {\n      console.log(res.message);\n      getFriends(user).then((result) => {\n        setFriends(result.data.friends);\n      });\n    });\n  };\n\n  const handleMessage = (username) => {\n    console.log(username);\n    localStorage.setItem('receiver', JSON.stringify(username));\n\n    history.push('/message');\n  };\n\n  const items = friends.map((e) => <Friend info={e} handleMessage={handleMessage} handleB={handleB} handleU={handleU} />);\n  return (\n    <div className=\"box-container\">\n      <div className=\"buttonFollowers\">\n        <ScrollDialog\n          secondary=\"friends\"\n          title=\"All friends\"\n          secondTitle=\"All friends\"\n          getFunction={getFriends}\n          Icon={PersonAddDisabledIcon}\n          handle={handleU}\n          iconText=\"Unfollow\"\n        />\n      </div>\n      <div style={{ color: '#0C8367' }} className=\"title\">Friends</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {items}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport './CommentInput.css';\nimport TextField from '@material-ui/core/TextField';\n\nexport default function CommentInput({ id, handleComment }) {\n  const [input, setInput] = useState('');\n  const [count, setCount] = useState(255);\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n      setInput(e.target.value);\n      console.log(input);\n    }\n  };\n  return (\n    <div className=\"comment_box\">\n      <div className=\"commentInpCtn\">\n        <TextField\n          id={`${id}`}\n          label=\"Comment on post\"\n          multiline\n          rowsMax={4}\n          helperText={`${count} remaining chars`}\n          variant=\"outlined\"\n          inputProps={{ maxLength: 255 }}\n          onChange={(e) => handleChange(e)}\n          fullWidth\n        />\n      </div>\n      <div className=\"commentBtnCtn\">\n        <button onClick={() => handleComment(input)} id=\"commentButton\" type=\"button\"> Comment</button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport './CommentDisplayer.css';\n\nexport default function DialogComment({ id, content, updatePost }) {\n  const cont = content;\n  const [open, setOpen] = React.useState(false);\n  const [count, setCount] = useState(255);\n  const [input, setInput] = useState('');\n  const handleChange = (e) => {\n    setInput(e.target.value);\n    setCount(255 - e.target.value.length);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClosePostChanged = () => {\n    updatePost(input);\n    setOpen(false);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <button onClick={handleClickOpen} id=\"editBtn\" type=\"button\">Edit</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Subscribe</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Changes will be made once you post them!\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id={`name${id}`}\n            label=\"Edit post\"\n            type=\"email\"\n            multiline\n            fullWidth\n            helperText={`${count} remaining chars`}\n            defaultValue={cont}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button style={{ color: 'green' }} onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button style={{ color: 'green' }} onClick={() => handleClosePostChanged(input)} color=\"primary\">\n            Post changes\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport './CommentDisplayer.css';\nimport DialogComment from './DialogComment';\nimport { getCurrentUsername } from '../auth/authServices';\nimport { getAvatar, updateComment } from './Module';\n\nexport default function CommentDisplayer({ data, handleDeleteComment }) {\n  const [avatar, setAvatar] = useState('');\n  const [content, setContent] = useState(data.content);\n  const user = getCurrentUsername();\n  const isOwner = data.user === user;\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const updatePost = (newContent) => {\n    if (newContent === '') {\n      return;\n    }\n    setContent(newContent);\n    updateComment(data.comm_id, newContent).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"comment_cont\" stlye={{ height: '200px', width: '100px', backgroundColor: 'red' }}>\n      <div className=\"comment_header\">\n        <div className=\"header_profile\">\n          <img id=\"comment_picture\" src={`/api/viewFile/${avatar}`} alt=\"\" />\n        </div>\n        <div className=\"header_name\">\n          <span id=\"cmnt_username\">{data.user}</span>\n        </div>\n      </div>\n      <div className=\"cmnt_cntBtn_box\" style={{ width: 'fit-content' }}>\n        <div className=\"cmnt_cnt_box\">\n          <span id=\"cmnt_cnt\">{content}</span>\n        </div>\n        <div className=\"cmnt_btns_box\">\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"cmnt_EditBtn_box\">\n            <DialogComment id={data.comm_id} updatePost={updatePost} content={content} />\n          </div>\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"cmnt_EditBtn_box\">\n            <button onClick={() => handleDeleteComment(data.comm_id)} id=\"deleteBtn\" type=\"button\">Delete</button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","/* eslint-disable react/jsx-key */\nimport React, { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport Typography from '@material-ui/core/Typography';\nimport { getAllCommentsForTweet, getHiders } from './Module';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const {\n    children, classes, onClose,\n  } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default function DialogAnalytics({ tweetId }) {\n  const [hiders, setHiders] = useState([]);\n  const [commentors, setCommentors] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const getData = async () => {\n    await getAllCommentsForTweet(tweetId).then((res) => {\n      const { comments } = res.data;\n      setCommentors(comments.map((com) => com.user));\n    }).catch((err) => console.log(err.message));\n    await getHiders(tweetId).then((res) => {\n      setHiders(res.data.hiders.map((hider) => hider.user));\n    }).catch((err) => console.log(err.message));\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n\n  }, [hiders, commentors, open]);\n  return (\n    <div>\n      <div>\n        <IconButton\n          onClick={handleClickOpen}\n          style={{\n            borderRadius: '50%',\n            padding: '3',\n          }}\n        >\n          <AssessmentIcon />\n        </IconButton>\n        <span id=\"analytics_btn\" style={{ color: '#0C8367' }}>Analytics</span>\n      </div>\n      <Dialog\n        onClose={handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n      >\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n          Tweet analytics\n        </DialogTitle>\n        <DialogContent dividers>\n          <div style={{ display: 'flex', minWidth: '100px' }}>\n            <div>\n              <span style={{ margin: 'auto', color: '#0C8367', fontWeight: 'bold' }}>Commentors</span>\n              <ol style={{ margin: 'auto', listStyleType: 'circle' }}>\n                {commentors.map((e) => (\n                  <li>\n                    {e}\n                  </li>\n                ))}\n              </ol>\n            </div>\n            <div style={{ marginLeft: '5px', borderRadius: '8px', backgroundColor: '#D0EAE4' }} className=\"hiders\">\n              <div style={{ display: 'flex' }}>\n                <span style={{ margin: 'auto', color: '#0C8367', fontWeight: 'bold' }}>Hiders</span>\n              </div>\n\n              <ol style={{ margin: 'auto', listStyleType: 'circle' }}>\n                {hiders.map((hider) => (\n                  <li key={hider}>\n                    {hider}\n                    {' '}\n                  </li>\n                ))}\n              </ol>\n            </div>\n          </div>\n\n        </DialogContent>\n        <DialogActions />\n      </Dialog>\n    </div>\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport LikeIcon from '@material-ui/icons/FavoriteBorderRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CommentInput from './CommentInput';\nimport {\n  getAvatar,\n  updateTweetLikes,\n  isLiked,\n  unLikeTweet,\n  likeTweet,\n  addComment,\n  getAllCommentsForTweet,\n  updateTweetComments,\n  deleteComment,\n  getHiders,\n} from './Module';\nimport { getCurrentUsername, getCurrentHashTag } from '../auth/authServices';\nimport CommentDisplayer from './CommentDisplayer';\nimport DialogAnalytics from './AnalyticsTweet';\n\nconst hash = require('object-hash');\n\nexport default function Tweet({ data, handleDelete }) {\n  const user = getCurrentUsername();\n  const [isLikedBool, setIsLike] = useState(false);\n  const [likes, setLikes] = useState(data.tweet_likes);\n  const [numComments, setNumComments] = useState(data.tweet_comments);\n  const [id] = useState(data.tweet_id);\n  const [blocks, setBlocks] = useState(data.tweet_blocks);\n  const [isOwner] = useState(data.user === user);\n  const [avatar, setAvatar] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [items, setItems] = useState([]);\n  const [allComments, setComments] = useState([]);\n  const [display, setDisplay] = useState(true);\n  const hashtag = getCurrentHashTag();\n  const postComment = (content, tweetId) => {\n    const timestamp = new Date().toISOString();\n    const commentId = hash(`${content}${user}${timestamp}`);\n    const newComment = {\n      comment_id: commentId,\n      tweet_id: tweetId,\n      user,\n      content,\n      timestamp,\n    };\n    allComments.unshift(newComment);\n    addComment(newComment).then((res) => {\n      console.log(res.message);\n      updateTweetComments(id, numComments + 1).then((result) => {\n        console.log(result.message);\n        setNumComments(numComments + 1);\n      }).catch((err) => console.log(err.message));\n    }).catch((err) => console.log(err.message));\n  };\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await isLiked(user, data.tweet_id).then((res) => {\n      if (res.data.bool.length) {\n        setIsLike(true);\n      } else {\n        setIsLike(false);\n      }\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await getAllCommentsForTweet(data.tweet_id).then((res) => {\n      const { comments } = res.data;\n      setComments(comments);\n    }).catch((err) => console.log(err.message));\n    await getHiders(id).then((res) => {\n      console.log(res.data);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleComment = (input, countComments) => {\n    if (input === '') return;\n    postComment(input, id);\n  };\n  const handleDeleteorHideInternal = () => {\n    setDisplay(false);\n    handleDelete(id, isOwner);\n  };\n  const handleDeleteComment = (toDel) => {\n    const newList = allComments.filter((comment) => comment.comm_id !== toDel);\n    setComments(newList);\n    deleteComment(toDel).then((res) => {\n      console.log(res);\n      setNumComments(numComments - 1);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleClick = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleLike = () => {\n    if (isLikedBool) {\n      unLikeTweet(user, id).then((res) => {\n        if (res.status === 200) {\n          updateTweetLikes(id, likes - 1).then((result) => {\n            console.log(result.message);\n            setLikes(likes - 1);\n          }).catch((err) => {\n            console.log(err.message);\n          });\n        }\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      likeTweet(user, id).then((res) => {\n        updateTweetLikes(id, likes + 1).then((result) => {\n          console.log(result);\n          setLikes(likes + 1);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    }\n    setIsLike(!isLikedBool);\n  };\n\n  useEffect(() => {\n  }, [items]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.tweet_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n\n  return (\n    <>\n      <div style={{ display: display ? 'block' : 'none' }} id=\"container_tweet\">\n        <div className=\"tweet_header\">\n          <div className=\"tweet_img\">\n            <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n          </div>\n          <div className=\"tweet_text\">\n            <span\n              style={{\n                fontSize: '13px',\n                fontWeight: 'bold',\n              }}\n              id=\"author_username\"\n            >\n\n              {data.user}\n            </span>\n            <span style={{ fontSize: '10px' }} id=\"date\">\n              {date}\n            </span>\n          </div>\n        </div>\n        <div id=\"menu\">\n          <Tooltip title={isOwner ? 'Delete post' : 'Hide post'} placement=\"top\">\n            <IconButton\n              style={{\n                borderRadius: '50%',\n                padding: '3',\n                color: '#0C8367',\n              }}\n              onClick={handleDeleteorHideInternal}\n            >\n              <CloseRoundedIcon id={data.tweet_id} />\n            </IconButton>\n          </Tooltip>\n        </div>\n        <Divider variant=\"middle\" />\n        <div className=\"tweet_content\">\n          <>\n            {data.type === 'text' && (\n              <p style={{ textAlign: 'left' }}>\n                {data.content}\n              </p>\n            )}\n            {data.type === 'video' && (\n              // eslint-disable-next-line jsx-a11y/media-has-caption\n              <video className=\"tweet_video\" controls>\n                {' '}\n                <source src={newMedia} />\n              </video>\n            )}\n            {data.type === 'song' && (\n              // eslint-disable-next-line jsx-a11y/media-has-caption\n              <audio controls>\n                <source src={newMedia} />\n              </audio>\n            )}\n            {data.type === 'picture' && <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />}\n          </>\n\n        </div>\n        <Divider variant=\"middle\" />\n        <div className=\"comment\">\n          <CommentInput handleComment={handleComment} />\n        </div>\n        <div\n          className=\"comment_item\"\n          style={{\n            height: isOpen ? '300px' : '200px',\n            display: numComments > 0 ? 'block' : 'none',\n          }}\n        >\n          <div style={{\n            margin: 'auto',\n            textAlign: 'center',\n            fontWeight: 'bold',\n            color: '#0C8367',\n          }}\n          >\n            <span>{ (numComments !== 0) ? `${numComments} comments` : 'Comments'}</span>\n          </div>\n          <div style={{\n            margin: 'auto', width: '90%', height: '100%',\n          }}\n          >\n            <ul\n              id={`list${id}`}\n              style={{\n                whiteSpace: 'nowrap', listStyleType: 'none',\n              }}\n            >\n              {allComments.map((comment) => (\n                <li style={{ marginBottom: '35px' }} key={comment.comm_id}>\n                  <CommentDisplayer data={comment} handleDeleteComment={handleDeleteComment} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className=\"tweet_bottom\">\n          <div className=\"likes\">\n            <IconButton\n              onClick={handleLike}\n              style={{\n                borderRadius: '50%',\n                padding: '3',\n                color: isLikedBool ? 'red' : 'black',\n              }}\n            >\n              <LikeIcon />\n            </IconButton>\n            <span style={{ color: '#0C8367' }}>{`${likes} likes`}</span>\n          </div>\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"analytics\">\n            <DialogAnalytics\n              tweetId={data.tweet_id}\n            />\n          </div>\n          <div className=\"comments\">\n            <button onClick={() => handleClick()} id=\"viewCommentsBtn\" type=\"button\">{!isOpen ? 'View more' : 'View less'}</button>\n          </div>\n        </div>\n      </div>\n    </>\n\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Tweet from './Tweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addTweet,\n  deleteTweet,\n  fetchAllTweets,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerTweets() {\n  const history = useHistory();\n\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      deleteTweet(id).then((res) => {\n        window.location.reload();\n        console.log('message: delete:', res.message);\n        setUpdate(true);\n        console.log('deleted:', toDisplay.delete(items.get(id)));\n        items.delete(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        window.location.reload();\n        toDisplay.delete(items.get(id));\n        items.delete(id);\n        setUpdate(true);\n        // updating blocks\n      }).catch((err) => console.log(err));\n    }\n  };\n\n  useEffect(() => {\n    console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postTweet = () => {\n    setCount(255);\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(tweetId, toAdd);\n    // newItems.set(tweetId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addTweet(newTweet).then((res) => {\n      console.log(res.message);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchAllTweets(user).then((res) => {\n      const { tweets } = res.data;\n      tweets.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const goLiveHandler = () => {\n    history.push('/videochat');\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  // console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"tweet\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            onClick={goLiveHandler}\n            startIcon={<LiveTvIcon />}\n          >\n            Go live\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postTweet}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Profile from './ProfilePicture';\nimport NavBar from './navBar';\nimport Displayer from './Displayer';\nimport Followers from './Followers';\nimport Friends from './Friends';\n\n// import SearchBox from './Search2';\nimport DisplayerTweets from './CenterDisplay';\nimport './ProfilePage.css';\n// import TweetDisplayer from './tweetDisplayer';\nimport {\n  addInterest, deleteInterest, getProfileData,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function ProfilePage() {\n  const username = getCurrentUsername();\n  const [info, setData] = useState([{}]);\n  const [interests, setInterests] = useState(new Set());\n  const [madeQuery, setMadeQuery] = useState(false);\n  // const [tweets, setTweets] = useState([{}]);\n  const [childKey, setChildKey] = useState(0);\n  // const handleFetchTweets = () => {\n  //   fetchTweets(id).then((result) => {\n  //     setTweets(result.data);\n  //   });\n  // };\n  // console.log(`local storage Username = ${newUsername}`);\n\n  useEffect(() => {\n    getProfileData(username).then((result) => {\n      console.log(result.data.data[0]);\n      setData(result.data.data[0]);\n      const newInterest = new Set((result.data.interests).map((obj) => obj.interest));\n      setInterests(newInterest);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n    setMadeQuery(true);\n    // handleFetchTweets();\n  }, []);\n\n  const handleAddInterest = (newInterest) => {\n    setInterests([...interests, newInterest]);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    addInterest(newInterest, username);\n  };\n\n  const handleDeleteInterest = (interest) => {\n    const temp = interests;\n    temp.delete(interest);\n    setInterests(temp);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    deleteInterest(interest, username);\n  };\n\n  return madeQuery ? (\n    <div className=\"profile\">\n      <div\n        style={{\n          width: '98%', margin: 'auto',\n        }}\n      >\n        <div style={{ position: 'relative', top: '0px' }} className=\"rest\">\n          <NavBar />\n          <Profile data={info} user={username} />\n        </div>\n        <div className=\"all_boxes\">\n          <div className=\"left-boxes\">\n            <div className=\"left-Displayer\">\n              <Displayer\n                key={childKey}\n                interests={interests}\n                addInterest={handleAddInterest}\n                deleteInterest={handleDeleteInterest}\n              />\n            </div>\n            <div className=\"left-friends\">\n              <Friends />\n            </div>\n            <div className=\"left-followers\">\n              <Followers />\n            </div>\n          </div>\n          <div className=\"right_boxes\">\n            <DisplayerTweets />\n          </div>\n        </div>\n      </div>\n    </div>\n\n  ) : <div />;\n}\n","import React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport {\n  BrowserRouter as Router, Link, useHistory,\n} from 'react-router-dom';\nimport '../App.css';\nimport {\n  userLogin, getNumberFailedLogins, updateNumberFailedLogins,\n  getDateUserLastLockedOut, setLockOutTime, reactivateProfile,\n} from './Module';\n\nexport default function Login() {\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [numIncorrectLogins, setnumIncorrectLogins] = useState(0);\n  const [dateUserLastLockedOut, setDateUserLastLockedOut] = useState('');\n  // eslint-disable-next-line prefer-const\n  let [isLockedOut] = useState(false);\n\n  Axios.defaults.withCredentials = true;\n\n  useEffect(() => setnumIncorrectLogins(numIncorrectLogins), [numIncorrectLogins]);\n  useEffect(() => console.log(`changed dateUserLastLockedOut ${dateUserLastLockedOut}`), [dateUserLastLockedOut]);\n  // useEffect(() => console.log(`changed uid ${uid}`), [uid]);\n  useEffect(() => console.log(`changed isLockedOut ${isLockedOut}`), [isLockedOut]);\n\n  const loginOnClick = () => {\n    // const dateTime = new Date().toISOString();\n    setUsername(username);\n    userLogin(username, password).then((response) => {\n      localStorage.setItem('username', JSON.stringify(username));\n      // reactivate just in case\n      reactivateProfile(username, password).then(() => {\n      }).catch((er) => {\n        console.log(er);\n      });\n      getNumberFailedLogins(username).then((resOne) => {\n        console.log('resOne.data.message', resOne.data.message);\n        // eslint-disable-next-line eqeqeq\n        if (resOne.data.message == '200') {\n          let fetchNumberFailedLogins = 0;\n          [fetchNumberFailedLogins] = [Array.from(resOne.data.data)[0].number_failed_logins];\n          setnumIncorrectLogins(fetchNumberFailedLogins);\n          // new query\n          getDateUserLastLockedOut(username).then((resTwo) => {\n            let tmpDateUserLastLockedOut = '';\n            [tmpDateUserLastLockedOut] = [Array.from(resTwo.data.data)[0].date_last_locked_out];\n            // console.log('fetched fetchedNumberOfIncorrectLogins = ');\n            // console.log(fetchNumberFailedLogins);\n            setDateUserLastLockedOut(tmpDateUserLastLockedOut);\n            if (fetchNumberFailedLogins > 3) {\n              // setIsLockedOut(true);\n              // const dateTimeOne = new Date(dateTime);\n              // console.log('dateUserLastLockedOut = ', tmpDateUserLastLockedOut);\n              // console.log('dateTimeTwo = ', tmpDateUserLastLockedOut);\n              isLockedOut = true;\n              const dateTimeTwo = new Date(tmpDateUserLastLockedOut);\n              const timeDiffMs = new Date() - dateTimeTwo;\n              const lockOutTime = 3600 * 1000; // one hour lockOut\n              const isTimeOver = timeDiffMs > lockOutTime;\n              // console.log(`timeDiffMs : ${timeDiffMs}`);\n              // console.log(`isTimeOver : ${isTimeOver}`);\n              if (isTimeOver) {\n                isLockedOut = false;\n                // reset\n                updateNumberFailedLogins(username, 0).catch((e) => {\n                  console.log(e);\n                });\n              }\n              // setIsLockedOut(isTimeOver);\n            }\n\n            // console.log(`isLockedOut before if : ${isLockedOut}`);\n            if (isLockedOut === false) {\n              if (response.data.message) {\n                // need to revoke login access to this account\n                if (parseInt(fetchNumberFailedLogins, 10) === 3) {\n                  setLockOutTime(username);\n                }\n                // console.log(`numIncorrectLogins =${fetchNumberFailedLogins}`);\n                const numberFailedLoginsPlusOne = parseInt(fetchNumberFailedLogins, 10) + 1;\n                alert(`Wrong Password! You have ${3 - numberFailedLoginsPlusOne} attempts left before you get locked out`);\n                updateNumberFailedLogins(username, (numberFailedLoginsPlusOne))\n                  .catch((e) => {\n                    console.log(e);\n                  });\n                // document.getElementById('new-password-form').value = '';\n                // document.getElementById('new-username-form').value = '';\n                alert(response.data.message);\n                history.push('/login');\n                document.getElementById('new-username-form').value = '';\n                document.getElementById('new-password-form').value = '';\n              } else {\n                updateNumberFailedLogins(username, 0).catch((e) => {\n                  console.log(e);\n                });\n                // const fetchedUid = null;\n                // getUid(username).then((resThree) => {\n                //   [fetchedUid] = [Array.from(resThree.data.data)[0].uid];\n                //   console.log('fetched UID = ');\n                //   console.log(fetchedUid);\n                //   setUid(fetchedUid);\n                // }).catch((e) => {\n                //   console.log(e);\n                // });\n                history.push('/home');\n\n                // window.location.reload();\n              }\n            } else {\n              alert('your account has been locked because to too many incorrect attempts, please try back in an hour');\n              history.push('/login');\n              document.getElementById('new-username-form').value = '';\n              document.getElementById('new-password-form').value = '';\n            }\n          }).catch((e) => {\n            console.log(e);\n          });\n        } else {\n          // user enters an erroneous username\n          alert('Username Not Found');\n          history.push('/login');\n          document.getElementById('new-username-form').value = '';\n          document.getElementById('new-password-form').value = '';\n        }\n      }).catch((e) => {\n        console.log(e);\n        alert('Username Not Found');\n        document.getElementById('new-username-form').value = '';\n        document.getElementById('new-password-form').value = '';\n      });\n      // console.log(`Number Of Incorrect Logins${numIncorrectLogins}`);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Log In</h2>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <p>\n            Forgot Password?&nbsp;\n            <Router>\n              <Link to=\"/resetPassword\">Click here to reset!</Link>\n            </Router>\n          </p>\n          <div className=\"form-group text-center\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={loginOnClick}\n            >\n              Log In\n            </button>\n          </div>\n          <p>\n            Don&apos;t have an account?&nbsp;\n            <Router>\n              <Link to=\"/registration\">Sign Up!</Link>\n            </Router>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Sidebar.css';\nimport {\n  useHistory, BrowserRouter as Router,\n} from 'react-router-dom';\nimport { getAvatar } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport Friends from './Friends';\n\nexport default function Sidebar() {\n  const history = useHistory();\n  const [avatar, setAvatar] = useState('');\n  const handleClick = () => {\n    const path = '/profile';\n    history.push(path);\n  };\n  const user = getCurrentUsername();\n\n  useEffect(() => {\n    getAvatar(user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  }, []);\n\n  useEffect(() => {\n  }, [avatar]);\n\n  return (\n    <Router>\n      <div className=\"sidebar\">\n        <div style={{ marginBottom: '5px' }} className=\"bigButton\">\n          <button className=\"button_profile\" onClick={handleClick} type=\"button\">\n            <div className=\"header_box\">\n              <div className=\"img_box\">\n                <img id=\"img\" alt=\"\" src={`/api/viewfile/${avatar}`} />\n              </div>\n              <div className=\"username_box\">\n                <span className=\"user\">{user}</span>\n              </div>\n            </div>\n          </button>\n        </div>\n        <div style={{ marginBottom: '5px' }}>\n          <Friends />\n        </div>\n      </div>\n    </Router>\n  );\n}\n","import { TextField } from '@material-ui/core';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  searchFriend, followUser,\n  getFollowers, blockFollower, getBlockedFollowers, unfollowUser,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './SearchBox.css';\n\nexport default function searchBox() {\n  const user = getCurrentUsername();\n  const [results, setResults] = useState([]);\n  // eslint-disable-next-line no-unused-vars\n  const [blockedUsers, setBlockedUser] = useState(new Set());\n\n  const handleFollow = (username) => {\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        console.log(result.data.followers);\n      });\n    });\n  };\n    // handling blocking\n  const handleBlock = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n  const getData = () => {\n    getBlockedFollowers(user).then((res) => {\n      setBlockedUser(() => new Set([res.data.friends.map((e) => e.username)]));\n    }).catch((err) => console.log(err.message));\n  };\n    //  handling unfollowing\n  const handleUnfollowing = (username) => {\n    unfollowUser(user, username).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const handleChange = (e) => {\n    if (e.target.value === '') {\n      setResults([]);\n      return;\n    }\n    searchFriend(user, e.target.value).then((result) => {\n      console.log(`input: ${e.target.value} , ${user}`);\n      setResults(result.data.friends);\n      console.log(result.data.friends);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n  };\n\n  const searchItem = (info) => {\n    const status = info.followed;\n    const isUser = info.username === user;\n    const blocked = blockedUsers.has(info.username);\n    return (\n      <div className=\"searchItem\">\n        <div className=\"searchImg\">\n          <img id=\"search_img\" src={`/api/viewFile/${info.profile_picture}`} alt=\"\" />\n        </div>\n        <div className=\"search-name\">\n          <span style={{ color: '#0C8367', fontWeight: 'bold' }}>\n            {info.username}\n          </span>\n          <span style={{ fontWeight: 'lighter' }}>\n            {info.followed ? 'following' : 'Follow me PLZ :)'}\n          </span>\n        </div>\n        <div className=\"searchBtn\">\n          <>\n            {(!status && !isUser) && (\n              <Tooltip title=\"Follow\" placement=\"top\">\n                <PersonAddIcon style={{ margin: '2px' }} fontSize=\"small\" className=\"button\" onClick={() => handleFollow(info.username)} />\n              </Tooltip>\n            )}\n            {(blocked && !isUser) && (\n              <Tooltip title=\"Unblock\" placement=\"top\">\n                <LockOpenIcon className=\"button\" style={{ margin: '2px' }} fontSize=\"small\" />\n              </Tooltip>\n            )}\n\n            {(status && !isUser) && (\n              <Tooltip title=\"Unfollow\" placement=\"top\">\n                <PersonAddDisabledIcon style={{ margin: '2px' }} fontSize=\"small\" className=\"button\" onClick={() => handleUnfollowing(info.username)} />\n              </Tooltip>\n            )}\n\n            {!isUser && (\n            <Tooltip title=\"Block\" placement=\"top\">\n              <BlockIcon style={{ margin: '2px' }} fontSize=\"small\" className=\"button\" color=\"secondary\" onClick={() => handleBlock(info.username)} />\n            </Tooltip>\n            )}\n\n          </>\n        </div>\n      </div>\n    );\n  };\n  return (\n    <div>\n      <TextField\n        multiline\n        id=\"tweet\"\n        label=\"Search for contact\"\n        variant=\"outlined\"\n        inputProps={{ maxLength: 255 }}\n        onChange={(e) => handleChange(e)}\n        fullWidth\n      />\n      <div className=\"searchBack\">\n        {results.map((e) => (searchItem(e)))}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport Follower from './Follower';\nimport { blockFollower, followUser, getSuggestions } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Suggestions() {\n  const user = getCurrentUsername();\n  const [suggestions, setSuggestions] = useState([]);\n  const getData = async () => {\n    await getSuggestions(user).then((result) => {\n      if (suggestions.length === 4) {\n        suggestions.push(result.data.suggestions[0]);\n      } else {\n        setSuggestions(result.data.suggestions);\n      }\n    }).catch((err) => console.log(err.message));\n  };\n  const updateList = async (username) => {\n    const newArray = suggestions.filter((e) => e.username !== username);\n    await getSuggestions(user).then((result) => {\n      newArray.push(result.data.suggestions[0]);\n    }).catch((err) => console.log(err.message));\n    setSuggestions(newArray);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  // handling blocking\n  const handleB = (username) => {\n    updateList(username);\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n    });\n  };\n  // handling following\n  const handleF = (username) => {\n    updateList(username);\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n    });\n  };\n\n  return (\n    <div className=\"box-container\">\n      <div style={{ color: '#0C8367' }} className=\"title\">Suggestions</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {suggestions.map((e) => <Follower info={e} handleB={handleB} handleF={handleF} />)}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport './CenterDisplayerHome.css';\n\nimport './CenterDisplay.css';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nexport default function CommentBox({ handlers }) {\n  const {\n    postTweet, postPicture, postVideo, postSong,\n  } = handlers;\n  const [count, setCount] = useState(255);\n  const handleChange = (e) => {\n    setCount(255 - (e.target.value).length);\n  };\n  const history = useHistory();\n  const classes = useStyles();\n  const goLiveHandler = () => {\n    history.push('/videochat');\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPictureCommentBox').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"tweet\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            onClick={goLiveHandler}\n            startIcon={<LiveTvIcon />}\n          >\n            Go live\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postTweet}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPictureCommentBox\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable max-len */\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Tweet from './Tweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addHashtag,\n  addTweet,\n  deleteTweet,\n  fetchAllTweetsPaginated,\n  getTweetCount,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\nimport CommentBox from './CommentBox';\n// import Divider from '@material-ui/core/Divider';\n\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function TweetsDisplayer() {\n  // eslint-disable-next-line no-unused-vars\n  const [loading, setLoading] = useState(true);\n  // eslint-disable-next-line no-unused-vars\n  const [hasMore, setHasMore] = useState(false);\n  const [allTweets, setAllTweets] = useState([]);\n  // eslint-disable-next-line no-unused-vars\n  const [pageNumber, setPageNumber] = useState(1);\n  // eslint-disable-next-line no-unused-vars\n  const [count, setCount] = useState(25);\n  const [hashTagQuery, sethashTagQuery] = useState('');\n  const observer = useRef();\n  const history = useHistory();\n\n  const handleChange = (e) => {\n    const u = 25 - (e.target.value).length;\n    setCount(u);\n    sethashTagQuery(e.target.value);\n  };\n  const filterTweetsButton = () => {\n    const regexp = /(^|\\B)#(?![0-9_]+\\b)([a-zA-Z0-9_]{1,30})(\\b|\\r)/g;\n    if (hashTagQuery.length === 0) return;\n    const matchHashTag = hashTagQuery.match(regexp);\n    console.log(`what does this print? = ${matchHashTag}`);\n    if (matchHashTag == null) {\n      alert('not a valid hashTag');\n      history.push('/home');\n      document.getElementById('filter').value = '';\n    } else { // take the first hashtag\n      localStorage.setItem('hashtag', JSON.stringify(hashTagQuery));\n      history.push('/hashTagTweets');\n    }\n  };\n\n  const lastTweetRef = useCallback((node) => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        setPageNumber((prevPageNumber) => prevPageNumber + 1);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading]);\n  const user = getCurrentUsername();\n\n  // eslint-disable-next-line no-unused-vars\n  const getData = async () => {\n    getTweetCount(user).then((res) => {\n      // const {  } = res.data.count[0][0];\n      console.log('typeof', res.data.count[0][0].COUNT);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n    setLoading(true);\n    fetchAllTweetsPaginated(user, pageNumber, 10).then((res) => {\n      setAllTweets((prevTweets) => [...prevTweets, ...res.data.tweets[0]]);\n      setLoading(false);\n    }).catch((err) => console.log(err));\n  }, [pageNumber]);\n\n  const postTweet = () => {\n    const input = document.getElementById('tweet').value;\n    // eslint-disable-next-line no-useless-escape\n    const regexp = /\\B\\#\\w\\w+\\b/g;\n    if (input.length === 0) return;\n    const hashtag = input.match(regexp);\n    // take the first hashtag\n\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    setAllTweets((prevTweet) => [newTweet, ...prevTweet]);\n    // eslint-disable-next-line no-unused-vars\n    addTweet(newTweet).then((res) => {\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    if (hashtag !== null && hashtag.length > 0) {\n      addHashtag(tweetId, hashtag[0]).then(() => {\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    }\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    const fakePath = document.getElementById('fileInputPictureCommentBox').value;\n    formdata.append('image', e.target.files[0], fakePath);\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const upload = async () => {\n      let content = '';\n      await fetch('/api/uploadFile', requestOptions)\n        .then((response) => response.text())\n        .then((result) => {\n          content = JSON.parse(result).data;\n          // eslint-disable-next-line no-unused-vars\n        }).catch((error) => {\n          console.log(error);\n        });\n      console.log('content', content);\n      const newTweet = {\n        user,\n        tweet_id: tweetId,\n        type: 'picture',\n        content,\n        tweet_date: dateTime,\n        tweet_likes: 0,\n      };\n      // eslint-disable-next-line no-unused-vars\n      await addTweet(newTweet).then((res) => {\n        setAllTweets((prevTweet) => [newTweet, ...prevTweet]);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    };\n    upload();\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const updateState = async (id) => {\n    await setAllTweets((prevTweets) => prevTweets.filter((e) => e.tweet_id !== id));\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      // eslint-disable-next-line no-unused-vars\n      deleteTweet(id).then((res) => {\n        console.log('here');\n        // setAllTweets((prevTweets) => prevTweets.filter((e) => e.tweet_id !== id));\n        updateState(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        setAllTweets((prevTweet) => prevTweet.filter((e) => e.tweet_id !== id));\n      }).catch((err) => console.log(err));\n    }\n  };\n  const handlers = {\n    postTweet, postPicture, postVideo, postSong,\n  };\n  // console.log('td', toDisplay);\n  return (\n    <>\n      <div className=\"container_center\">\n        <CommentBox className=\"tweetIpt\" handlers={handlers} />\n        <div className=\"filterBox\">\n          <TextField\n            style={{\n              background: 'white', margin: '10px', width: '90%', borderRadius: '8px',\n            }}\n            multiline\n            id=\"filter\"\n            label=\"Filter posts by hashtag\"\n            variant=\"outlined\"\n            onChange={(e) => handleChange(e)}\n          />\n\n        </div>\n        <div className=\"vertical-center\">\n          <button\n            aria-label=\"close\"\n            type=\"button\"\n            className=\"btn btn-primary\"\n            onClick={filterTweetsButton}\n          >\n            {' '}\n            Filter Tweets\n\n          </button>\n\n        </div>\n\n        <div className=\"tweet_items\">\n          {allTweets.map((e, index) => {\n            if (allTweets.length === index + 1) {\n              return (<div ref={lastTweetRef} className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>);\n            }\n            return (<div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>);\n          })}\n        </div>\n      </div>\n      <div>\n        <CircularProgress style={{ color: 'green' }} />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\nimport SideBar from './SidebarU';\nimport SearchBox from './SearchBox2';\nimport Suggestions from './Suggestion';\nimport TweetsDisplayer from './TweetsDisplayer';\n\nexport default function Home() {\n  return (\n    <div>\n      <div className=\"nav_item\">\n        <NavBar />\n      </div>\n      <div className=\"home\">\n        <div className=\"sidebar_item\">\n          <SideBar />\n        </div>\n        <div className=\"center_item\">\n          <TweetsDisplayer />\n        </div>\n        <div className=\"right_item\">\n          <div className=\"searchbox\">\n            <SearchBox />\n          </div>\n          <div className=\"suggestionBox\">\n            <Suggestions />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  addProfilePicture, addInterest, deleteInterest, getProfileData,\n} from './Module';\nimport '../App.css';\nimport Displayer from './Displayer';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Signup() {\n  const history = useHistory();\n  const username = getCurrentUsername();\n  console.log(`username = ${username}`);\n\n  /* -------------------------------------------------------------------------- */\n  const [interests, setInterests] = useState(new Set());\n  // const [madeQuery, setMadeQuery] = useState(false);\n  const [childKey, setChildKey] = useState(0);\n  const [filePath, setFilePath] = useState('');\n  // const [showImage] = useState(<div />);\n\n  useEffect(() => {\n    getProfileData(username).then((result) => {\n      console.log(result.data.data[0]);\n      const newInterest = new Set((result.data.interests).map((obj) => obj.interest));\n      setInterests(newInterest);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n  }, []);\n\n  const handleAddInterest = (newInterest) => {\n    setInterests([...interests, newInterest]);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    addInterest(newInterest, username);\n  };\n\n  const handleDeleteInterest = (interest) => {\n    const temp = interests;\n    temp.delete(interest);\n    setInterests(temp);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    deleteInterest(interest, username);\n  };\n  /* -------------------------------------------------------------------------- */\n\n  const fileupload = (e) => {\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileUploadProfilePicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        setFilePath(JSON.parse(result).data);\n        addProfilePicture(username, JSON.parse(result).data)\n          .then((res) => {\n            console.log(res);\n          }).catch((error) => {\n            console.log(error);\n          });\n      }).catch((err) => {\n        alert(err);\n      });\n  };\n\n  // useEffect(() => {\n  //   if (typeof filePath !== 'undefined') {\n  //     const tmp = `/viewFile/${filePath}`;\n  //     console.log(`${tmp}`);\n  //   }\n  // }, [filePath]);\n\n  const signup = () => {\n    alert('Your have successfully signed up');\n    history.push('/login/');\n  };\n  // useEffect(() => {\n\n  // }, [filePath]);\n  let showImage = <div />;\n  if (filePath !== '') {\n    showImage = (\n      <div className=\"myimgContainer\">\n        {' '}\n        {' '}\n        Here is your new profile\n        <img\n          className=\"myimg\"\n          src={`/api/viewFile/${filePath}`}\n          alt=\"\"\n        />\n      </div>\n    );\n    console.log(`/api/viewFile/${filePath}`);\n  }\n  console.log(showImage);\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">\n\n            Hi\n            <var>\n              {' '}\n              {username}\n            </var>\n\n          </h2>\n          <h2 className=\"card-title text-center font-weight-bold\">\n            {' '}\n            <h2 className=\"card-title text-center font-weight-bold\">Please Finish Sign Up</h2>\n          </h2>\n          <div className=\"form-group\">\n\n            <label htmlFor=\"new-username-form\">Please Upload Profile Picture:</label>\n            <input\n              type=\"file\"\n              className=\"form-control\"\n              id=\"fileUploadProfilePicture\"\n              onChange={fileupload}\n            />\n            {showImage}\n\n            <label htmlFor=\"new-username-form\">Please Add Your Interests:</label>\n\n            <Displayer\n              key={childKey}\n              interests={interests}\n              addInterest={handleAddInterest}\n              deleteInterest={handleDeleteInterest}\n            />\n            <div className=\"form-group\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary w-100\"\n                onClick={signup}\n              >\n                Complete Registration\n              </button>\n            </div>\n\n            <p>\n              Already have an account?&nbsp;\n              <Link to=\"/login\">Log in here!</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport NavBar from '../components/navBar';\n\nconst Lobby = ({\n  username,\n  roomName,\n  handleRoomNameChange,\n  handleSubmit,\n  connecting,\n}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div\n          style={{\n          }}\n        />\n\n        <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n          <div className=\"container mx-1\">\n            <div className=\"card-body p-xs\">\n              <h2 className=\"card-title text-center font-weight-bold\">Live Stream</h2>\n              <div className=\"form-group\">\n                <h2>Enter a room</h2>\n                <div>\n                  <label htmlFor=\"name\">\n                    {' '}\n                    Hi,\n                    {' '}\n                    {username}\n                    , please select a room to start your live stream!\n\n                  </label>\n                </div>\n                <label htmlFor=\"room\">Room name:</label>\n                <input\n                  type=\"text\"\n                  id=\"room\"\n                  placeholder=\"Enter Room Name\"\n                  value={roomName}\n                  onChange={handleRoomNameChange}\n                  readOnly={connecting}\n                  required\n                />\n              </div>\n              <div className=\"video-group\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={connecting}\n                >\n                  {connecting ? 'Connecting' : 'Join'}\n                </button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n);\n\nexport default Lobby;\n","/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable no-shadow */\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst Participant = ({ participant }) => {\n  const [videoTracks, setVideoTracks] = useState([]);\n  const [audioTracks, setAudioTracks] = useState([]);\n\n  const videoRef = useRef();\n  const audioRef = useRef();\n\n  const trackpubsToTracks = (trackMap) => Array.from(trackMap.values())\n    .map((publication) => publication.track)\n    .filter((track) => track !== null);\n\n  useEffect(() => {\n    setVideoTracks(trackpubsToTracks(participant.videoTracks));\n    setAudioTracks(trackpubsToTracks(participant.audioTracks));\n\n    const trackSubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => [...videoTracks, track]);\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => [...audioTracks, track]);\n      }\n    };\n\n    const trackUnsubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => videoTracks.filter((v) => v !== track));\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => audioTracks.filter((a) => a !== track));\n      }\n    };\n\n    participant.on('trackSubscribed', trackSubscribed);\n    participant.on('trackUnsubscribed', trackUnsubscribed);\n\n    return () => {\n      setVideoTracks([]);\n      setAudioTracks([]);\n      participant.removeAllListeners();\n    };\n  }, [participant]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const videoTrack = videoTracks[0];\n    if (videoTrack) {\n      videoTrack.attach(videoRef.current);\n      return () => {\n        videoTrack.detach();\n      };\n    }\n  }, [videoTracks]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const audioTrack = audioTracks[0];\n    if (audioTrack) {\n      audioTrack.attach(audioRef.current);\n      return () => {\n        audioTrack.detach();\n      };\n    }\n  }, [audioTracks]);\n\n  return (\n    <div className=\"participant\">\n      <h3>{participant.identity}</h3>\n      <video ref={videoRef} autoPlay />\n      <audio ref={audioRef} autoPlay muted />\n    </div>\n  );\n};\n\nexport default Participant;\n","import React, { useEffect, useState } from 'react';\nimport './CommentDisplayer.css';\nimport { getAvatar } from './Module';\n\nexport default function CommentDisplayer({ data }) {\n  const [avatar, setAvatar] = useState('');\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"comment_cont\" stlye={{ height: '200px', width: '100px', backgroundColor: 'red' }}>\n      <div className=\"comment_header\">\n        <div className=\"header_profile\">\n          <img id=\"comment_picture\" src={`/api/viewFile/${avatar}`} alt=\"\" />\n        </div>\n        <div className=\"header_name\">\n          <span id=\"cmnt_username\">{data.user}</span>\n        </div>\n      </div>\n      <div className=\"cmnt_cntBtn_box\" style={{ width: 'fit-content' }}>\n        <div style={{ backgroundColor: '#D0EAE4' }} className=\"cmnt_cnt_box\">\n          <span id=\"cmnt_cnt\">{data.content}</span>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Participant from './Participant';\nimport NavBar from '../components/navBar';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport CommentInput from '../components/CommentInput';\nimport CommentDisplayerLive from '../components/CommentDisplayerLive';\nimport './Room.css';\nimport {\n  addCommentLiveStream,\n  getAllCommentsLiveStream,\n} from '../components/Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nconst Room = ({ roomName, room, handleLogout }) => {\n  const user = getCurrentUsername();\n  const [participants, setParticipants] = useState([]);\n  const [comments, setComments] = useState([]);\n  const getData = async () => {\n    await getAllCommentsLiveStream(roomName).then((res) => {\n      setComments(res.data.comments[0]);\n    }).catch((err) => console.log(err));\n  };\n  const postComment = (content) => {\n    const timestamp = new Date().toISOString();\n    const newComment = {\n      roomName,\n      user,\n      timestamp,\n      content,\n    };\n    setComments((prevComm) => [...prevComm, newComment]);\n    addCommentLiveStream(newComment).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleComment = (input) => {\n    if (input === '') return;\n    postComment(input);\n  };\n\n  useEffect(() => {\n    const participantConnected = (participant) => {\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\n    };\n    const participantDisconnected = (participant) => {\n      setParticipants((prevParticipants) => prevParticipants.filter((p) => p !== participant));\n    };\n\n    room.on('participantConnected', participantConnected);\n    room.on('participantDisconnected', participantDisconnected);\n    room.participants.forEach(participantConnected);\n    return () => {\n      room.off('participantConnected', participantConnected);\n      room.off('participantDisconnected', participantDisconnected);\n    };\n  }, [room]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      getData();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  const remoteParticipants = participants.map((participant) => (\n    <Participant key={participant.sid} participant={participant} />\n  ));\n  return (\n\n    <div className=\"room\">\n      <NavBar />\n      <div\n        style={{\n        }}\n      />\n      <h2>\n        Live Stream:\n        {' '}\n        {roomName}\n      </h2>\n      <Button\n        color=\"secondary\"\n        startIcon={<ExitToAppIcon />}\n        type=\"submit\"\n        className=\"btn btn-primary w-100\"\n        onClick={handleLogout}\n      >\n        Leave Stream\n      </Button>\n      <div className=\"parent-liveStream\">\n        <div className=\"local-participant\">\n          {room ? (\n            <Participant\n              key={room.localParticipant.sid}\n              participant={room.localParticipant}\n            />\n          ) : (\n            ''\n          )}\n        </div>\n        <div className=\"comment-liveStream\">\n          <div style={{ overflow: 'auto', height: '80%' }}>\n            {comments.map((e) => <div style={{ margin: '10px' }}><CommentDisplayerLive data={e} /></div>)}\n          </div>\n          <div className=\"comn-liveStream\">\n            <CommentInput handleComment={handleComment} />\n          </div>\n        </div>\n      </div>\n\n      <h3>Remote Participants</h3>\n      <div className=\"remote-participants\">{remoteParticipants}</div>\n    </div>\n\n  );\n};\n\nexport default Room;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport Video from 'twilio-video';\nimport Lobby from './Lobby';\nimport Room from './Room';\nimport {\n  getCurrentUsername,\n} from '../auth/authServices';\n// import { addRoom } from '../components/Module';\n\nconst VideoChat = () => {\n  const [roomName, setRoomName] = useState('');\n  const [room, setRoom] = useState(null);\n  const [connecting, setConnecting] = useState(false);\n  const username = getCurrentUsername();\n\n  const handleRoomNameChange = useCallback((event) => {\n    setRoomName(event.target.value);\n  }, []);\n\n  const handleSubmit = useCallback(\n    async (event) => {\n      event.preventDefault();\n      setConnecting(true);\n      const data = await fetch('/video/token', {\n        method: 'POST',\n        body: JSON.stringify({\n          identity: username,\n          room: roomName,\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }).then((res) => res.json());\n      Video.connect(data.token, {\n        name: roomName,\n      })\n        .then((rm) => {\n          setConnecting(false);\n          setRoom(rm);\n        }).catch((err) => {\n          console.error(err);\n          setConnecting(false);\n        });\n    },\n    [roomName, username],\n  );\n\n  const handleLogout = useCallback(() => {\n    setRoom((prevRoom) => {\n      if (prevRoom) {\n        prevRoom.localParticipant.tracks.forEach((trackPub) => {\n          trackPub.track.stop();\n        });\n        prevRoom.disconnect();\n      }\n      return null;\n    });\n  }, []);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (room) {\n      const tidyUp = (event) => {\n        if (event.persisted) {\n          return;\n        }\n        if (room) {\n          handleLogout();\n        }\n      };\n      window.addEventListener('pagehide', tidyUp);\n      window.addEventListener('beforeunload', tidyUp);\n      return () => {\n        window.removeEventListener('pagehide', tidyUp);\n        window.removeEventListener('beforeunload', tidyUp);\n      };\n    }\n  }, [room, handleLogout]);\n\n  let render;\n  if (room) {\n    render = (\n      <Room roomName={roomName} room={room} handleLogout={handleLogout} />\n    );\n  } else {\n    render = (\n      <Lobby\n        username={username}\n        roomName={roomName}\n        handleRoomNameChange={handleRoomNameChange}\n        handleSubmit={handleSubmit}\n        connecting={connecting}\n      />\n    );\n  }\n  return render;\n};\n\nexport default VideoChat;\n","import React, { useState } from 'react';\nimport {\n  Link, useHistory,\n} from 'react-router-dom';\nimport '../App.css';\nimport {\n  isValidPassword, isSamePassword,\n} from '../auth/authentication';\nimport { resetPassword } from './Module';\n\nexport default function ResetPassword() {\n  const [usernameReg, setUsernameReg] = useState('');\n  const [passwordOneReg, setPasswordOneReg] = useState('');\n  const [passwordTwoReg, setPasswordTwoReg] = useState('');\n  const history = useHistory();\n  const resetPasswrd = () => {\n    // console.log('the actual username of this user is ', user);\n    // if (!isSameUsername(usernameReg, user)) {\n    //   alert('Wrong Username, please re-enter');\n    //   window.history.replaceState(null, 'new page', '/resetPassword');\n    //   window.location.reload();\n    //   return;\n    // }\n\n    if (!isSamePassword(passwordOneReg, passwordTwoReg)) {\n      alert('Passwords do not match, please re-enter');\n      window.history.replaceState(null, 'new page', '/resetPassword');\n      window.location.reload();\n      return;\n    }\n\n    if (!isValidPassword(passwordOneReg)) {\n      alert('Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      window.history.replaceState(null, 'new page', '/resetPassword');\n      window.location.reload();\n      return;\n    }\n\n    resetPassword(usernameReg, passwordOneReg).then(() => {\n    //   console.log(response);\n      alert('Success! Your Password Has Been Updated');\n      // if valid signup proceed to the login page\n      history.push('/login');\n    }).catch((e) => {\n      console.log(e);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Reset Password</h2>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPasswordOneReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Confirm Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPasswordTwoReg(e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group text-center\">\n\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={resetPasswrd}\n            >\n              Submit New Password\n            </button>\n          </div>\n          <p>\n            Changed Your Mind?&nbsp;\n            <Link to=\"/login\">Return To Login!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport {\n  getAvatar,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Message({ data }) {\n  const user = getCurrentUsername();\n  // const receiver = getCurrentReceiver();\n  const [avatar, setAvatar] = useState('');\n  // const [hadRead, setHasRead] = useState(false);\n  // eslint-disable-next-line eqeqeq\n  const [isPicture] = useState(data.type === 'picture');\n  const [isVideo] = useState(data.type === 'video');\n  const [isSong] = useState(data.type === 'song');\n\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.message_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n\n  let newMediaMessage;\n  if (isPicture) {\n    newMediaMessage = <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />;\n  } else if (isVideo) {\n    newMediaMessage = (\n      <video className=\"tweet_video\" controls>\n        {' '}\n        <source src={newMedia} />\n      </video>\n    );\n  } else if (isSong) {\n    console.log('song');\n    newMediaMessage = (\n      <audio controls>\n        <source src={newMedia} />\n      </audio>\n    );\n  } else {\n    newMediaMessage = data.content;\n  }\n  // eslint-disable-next-line eqeqeq\n  const hasRead = (data.is_read == 1);\n  let messageStatus = 'Message Status : Delivered';\n  if (hasRead) {\n    messageStatus = 'Message Status : Read';\n  }\n\n  let senderReceiver = 'Receiver>';\n  if (user === data.user) {\n    senderReceiver = 'Sender>';\n  } else {\n    messageStatus = '';\n  }\n  return (\n\n    <div id=\"container_tweet\">\n      <div className=\"tweet_header\">\n        <div className=\"tweet_img\">\n          <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n        </div>\n        <div className=\"tweet_text\">\n          <span\n            style={{\n              fontSize: '13px',\n              fontWeight: 'bold',\n            }}\n            id=\"author_username\"\n          >\n            {senderReceiver}\n            {' '}\n            {data.user}\n\n          </span>\n          <span\n            style={{\n              fontSize: '13px',\n              fontWeight: 'bold',\n            }}\n            id=\"author_message\"\n\n          >\n            {' '}\n            {messageStatus}\n\n          </span>\n          <span style={{ fontSize: '10px' }} id=\"date\">\n            {date}\n          </span>\n        </div>\n      </div>\n\n      <Divider variant=\"middle\" />\n      <div className=\"tweet_content\">\n        <p style={{ textAlign: 'left' }}>\n          {newMediaMessage}\n        </p>\n      </div>\n      <Divider variant=\"middle\" />\n\n    </div>\n\n  );\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\n// import { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Message from './Message';\nimport Tweet from './Tweet';\n// eslint-disable-next-line no-unused-vars\nimport { getCurrentUsername, getCurrentReceiver } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addMessage,\n  fetchMessages,\n  updateHasRead,\n} from './Module';\nimport './CenterDisplay.css';\n\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerMessages() {\n  const receiver = getCurrentReceiver();\n  // console.log(`receiver = ${receiver}`);\n  //   const history = useHistory();\n\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  useEffect(() => {\n    // console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postMessage = () => {\n    setCount(255);\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n    const newMessage = {\n      user,\n      message_id: messageId,\n      type: 'text',\n      content: input,\n      message_date: dateTime,\n      receiver,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(messageId, toAdd);\n    // newItems.set(messageId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addMessage(newMessage).then((res) => {\n      // console.log(res.message);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchMessages(user, receiver).then((res) => {\n      updateHasRead(receiver, user).then(() => {\n        console.log('Updated message status');\n      }).catch((err) => {\n        console.log(err.message);\n      });\n      const { messages } = res.data;\n      console.log(`ttt--${messages}`);\n      messages.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Message data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        console.log(`is this good? ${newMessage}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        // console.log(`is this good? ${newMessage.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        // console.log(`is this good? ${newMessage.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"message\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postMessage}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\n// import DisplayerTweets from './CenterDisplayerHome';\nimport DisplayerMessages from './CenterDisplayerMessages';\nimport { getCurrentReceiver } from '../auth/authServices';\n\nexport default function MessagePage() {\n  const receiver = getCurrentReceiver();\n  console.log(`receiver = ${receiver}`);\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div>\n          <DisplayerMessages />\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport LikeIcon from '@material-ui/icons/FavoriteBorderRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CommentInput from './CommentInput';\nimport {\n  getAvatar,\n  updateTweetLikes,\n  isLiked,\n  unLikeTweet,\n  likeTweet,\n  addComment,\n  getAllCommentsForTweet,\n  updateTweetComments,\n  deleteComment,\n  getHiders,\n} from './Module';\nimport { getCurrentUsername, getCurrentHashTag } from '../auth/authServices';\nimport CommentDisplayer from './CommentDisplayer';\nimport DialogAnalytics from './AnalyticsTweet';\n\nconst hash = require('object-hash');\n\nexport default function FilteredTweet({ data, handleDelete }) {\n  const user = getCurrentUsername();\n  const [isLikedBool, setIsLike] = useState(false);\n  const [likes, setLikes] = useState(data.tweet_likes);\n  const [numComments, setNumComments] = useState(data.tweet_comments);\n  const [id] = useState(data.tweet_id);\n  const [blocks, setBlocks] = useState(data.tweet_blocks);\n  const [isOwner] = useState(data.user === user);\n  const [avatar, setAvatar] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [items, setItems] = useState([]);\n  const [allComments, setComments] = useState([]);\n  const [display, setDisplay] = useState(true);\n  const hashtag = getCurrentHashTag();\n  const postComment = (content, tweetId) => {\n    const timestamp = new Date().toISOString();\n    const commentId = hash(`${content}${user}${timestamp}`);\n    const newComment = {\n      comment_id: commentId,\n      tweet_id: tweetId,\n      user,\n      content,\n      timestamp,\n    };\n    allComments.unshift(newComment);\n    addComment(newComment).then((res) => {\n      console.log(res.message);\n      updateTweetComments(id, numComments + 1).then((result) => {\n        console.log(result.message);\n        setNumComments(numComments + 1);\n      }).catch((err) => console.log(err.message));\n    }).catch((err) => console.log(err.message));\n  };\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await isLiked(user, data.tweet_id).then((res) => {\n      if (res.data.bool.length) {\n        setIsLike(true);\n      } else {\n        setIsLike(false);\n      }\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await getAllCommentsForTweet(data.tweet_id).then((res) => {\n      const { comments } = res.data;\n      setComments(comments);\n    }).catch((err) => console.log(err.message));\n    await getHiders(id).then((res) => {\n      console.log(res.data);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleComment = (input, countComments) => {\n    if (input === '') return;\n    postComment(input, id);\n  };\n  const handleDeleteorHideInternal = () => {\n    setDisplay(false);\n    handleDelete(id, isOwner);\n  };\n  const handleDeleteComment = (toDel) => {\n    const newList = allComments.filter((comment) => comment.comm_id !== toDel);\n    setComments(newList);\n    deleteComment(toDel).then((res) => {\n      console.log(res);\n      setNumComments(numComments - 1);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleClick = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleLike = () => {\n    if (isLikedBool) {\n      unLikeTweet(user, id).then((res) => {\n        if (res.status === 200) {\n          updateTweetLikes(id, likes - 1).then((result) => {\n            console.log(result.message);\n            setLikes(likes - 1);\n          }).catch((err) => {\n            console.log(err.message);\n          });\n        }\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      likeTweet(user, id).then((res) => {\n        updateTweetLikes(id, likes + 1).then((result) => {\n          console.log(result);\n          setLikes(likes + 1);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    }\n    setIsLike(!isLikedBool);\n  };\n\n  useEffect(() => {\n  }, [items]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.tweet_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n\n  if ((typeof hashtag === 'undefined') || (data.content.includes(hashtag))) {\n    console.log('dfdsdfssd', hashtag, data.content);\n    return (\n      <>\n        <div style={{ display: display ? 'block' : 'none' }} id=\"container_tweet\">\n          <div className=\"tweet_header\">\n            <div className=\"tweet_img\">\n              <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n            </div>\n            <div className=\"tweet_text\">\n              <span\n                style={{\n                  fontSize: '13px',\n                  fontWeight: 'bold',\n                }}\n                id=\"author_username\"\n              >\n\n                {data.user}\n              </span>\n              <span style={{ fontSize: '10px' }} id=\"date\">\n                {date}\n              </span>\n            </div>\n          </div>\n          <div id=\"menu\">\n            <Tooltip title={isOwner ? 'Delete post' : 'Hide post'} placement=\"top\">\n              <IconButton\n                style={{\n                  borderRadius: '50%',\n                  padding: '3',\n                  color: '#0C8367',\n                }}\n                onClick={handleDeleteorHideInternal}\n              >\n                <CloseRoundedIcon id={data.tweet_id} />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <Divider variant=\"middle\" />\n          <div className=\"tweet_content\">\n            <>\n              {data.type === 'text' && (\n              <p style={{ textAlign: 'left' }}>\n                {data.content}\n              </p>\n              )}\n              {data.type === 'video' && (\n              // eslint-disable-next-line jsx-a11y/media-has-caption\n              <video className=\"tweet_video\" controls>\n                {' '}\n                <source src={newMedia} />\n              </video>\n              )}\n              {data.type === 'song' && (\n              // eslint-disable-next-line jsx-a11y/media-has-caption\n              <audio controls>\n                <source src={newMedia} />\n              </audio>\n              )}\n              {data.type === 'picture' && <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />}\n            </>\n\n          </div>\n          <Divider variant=\"middle\" />\n          <div className=\"comment\">\n            <CommentInput handleComment={handleComment} />\n          </div>\n          <div\n            className=\"comment_item\"\n            style={{\n              height: isOpen ? '300px' : '200px',\n              display: numComments > 0 ? 'block' : 'none',\n            }}\n          >\n            <div style={{\n              margin: 'auto',\n              textAlign: 'center',\n              fontWeight: 'bold',\n              color: '#0C8367',\n            }}\n            >\n              <span>{ (numComments !== 0) ? `${numComments} comments` : 'Comments'}</span>\n            </div>\n            <div style={{\n              margin: 'auto', width: '90%', height: '100%',\n            }}\n            >\n              <ul\n                id={`list${id}`}\n                style={{\n                  whiteSpace: 'nowrap', listStyleType: 'none',\n                }}\n              >\n                {allComments.map((comment) => (\n                  <li style={{ marginBottom: '35px' }} key={comment.comm_id}>\n                    <CommentDisplayer data={comment} handleDeleteComment={handleDeleteComment} />\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n          <div className=\"tweet_bottom\">\n            <div className=\"likes\">\n              <IconButton\n                onClick={handleLike}\n                style={{\n                  borderRadius: '50%',\n                  padding: '3',\n                  color: isLikedBool ? 'red' : 'black',\n                }}\n              >\n                <LikeIcon />\n              </IconButton>\n              <span style={{ color: '#0C8367' }}>{`${likes} likes`}</span>\n            </div>\n            <div style={{ display: isOwner ? 'block' : 'none' }} className=\"analytics\">\n              <DialogAnalytics\n                tweetId={data.tweet_id}\n              />\n            </div>\n            <div className=\"comments\">\n              <button onClick={() => handleClick()} id=\"viewCommentsBtn\" type=\"button\">{!isOpen ? 'View more' : 'View less'}</button>\n            </div>\n          </div>\n        </div>\n      </>\n\n    );\n  } return (<div />);\n}\n","import React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport FilteredTweet from './FilteredTweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addHashtag,\n  addTweet,\n  deleteTweet,\n  fetchAllTweetsPaginated,\n  getTweetCount,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\nimport CommentBox from './CommentBox';\n// import Divider from '@material-ui/core/Divider';\n\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function TweetsDisplayer() {\n  // eslint-disable-next-line no-unused-vars\n  const [loading, setLoading] = useState(true);\n  // eslint-disable-next-line no-unused-vars\n  const [hasMore, setHasMore] = useState(false);\n  const [allTweets, setAllTweets] = useState([]);\n  // eslint-disable-next-line no-unused-vars\n  const [pageNumber, setPageNumber] = useState(1);\n  // eslint-disable-next-line no-unused-vars\n  const [count, setCount] = useState(25);\n  const observer = useRef();\n\n  const lastTweetRef = useCallback((node) => {\n    if (loading) return;\n    if (observer.current) observer.current.disconnect();\n    observer.current = new IntersectionObserver((entries) => {\n      if (entries[0].isIntersecting) {\n        setPageNumber((prevPageNumber) => prevPageNumber + 1);\n      }\n    });\n    if (node) observer.current.observe(node);\n  }, [loading]);\n  const user = getCurrentUsername();\n\n  // eslint-disable-next-line no-unused-vars\n  const getData = async () => {\n    getTweetCount(user).then((res) => {\n      // const {  } = res.data.count[0][0];\n      console.log('typeof', res.data.count[0][0].COUNT);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n    setLoading(true);\n    fetchAllTweetsPaginated(user, pageNumber, 10).then((res) => {\n      setAllTweets((prevTweets) => [...prevTweets, ...res.data.tweets[0]]);\n      setLoading(false);\n    }).catch((err) => console.log(err));\n  }, [pageNumber]);\n\n  const postTweet = () => {\n    const input = document.getElementById('tweet').value;\n    // eslint-disable-next-line no-useless-escape\n    const regexp = /\\B\\#\\w\\w+\\b/g;\n    if (input.length === 0) return;\n    const hashtag = input.match(regexp);\n    // take the first hashtag\n\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    setAllTweets((prevTweet) => [newTweet, ...prevTweet]);\n    // eslint-disable-next-line no-unused-vars\n    addTweet(newTweet).then((res) => {\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    if (hashtag !== null && hashtag.length > 0) {\n      addHashtag(tweetId, hashtag[0]).then(() => {\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    }\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    const fakePath = document.getElementById('fileInputPictureCommentBox').value;\n    formdata.append('image', e.target.files[0], fakePath);\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const upload = async () => {\n      let content = '';\n      await fetch('/api/uploadFile', requestOptions)\n        .then((response) => response.text())\n        .then((result) => {\n          content = JSON.parse(result).data;\n          // eslint-disable-next-line no-unused-vars\n        }).catch((error) => {\n          console.log(error);\n        });\n      console.log('content', content);\n      const newTweet = {\n        user,\n        tweet_id: tweetId,\n        type: 'picture',\n        content,\n        tweet_date: dateTime,\n        tweet_likes: 0,\n      };\n      // eslint-disable-next-line no-unused-vars\n      await addTweet(newTweet).then((res) => {\n        setAllTweets((prevTweet) => [newTweet, ...prevTweet]);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    };\n    upload();\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const updateState = async (id) => {\n    await setAllTweets((prevTweets) => prevTweets.filter((e) => e.tweet_id !== id));\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      // eslint-disable-next-line no-unused-vars\n      deleteTweet(id).then((res) => {\n        console.log('here');\n        // setAllTweets((prevTweets) => prevTweets.filter((e) => e.tweet_id !== id));\n        updateState(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        setAllTweets((prevTweet) => prevTweet.filter((e) => e.tweet_id !== id));\n      }).catch((err) => console.log(err));\n    }\n  };\n  const handlers = {\n    postTweet, postPicture, postVideo, postSong,\n  };\n  // console.log('td', toDisplay);\n  return (\n    <>\n      <div className=\"container_center\">\n        <CommentBox className=\"tweetIpt\" handlers={handlers} />\n\n        <div className=\"tweet_items\">\n          {allTweets.map((e, index) => {\n            if (allTweets.length === index + 1) {\n              return (<div ref={lastTweetRef} className=\"tContainer\"><FilteredTweet handleDelete={handleHideOrDelete} data={e} /></div>);\n            }\n            return (<div className=\"tContainer\"><FilteredTweet handleDelete={handleHideOrDelete} data={e} /></div>);\n          })}\n        </div>\n      </div>\n      <div>\n        <CircularProgress style={{ color: 'green' }} />\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\nimport SideBar from './SidebarU';\nimport SearchBox from './SearchBox2';\nimport Suggestions from './Suggestion';\nimport FilteredTweetsDisplayer from './FilteredTweetsDisplayer';\n\nexport default function HashTagTweets() {\n  return (\n    <div>\n      <div className=\"nav_item\">\n        <NavBar />\n      </div>\n      <div className=\"home\">\n        <div className=\"sidebar_item\">\n          <SideBar />\n        </div>\n        <div className=\"center_item\">\n          <FilteredTweetsDisplayer />\n        </div>\n        <div className=\"right_item\">\n          <div className=\"searchbox\">\n            <SearchBox />\n          </div>\n          <div className=\"suggestionBox\">\n            <Suggestions />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Registration from './components/Registration';\nimport ProfilePage from './components/ProfilePage';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Signup from './components/Signup';\nimport VideoChat from './live_stream/VideoChat';\nimport ResetPassword from './components/ResetPassword';\nimport MessagePage from './components/MessagePage';\nimport HashTagTweets from './components/HashTagTweets';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Registration />} />\n        <Route path=\"/registration\" exact render={() => <Registration />} />\n        <Route path=\"/login\" exact render={() => <Login />} />\n        <Route path=\"/signup/\" exact render={() => <Signup />} />\n        <Route path=\"/home\" component={() => <Home />} />\n        <Route path=\"/profile\" exact render={() => <ProfilePage />} />\n        <Route path=\"/resetPassword\" exact render={() => <ResetPassword />} />\n        <Route path=\"/videochat\" exact render={() => <VideoChat />} />\n        <Route path=\"/message\" exact render={() => <MessagePage />} />\n        <Route path=\"/hashTagTweets\" exact render={() => <HashTagTweets />} />\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('react-root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n","function isValidPassword(password) {\n  const strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})');\n  return strongRegex.test(password);\n}\n\nfunction isValidUsername(userName) {\n  const valid = new RegExp('^[a-zA-Z0-9_]*$');\n  return valid.test(userName);\n}\n\nfunction isValidEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction isSamePassword(passwordOne, passwordTwo) {\n  return (passwordOne === passwordTwo);\n}\n\nmodule.exports = {\n  isValidPassword, isValidUsername, isValidEmail, isSamePassword,\n};\n","function getCurrentUsername() {\n  return JSON.parse(localStorage.getItem('username'));\n}\n\nfunction isLogged() {\n  const user = JSON.parse(localStorage.getItem('username'));\n  if (user) {\n    return true;\n  }\n  return false;\n}\n// clear the local storage\nfunction logout() {\n  localStorage.removeItem('username');\n}\n\nfunction getCurrentReceiver() {\n  return JSON.parse(localStorage.getItem('receiver'));\n}\n\nfunction getCurrentHashTag() {\n  return JSON.parse(localStorage.getItem('hashtag'));\n}\n\nmodule.exports = {\n  getCurrentUsername, isLogged, logout, getCurrentReceiver, getCurrentHashTag,\n};\n"],"sourceRoot":""}