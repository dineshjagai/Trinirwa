{"version":3,"sources":["auth/authServices.js","components/Module.js","components/Registration.js","components/DialogPassword.js","components/DialogPasswordChange.js","components/authentication.js","components/DisplayerDialog.js","components/ProfilePicture.js","components/navBar.js","components/Dialog.js","components/Displayer.js","components/Follower.js","components/Followers.js","components/Friend.js","components/Friends.js","components/CommentInput.js","components/DialogComment.js","components/CommentDisplayer.js","components/AnalyticsTweet.js","components/Tweet.js","components/CenterDisplay.js","components/ProfilePage.js","components/Login.js","components/CenterDisplayerHome.js","components/SidebarU.js","components/SearchBox.js","components/Home.js","components/Signup.js","components/Temp.js","live_stream/Lobby.js","live_stream/Participant.js","live_stream/Room.js","live_stream/VideoChat.js","components/ResetPassword.js","components/Message.js","components/CenterDisplayerMessages.js","components/MessagePage.js","App.js","serviceWorker.js","index.js","auth/authentication.js"],"names":["module","exports","getCurrentUsername","JSON","parse","localStorage","getItem","isLogged","logout","removeItem","getCurrentReceiver","addInterest","newInterest","username","addUrl","axios","method","url","data","interest","deleteInterest","interestToDelete","delUrl","fetchAllTweets","getUrl","getProfileData","getFollowers","getFriends","blockFollower","id","insUrl","follower","getBlockedFollowers","getAvatar","user","addTweet","content","tweet_date","type","tweetId","tweet_id","getAllCommentsForTweet","followUser","deleteTweet","hideTweet","postUrl","updateTweetLikes","tweetLikes","putUrl","likes","isLiked","getHiders","updateNumberFailedLogins","numberOfFailedLogins","addMessage","receiver","message_date","messageId","message_id","fetchMessages","Registration","useState","usernameReg","setUsernameReg","passwordOneReg","setPasswordOneReg","passwordTwoReg","setPasswordTwoReg","firstNameReg","setFirstNameReg","lastNameReg","setLastNameReg","email","setEmailReg","history","useHistory","Axios","defaults","withCredentials","className","style","width","htmlFor","placeholder","onChange","e","target","value","aria-describedby","onClick","isSamePassword","isValidUsername","isValidPassword","isValidEmail","firstName","lastName","setItem","stringify","password","first_name","last_name","addUser","then","response","console","log","push","catch","alert","document","getElementById","to","DialogPassword","open","setOpen","redirect","setRedirect","clue","setClue","handleClose","color","border","backgroundColor","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","TextField","error","autoFocus","margin","label","fullWidth","helperText","DialogActions","input","inputPassword","deactivateProfile","err","DialogPasswordChange","checker","setChecker","isValid","setIsValid","event","RegExp","test","Button","oldPassword","newPassword","newPass","oldPass","upUrl","updatePassword","status","message","useStyles","makeStyles","theme","root","maxWidth","palette","background","paper","ScrollDialog","secondary","title","secondTitle","getFunction","Icon","handle","iconText","classes","scroll","setScroll","items","setItems","createItem","profile_picture","ListItem","ListItemAvatar","Avatar","alt","src","ListItemText","primary","Tooltip","placement","useEffect","scrollType","descriptionElementRef","React","useRef","descriptionElement","current","focus","newItems","friends","map","followers","dividers","List","Profile","props","profilePic","profilePicUrl","LockOpenIcon","blocked","unBlockUser","res","result","grow","flexGrow","menuButton","marginRight","spacing","display","breakpoints","up","search","position","borderRadius","shape","fade","common","white","marginLeft","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","handleClick","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","mobileMenuId","renderMobileMenu","IconButton","Badge","aria-label","badgeContent","aria-controls","aria-haspopup","top","AppBar","Toolbar","Typography","variant","noWrap","edge","DialogBox","handleClickOpen","Displayer","interests","forEach","Divider","overflow","Follower","info","handleB","handleF","Followers","list","setFollowers","PersonAddIcon","Friend","handleMessage","handleU","Friends","setFriends","unfollowUser","PersonAddDisabledIcon","CommentInput","handleComment","setInput","count","setCount","multiline","rowsMax","inputProps","maxLength","length","u","handleChange","DialogComment","updatePost","cont","DialogContentText","defaultValue","CommentDisplayer","handleDeleteComment","avatar","setAvatar","setContent","isOwner","getData","a","stlye","comm_id","newContent","commId","updateComment","withStyles","closeButton","right","grey","children","disableTypography","MuiDialogContent","MuiDialogActions","DialogAnalytics","hiders","setHiders","commentors","setCommentors","comments","com","hider","minWidth","hash","require","Tweet","handleDelete","isLikedBool","setIsLike","tweet_likes","setLikes","tweet_comments","numComments","setNumComments","tweet_blocks","isPicture","isVideo","isSong","isOpen","setIsOpen","allComments","setComments","postComment","timestamp","Date","toISOString","newComment","comment_id","unshift","commentId","addComment","newNumComments","updateTweetComments","bool","toDel","newList","filter","comment","newMediaTweet","date","split","newAvatar","newMedia","controls","fontSize","fontWeight","textAlign","countComments","minHeight","marginTop","whiteSpace","listStyleType","marginBottom","tweetid","unLikeTweet","likeTweet","button","DisplayerTweets","Map","update","setUpdate","Set","toDisplay","handleHideOrDelete","window","location","reload","delete","get","tweets","toAdd","add","set","paddingTop","startIcon","click","dateTime","accept","formdata","FormData","fakePath","append","files","requestOptions","body","fetch","text","hidden","ProfilePage","setData","setInterests","madeQuery","setMadeQuery","childKey","setChildKey","obj","Math","floor","random","temp","Login","setUsername","setPassword","numIncorrectLogins","setnumIncorrectLogins","dateUserLastLockedOut","setDateUserLastLockedOut","isLockedOut","userLogin","reactivateProfile","er","getNumberFailedLogins","resOne","fetchNumberFailedLogins","Array","from","number_failed_logins","getDateUserLastLockedOut","resTwo","tmpDateUserLastLockedOut","date_last_locked_out","dateTimeTwo","parseInt","setLockOutTime","numberFailedLoginsPlusOne","Sidebar","left","eight","SearchBox","results","setResults","followed","friens","InputBase","Home","Signup","profilePicture","addProfilePicture","Temp","Lobby","roomName","handleRoomNameChange","handleSubmit","connecting","onSubmit","readOnly","required","disabled","Participant","participant","videoTracks","setVideoTracks","audioTracks","setAudioTracks","videoRef","audioRef","trackpubsToTracks","trackMap","values","publication","track","on","kind","v","removeAllListeners","videoTrack","attach","detach","audioTrack","identity","ref","autoPlay","muted","Room","room","handleLogout","participants","setParticipants","participantConnected","prevParticipants","participantDisconnected","p","off","remoteParticipants","sid","localParticipant","VideoChat","setRoomName","setRoom","setConnecting","useCallback","preventDefault","headers","json","Video","connect","token","name","rm","prevRoom","tracks","trackPub","stop","disconnect","tidyUp","persisted","addEventListener","removeEventListener","ResetPassword","replaceState","Message","newMediaMessage","DisplayerMessages","messages","newMessage","MessagePage","App","path","exact","render","component","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","userName","String","toLowerCase","passwordOne","passwordTwo"],"mappings":"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","file":"static/js/main.686e33b9.chunk.js","sourcesContent":["function getCurrentUsername() {\n  return JSON.parse(localStorage.getItem('username'));\n}\n\nfunction isLogged() {\n  const user = JSON.parse(localStorage.getItem('username'));\n  if (user) {\n    return true;\n  }\n  return false;\n}\n// clear the local storage\nfunction logout() {\n  localStorage.removeItem('username');\n}\n\nfunction getCurrentReceiver() {\n  return JSON.parse(localStorage.getItem('receiver'));\n}\n\nmodule.exports = {\n  getCurrentUsername, isLogged, logout, getCurrentReceiver,\n};\n","import axios from 'axios';\n\nexport function getUserInformation(username) {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/api/${username}`,\n  });\n  return prm;\n}\n\nexport function addInterest(newInterest, username) {\n  const addUrl = `/api/profile/interest/${username}`;\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      interest: newInterest,\n    },\n  });\n}\n\nexport function deleteInterest(interestToDelete, username) {\n  const delUrl = `/api/profile/delete/interest/${username}`;\n  return axios({\n    method: 'DELETE',\n    url: delUrl,\n    data: {\n      interest: interestToDelete,\n    },\n  });\n}\n\nexport function fetchTweets(username) {\n  const getUrl = `/api/profile/tweet/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function fetchAllTweets(username) {\n  const getUrl = `/api/tweets/all/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getProfileData(username) {\n  const getUrl = `/api/profile/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getFollowers(username) {\n  const getUrl = `/api/profile/followers/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function getTweets(username) {\n  const getUrl = `/api/profile/tweets/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\n// export function getFriends(id) {\n//   const getUrl = `/api/profile/friends/${id}`;\n//   return axios({\n//     method: 'GET',\n//     url: getUrl,\n//   });\n// }\n\nexport function getFriends(username) {\n  const getUrl = `/api/profile/friends/${username}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function deactivateProfile(id, inputPassword) {\n  const delUrl = `/api/profile/deactivate/${id}`;\n  return axios({\n    method: 'PUT',\n    url: delUrl,\n    data: {\n      password: inputPassword,\n    },\n  });\n}\n\n// reactivate the account\nexport function reactivateProfile(id, inputPassword) {\n  const delUrl = `/api/profile/reactivate/${id}`;\n  return axios({\n    method: 'PUT',\n    url: delUrl,\n    data: {\n      password: inputPassword,\n    },\n  });\n}\n\n// change the password in the profile page\nexport function updatePassword(username, newPass, oldPass) {\n  const upUrl = `/api/profile/password/${username}`;\n  return axios({\n    method: 'PUT',\n    url: upUrl,\n    data: {\n      newPassword: newPass,\n      oldPassword: oldPass,\n    },\n  });\n}\n\n// change the password in the login page\nexport function resetPassword(username, newPassword) {\n  const upUrl = '/api/resetPassword';\n  return axios({\n    method: 'PUT',\n    url: upUrl,\n    data: {\n      username,\n      password: newPassword,\n    },\n  });\n}\n\nexport function blockFollower(id, username) {\n  const insUrl = `/api/block/${id}`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function getBlockedFollowers(username) {\n  const insUrl = `/api/blocked/${username}`;\n  return axios({\n    method: 'GET',\n    url: insUrl,\n  });\n}\n\nexport function unBlockUser(username, blocked) {\n  const insUrl = `/api/unblock/${username}`;\n  return axios({\n    method: 'PUT',\n    url: insUrl,\n    data: {\n      follower: blocked,\n    },\n  });\n}\n\n// Home modules\nexport function getUsername(id) {\n  return axios({\n    method: 'GET',\n    url: `/api/home/${id}`,\n  });\n}\n\n// Home modules\nexport function getAvatar(user) {\n  return axios({\n    method: 'GET',\n    url: `/api/profile/avatar/${user}`,\n  });\n}\n\nexport function addTweet(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/createTweet/${data.user}`,\n    data: {\n      content: data.content,\n      tweet_date: data.tweet_date,\n      type: data.type,\n      tweetId: data.tweet_id,\n    },\n  });\n}\n\nexport function addComment(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/comment/add/${data.user}`,\n    data: {\n      commentId: data.comment_id,\n      tweetId: data.tweet_id,\n      content: data.content,\n      timestamp: data.timestamp,\n    },\n  });\n}\n\nexport function getAllCommentsForTweet(tweetId) {\n  return axios({\n    method: 'GET',\n    url: `/api/tweet/comments/all/${tweetId}`,\n  });\n}\n\nexport function updateTweetComments(tweetId, newNumComments) {\n  return axios({\n    method: 'PUT',\n    url: `/api/tweet/comments/${tweetId}`,\n    data: {\n      comments: newNumComments,\n    },\n  });\n}\n\nexport function updateComment(commId, newContent) {\n  return axios({\n    method: 'PUT',\n    url: `/api/tweet/comment/update/${commId}`,\n    data: {\n      content: newContent,\n    },\n  });\n}\n\nexport function deleteComment(commId) {\n  return axios({\n    method: 'DELETE',\n    url: `/api/tweet/comment/delete/${commId}`,\n  });\n}\n\nexport function followUser(id, username) {\n  const insUrl = `/api/follow/${id}`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function unfollowUser(id, username) {\n  const insUrl = `/api/unfollow/${id}`;\n  return axios({\n    method: 'PUT',\n    url: insUrl,\n    data: {\n      follower: username,\n    },\n  });\n}\n\nexport function fetchFollowers(id) {\n  return axios({\n    method: 'GET',\n    url: `/api/followers/${id}`,\n  });\n}\n\nexport function fetchAllFollowers(username) {\n  return axios({\n    method: 'GET',\n    url: `/api/all/followers/${username}`,\n  });\n}\n\nexport const addUser = (usernameReg, passwordOneReg, firstName, lastName, email) => {\n  // const user\n  localStorage.setItem('username', JSON.stringify(usernameReg));\n  const prm = axios({\n    method: 'POST',\n    url: '/api/register',\n    data: {\n      username: usernameReg,\n      password: passwordOneReg,\n      first_name: firstName,\n      last_name: lastName,\n      email,\n    },\n  });\n  return prm;\n};\n\nexport const getUid = (usernameReg) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/userUid',\n    data: {\n      username: usernameReg,\n    },\n  });\n  return prm;\n};\n\nexport const userLogin = (usernameReg, password) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/login',\n    data: {\n      username: usernameReg,\n      password,\n    },\n  });\n  return prm;\n};\n\nexport const addProfilePicture = (username, profilePicture) => {\n  const prm = axios({\n    method: 'POST',\n    url: '/api/uploadProfilePicture',\n    data: {\n      username,\n      profilePicture,\n    },\n  });\n  return prm;\n};\n\n// export const uploadFile = () => {\n//   const prm = axios({\n//     method: 'POST',\n//     url: '/api/uploadFile',\n//     data: {\n//     },\n//   });\n//   return prm;\n// };\nexport const searchFriend = (username, input) => {\n  const promise = axios({\n    method: 'GET',\n    url: `/api/search/${username}/${input}`,\n  });\n  return promise;\n};\n\nexport function deleteTweet(tweetId) {\n  const delUrl = `/api/tweet/delete/${tweetId}`;\n  return axios({\n    method: 'DELETE',\n    url: delUrl,\n  });\n}\n\nexport function hideTweet(tweetId, username) {\n  const postUrl = `/api/tweet/hide/${tweetId}`;\n  return axios({\n    method: 'POST',\n    url: postUrl,\n    data: {\n      username,\n    },\n  });\n}\n\nexport function updateTweetLikes(tweetId, tweetLikes) {\n  const putUrl = `/api/tweet/likes/${tweetId}`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      likes: tweetLikes,\n    },\n  });\n}\n\nexport function updateTweetBlocks(tweetId, tweetBlocks) {\n  const putUrl = `/api/tweet/likes/${tweetId}`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      blocks: tweetBlocks,\n    },\n  });\n}\n\nexport function isLiked(user, tweetId) {\n  const getUrl = `/api/tweet/isliked/${user}/${tweetId}/`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n\nexport function likeTweet(user, tweetId) {\n  const insUrl = `/api/tweet/like/${user}/`;\n  return axios({\n    method: 'POST',\n    url: insUrl,\n    data: {\n      tweetid: tweetId,\n    },\n  });\n}\n\nexport const getHiders = (tweetId) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/tweet/hiders/all/${tweetId}`,\n  });\n  return prm;\n};\n\nexport function unLikeTweet(user, tweetId) {\n  const putUrl = `/api/tweet/unlike/${user}/`;\n  return axios({\n    method: 'PUT',\n    url: putUrl,\n    data: {\n      tweetid: tweetId,\n    },\n  });\n}\nexport const getNumberFailedLogins = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/numberFailedLogins/${username}`,\n  });\n  return prm;\n};\n\nexport const updateNumberFailedLogins = (username, numberOfFailedLogins) => {\n  const addUrl = '/api/updateNumberFailedLogins';\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      username,\n      numberOfFailedLogins,\n    },\n  });\n};\n\nexport const getDateUserLastLockedOut = (username) => {\n  const prm = axios({\n    method: 'GET',\n    url: `/api/dateUserLastLockedOut/${username}`,\n  });\n  return prm;\n};\n\nexport const setLockOutTime = (username) => {\n  const addUrl = '/api/setLockOutTime';\n  return axios({\n    method: 'POST',\n    url: addUrl,\n    data: {\n      username,\n    },\n  });\n};\n\n/* -------------------------------------------------------------------------- */\n/* ------------------------------MESSAGING----------------------------------- */\n/* -------------------------------------------------------------------------- */\n\nexport function addMessage(data) {\n  return axios({\n    method: 'POST',\n    url: `/api/createMessage/${data.user}/${data.receiver}`,\n    data: {\n      content: data.content,\n      message_date: data.message_date,\n      type: data.type,\n      messageId: data.message_id,\n    },\n  });\n}\n\nexport function fetchMessages(username, receiver) {\n  const getUrl = `/api/profile/messages/${username}/${receiver}`;\n  return axios({\n    method: 'GET',\n    url: getUrl,\n  });\n}\n","/* eslint-disable no-alert */\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport { addUser } from './Module';\nimport '../App.css';\nimport {\n  isValidPassword, isValidUsername, isValidEmail, isSamePassword,\n} from '../auth/authentication';\n\nexport default function Registration() {\n  const [usernameReg, setUsernameReg] = useState('');\n  const [passwordOneReg, setPasswordOneReg] = useState('');\n  const [passwordTwoReg, setPasswordTwoReg] = useState('');\n  const [firstNameReg, setFirstNameReg] = useState('');\n  const [lastNameReg, setLastNameReg] = useState('');\n  const [email, setEmailReg] = useState('');\n  const history = useHistory();\n\n  Axios.defaults.withCredentials = true;\n\n  const register = () => {\n    if (!isSamePassword(passwordOneReg, passwordTwoReg)) {\n      alert('Passwords do not match, please re-enter');\n      document.getElementById('new-password-form').value = '';\n      document.getElementById('new-password-two-form').value = '';\n      return;\n    }\n\n    if (!isValidUsername(usernameReg)) {\n      alert('Invalid User Name');\n      document.getElementById('new-username-form').value = '';\n      return;\n    }\n\n    if (!isValidPassword(passwordOneReg)) {\n      alert('Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      document.getElementById('new-password-form').value = '';\n      document.getElementById('new-password-two-form').value = '';\n      return;\n    }\n\n    if (!isValidEmail(email)) {\n      alert('Invalid email, please re-enter');\n      document.getElementById('exampleInputEmail1').value = '';\n      return;\n    }\n\n    addUser(usernameReg, passwordOneReg, firstNameReg, lastNameReg, email).then((response) => {\n      console.log(response);\n      // if valid signup proceed to the login page\n      history.push('/signup');\n    }).catch((e) => {\n      console.log(e);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Sign Up</h2>\n          <div className=\"form-group\">\n            <label htmlFor=\"new-username-form\">Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"exampleInputEmail1\">Email address</label>\n            <input\n              type=\"email\"\n              className=\"form-control\"\n              id=\"exampleInputEmail1\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"Enter email\"\n              onChange={(e) => setEmailReg(e.target.value)}\n            />\n            <small id=\"emailHelp\" className=\"form-text text-muted\">We will never share your email with anyone else.</small>\n          </div>\n          <div className=\"form-group\">\n            <label>First Name:</label>\n            <input\n              type=\"name\"\n              id=\"new-first-name-form\"\n              className=\"form-control\"\n              placeholder=\"Enter First Name\"\n              onChange={(e) => setFirstNameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Last Name:</label>\n            <input\n              type=\"name\"\n              id=\"new-last-name-form\"\n              placeholder=\"Enter Last Name\"\n              className=\"form-control\"\n              onChange={(e) => setLastNameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              type=\"password\"\n              id=\"new-password-form\"\n              aria-describedby=\"passwordHelp\"\n              className=\"form-control\"\n              placeholder=\"Enter Password\"\n              onChange={(e) => setPasswordOneReg(e.target.value)}\n            />\n            <small id=\"passwordHelp\" className=\"form-text text-muted\">Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character</small>\n\n          </div>\n          <div className=\"form-group\">\n            <label>Confirm Password:</label>\n            <input\n              type=\"password\"\n              id=\"new-password-two-form\"\n              className=\"form-control\"\n              placeholder=\"Re-Enter Password\"\n              onChange={(e) => setPasswordTwoReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={register}\n            >\n              Sign Up\n            </button>\n          </div>\n          <p>\n            Already have an account?&nbsp;\n            <Link to=\"/login\">Log in here!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Redirect } from 'react-router-dom';\nimport { deactivateProfile } from './Module';\nimport './DialogPassword.css';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function DialogPassword() {\n  const username = getCurrentUsername();\n  const [open, setOpen] = useState(false);\n  const [redirect, setRedirect] = useState(false);\n  const [clue, setClue] = useState('');\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setClue('');\n  };\n\n  const handleCloseDelete = () => {\n    const input = document.getElementById('passwordInput').value;\n    if (input !== '') {\n      deactivateProfile(username, input).then((response) => {\n        console.log(response);\n        setOpen(false);\n        setRedirect(true);\n      }).catch((err) => {\n        console.log(err);\n        setClue('Incorrect entry');\n      });\n    }\n  };\n\n  return !redirect ? (\n    <div>\n      <button id=\"delete\" style={{ color: '#00695c', border: 'none', backgroundColor: 'inherit' }} type=\"button\" onClick={handleClickOpen}>Delete account</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Confirm account deletion</DialogTitle>\n        <DialogContent>\n          <TextField\n            error={clue !== ''}\n            autoFocus\n            margin=\"dense\"\n            id=\"passwordInput\"\n            label=\"Input password\"\n            type=\"password\"\n            fullWidth\n            helperText={clue}\n          />\n        </DialogContent>\n        <DialogActions>\n          <button className=\"btn cancel\" type=\"button\" onClick={handleClose}>\n            Cancel\n          </button>\n          <button className=\"btn delete\" type=\"button\" onClick={handleCloseDelete}>\n            Delete\n          </button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  ) : <Redirect to=\"/login\" />;\n}\n","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport isValidPassword from './authentication';\nimport { updatePassword } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function DialogPasswordChange() {\n  const username = getCurrentUsername();\n  const [open, setOpen] = useState(false);\n  const [checker, setChecker] = useState(true);\n  const [isValid, setIsValid] = useState(true);\n  const handleClickOpen = () => {\n    setChecker(true);\n    setOpen(true);\n    setIsValid(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCloseChange = () => {\n    const oldPassword = document.getElementById('oldPassword').value;\n    const newPassword = document.getElementById('newPassword').value;\n    const isNotEqual = oldPassword !== newPassword;\n    const oldIsNull = oldPassword !== '';\n    const newIsNull = newPassword !== '';\n    if (checker && isValid && isNotEqual && newIsNull && oldIsNull) {\n      updatePassword(username, newPassword, oldPassword).then((response) => {\n        if (response.status === 200) {\n          setOpen(false);\n        } else {\n          setOpen(true);\n        }\n      }).catch((err) => console.log(err.message));\n    }\n  };\n  return (\n    <div>\n      <button id=\"change\" style={{ color: '#00695c', border: 'none', backgroundColor: 'inherit' }} type=\"button\" onClick={handleClickOpen}>Change password</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Change password</DialogTitle>\n\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"oldPassword\"\n            label=\"Old password\"\n            type=\"password\"\n            fullWidth\n          />\n\n          <TextField\n            error={!isValid}\n            autoFocus\n            onChange={(event) => {\n              setIsValid(isValidPassword(event.target.value));\n            }}\n            margin=\"dense\"\n            id=\"newPassword\"\n            label=\"Input new password\"\n            type=\"password\"\n            fullWidth\n            helperText={isValid ? 'Password is strong!' : 'Password needs a min length of 8. It must consist of at 8 ...'}\n          />\n\n          <TextField\n            error={!checker}\n            onChange={(event) => {\n              setChecker(event.target.value === document.getElementById('newPassword').value);\n            }}\n            autoFocus\n            margin=\"dense\"\n            id=\"newPasswordConfirmed\"\n            label=\"Confirm new password\"\n            type=\"password\"\n            fullWidth\n            helperText={checker ? '' : 'New password must be identical'}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"#00695c\">\n            Cancel\n          </Button>\n          <Button onClick={handleCloseChange} color=\"primary\">\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","export default function isValidPassword(password) {\n  const strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})');\n  return strongRegex.test(password);\n}\n\nexport function isValidUsername(userName) {\n  const valid = new RegExp('^[a-zA-Z0-9_]*$');\n  return valid.test(userName);\n}\n\nexport function isValidEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n","import React, { useState, useEffect } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getCurrentUsername } from '../auth/authServices';\n// import { getFriends } from './Module';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function ScrollDialog({\n  secondary, title, secondTitle, getFunction, Icon, handle, iconText,\n}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [scroll, setScroll] = useState('paper');\n  const [items, setItems] = useState([]);\n  const user = getCurrentUsername();\n  const createItem = (data) => {\n    console.log(data.profile_picture);\n    const toRet = (\n      <ListItem>\n        <ListItemAvatar>\n          <Avatar\n            alt=\"\"\n            src={`/api/viewFile/${data.profile_picture}`}\n          />\n        </ListItemAvatar>\n        <ListItemText primary={data.username} secondary={secondary} />\n        <Tooltip title={iconText} placement=\"top\">\n          <Icon className=\"button\" color=\"secondary\" onClick={() => handle(data.username)} />\n        </Tooltip>\n      </ListItem>\n    );\n    return toRet;\n  };\n  const handleClickOpen = (scrollType) => () => {\n    console.log('here');\n    getFunction(user).then((response) => {\n      let newItems = [];\n      if (response.data.friends) {\n        newItems = response.data.friends.map((e) => createItem(e));\n        console.log(response.data.friends);\n      } else if (response.data.followers) {\n        newItems = response.data.followers.map((e) => createItem(e));\n        console.log(response.data.followers);\n      }\n      setItems(newItems);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n    setOpen(true);\n    setScroll(scrollType);\n  };\n\n  useEffect(() => {\n  }, [items]);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <div>\n      <button\n        onClick={handleClickOpen('paper')}\n        className=\"btn\"\n        id=\"delete\"\n        style={{\n          color: '#00695c',\n          border: 'none',\n          backgroundColor: 'inherit',\n        }}\n        type=\"button\"\n      >\n        {title}\n      </button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        scroll={scroll}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle id=\"scroll-dialog-title\">{secondTitle}</DialogTitle>\n        <DialogContent dividers={scroll === 'paper'}>\n          <List className={classes.root}>\n            {items}\n          </List>\n        </DialogContent>\n        <DialogActions>\n          <button\n            onClick={handleClose}\n            className=\"btn\"\n            id=\"delete\"\n            style={{\n              color: '#00695c',\n              border: 'none',\n              backgroundColor: 'inherit',\n            }}\n            type=\"button\"\n          >\n            Close\n          </button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport './Profile.css';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport DialogPassword from './DialogPassword';\nimport DialogPasswordChange from './DialogPasswordChange';\nimport ScrollDialog from './DisplayerDialog';\nimport { getBlockedFollowers, unBlockUser } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Profile(props) {\n  const user = getCurrentUsername();\n  const handleUnblock = (username) => {\n    unBlockUser(user, username).then((res) => {\n      console.log(res.message);\n      getBlockedFollowers(user).then((result) => {\n        console.log(result.data.friends);\n      });\n    });\n  };\n\n  const profilePic = props.data.profile_picture;\n  console.log(`pics${profilePic}`);\n  const profilePicUrl = `/api/viewFile/${profilePic}`;\n  return (\n    <div className=\"container-profile\">\n      <div className=\"pictures\">\n        <img src={profilePicUrl} alt=\"\" id=\"overlay\" />\n        <img src={profilePicUrl} alt=\"\" id=\"originalDiv\" />\n      </div>\n      <br />\n      <div className=\"username\">\n        <span id=\"username\">{props.data.username}</span>\n      </div>\n      <div className=\"deleteButton\">\n        <ScrollDialog\n          secondary=\"blocked\"\n          title=\"My Blocked Users\"\n          secondTitle=\"Blocked Users\"\n          getFunction={getBlockedFollowers}\n          Icon={LockOpenIcon}\n          handle={handleUnblock}\n          iconText=\"Unblock User\"\n        />\n        <DialogPassword />\n        <DialogPasswordChange />\n      </div>\n    </div>\n  );\n}\n\n// export default function Profile(props) {\n//   return (\n//     <div className=\"container-profile\">\n//       <div className=\"pictures\">\n//         <img src={props.data.profile_picture} alt=\"\" id=\"overlay\" />\n//         <img src={props.data.profile_picture} alt=\"\" id=\"originalDiv\" />\n//       </div>\n//       <br />\n//       <div className=\"username\">\n//         <span id=\"username\">{props.data.username}</span>\n//       </div>\n//       <div className=\"deleteButton\">\n//         <DialogPassword id={props.id} />\n//         <DialogPasswordChange id={props.id} />\n//       </div>\n//     </div>\n//   );\n// }\n","import React, { useState } from 'react';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n// import MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport HomeIcon from '@material-ui/icons/Home';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport { useHistory } from 'react-router-dom';\nimport { logout } from '../auth/authServices';\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n}));\n\nexport default function PrimarySearchAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleProfileMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const history = useHistory();\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    const path = '/profile';\n    history.push(path);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = (event) => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n  const handleClick = () => {\n    const path = '/home';\n    history.push(path);\n  };\n\n  const handleLogOut = () => {\n    logout();\n    const path = '/login';\n    history.push(path);\n  };\n  const menuId = 'primary-search-account-menu';\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={handleClick}>Home</MenuItem>\n      <MenuItem onClick={handleMenuClose}>My Account</MenuItem>\n      <MenuItem onClick={handleLogOut}>Log Out</MenuItem>\n\n    </Menu>\n  );\n\n  const mobileMenuId = 'primary-search-account-menu-mobile';\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={handleClick}>\n        <IconButton color=\"inherit\">\n          <Badge>\n            <HomeIcon />\n          </Badge>\n        </IconButton>\n        <p>Home</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n          <Badge badgeContent={4} color=\"secondary\">\n            <MailIcon />\n          </Badge>\n        </IconButton>\n        <p>Messages</p>\n      </MenuItem>\n      <MenuItem>\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\n          <Badge badgeContent={11} color=\"secondary\">\n            <NotificationsIcon />\n          </Badge>\n        </IconButton>\n        <p>Notifications</p>\n      </MenuItem>\n      <MenuItem onClick={handleProfileMenuOpen}>\n        <IconButton\n          aria-label=\"account of current user\"\n          aria-controls=\"primary-search-account-menu\"\n          aria-haspopup=\"true\"\n          color=\"inherit\"\n          onClick={handleClick}\n        >\n          <AccountCircle />\n        </IconButton>\n        <p>Home</p>\n      </MenuItem>\n    </Menu>\n  );\n\n  return (\n    <div style={{ position: 'relative', top: '0px' }}>\n      <div style={{ position: 'relative', top: '0px' }} className=\"rest\">\n        <div className={classes.grow}>\n          <AppBar style={{ backgroundColor: '#0C8367' }} position=\"static\">\n            <Toolbar>\n              {/* <IconButton\n                edge=\"start\"\n                className={classes.menuButton}\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n              >\n                <MenuIcon />\n              </IconButton> */}\n              <Typography className={classes.title} variant=\"h6\" noWrap>\n                Trinirwa Microblog\n              </Typography>\n              <div className={classes.grow} />\n              <div className={classes.sectionDesktop}>\n                <IconButton\n                  onClick={handleClick}\n                  color=\"inherit\"\n                >\n                  <Badge>\n                    <HomeIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\n                  <Badge badgeContent={4} color=\"secondary\">\n                    <MailIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton aria-label=\"show 17 new notifications\" color=\"inherit\">\n                  <Badge badgeContent={17} color=\"secondary\">\n                    <NotificationsIcon />\n                  </Badge>\n                </IconButton>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"account of current user\"\n                  aria-controls={menuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleProfileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <AccountCircle />\n                </IconButton>\n              </div>\n              <div className={classes.sectionMobile}>\n                <IconButton\n                  aria-label=\"show more\"\n                  aria-controls={mobileMenuId}\n                  aria-haspopup=\"true\"\n                  onClick={handleMobileMenuOpen}\n                  color=\"inherit\"\n                >\n                  <MoreIcon />\n                </IconButton>\n              </div>\n            </Toolbar>\n          </AppBar>\n          {renderMobileMenu}\n          {renderMenu}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function DialogBox(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    const input = document.getElementById('interest').value;\n    props.onClose(input);\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Button color=\"primary\" onClick={handleClickOpen}>\n        Add interest\n      </Button>\n      <Dialog open={open} onClose={handleClickOpen} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add interest</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"interest\"\n            type=\"string\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleClose} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport './Displayer.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Divider from '@material-ui/core/Divider';\nimport DialogBox from './Dialog';\n\nexport default function Displayer({ interests, addInterest, deleteInterest }) {\n  const items = [];\n  interests.forEach((interest) => {\n    items.push(\n      <li key={interest} onClick={() => deleteInterest(interest)} className=\"badge rounded-pill bg-secondary m-2\">\n        {interest}\n      </li>,\n    );\n  });\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"section1\">\n        <ul>{items}</ul>\n      </div>\n      <Divider variant=\"middle\" />\n      <div className=\"section2\">\n        <DialogBox onClose={addInterest} />\n      </div>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport './Follower.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(2),\n      borderRadius: '100%',\n      padding: 0,\n      overflow: 'none',\n    },\n  },\n}));\n\nexport default function Follower({ info, handleB, handleF }) {\n  const classes = useStyles();\n  return (\n    <div className=\"Container_two\">\n      <div className={classes.root}>\n        <Tooltip title=\"Block user\" placement=\"top\">\n          <BlockIcon className=\"button\" color=\"secondary\" onClick={() => handleB(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Follow\" placement=\"top\">\n          <PersonAddIcon className=\"button\" onClick={() => handleF(info.username)} />\n        </Tooltip>\n      </div>\n      <div className=\"followerContainer\">\n        <div className=\"myimgContainer\">\n          <img\n            className=\"myimg\"\n            src={`/api/viewFile/${info.profile_picture}`}\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div className=\"text\">{info.username}</div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Follower from './Follower';\nimport ScrollDialog from './DisplayerDialog';\nimport { blockFollower, followUser, getFollowers } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Followers() {\n  const user = getCurrentUsername();\n  const [list, setFollowers] = useState([]);\n  useEffect(() => {\n    getFollowers(user).then((result) => {\n      setFollowers(result.data.followers);\n    });\n  }, []);\n\n  // handling blocking\n  const handleB = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        setFollowers(result.data.followers);\n      });\n    });\n  };\n  // handling following\n  const handleF = (username) => {\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        setFollowers(result.data.followers);\n      });\n    });\n  };\n\n  const items = list.map((e) => <Follower info={e} handleB={handleB} handleF={handleF} />);\n  return (\n    <div className=\"box-container\">\n      <div className=\"buttonFollowers\">\n        <ScrollDialog\n          secondary=\"follower\"\n          title=\"All followers\"\n          secondTitle=\"All followers\"\n          getFunction={getFollowers}\n          Icon={PersonAddIcon}\n          handle={handleF}\n          iconText=\"Follow\"\n        />\n      </div>\n      <div className=\"title\">Followers</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {items}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport './Follower.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1.5),\n      borderRadius: '100%',\n      padding: 0,\n      overflow: 'none',\n    },\n  },\n}));\n\nexport default function Friend({\n  info, handleB, handleMessage, handleU,\n}) {\n  const classes = useStyles();\n  return (\n    <div className=\"Container_two\">\n      <div className={classes.root}>\n        <Tooltip title=\"Message\" placement=\"top\">\n          <ChatIcon className=\"button\" onClick={() => handleMessage(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Block user\" placement=\"top\">\n          <BlockIcon className=\"button\" color=\"secondary\" onClick={() => handleB(info.username)} />\n        </Tooltip>\n        <Tooltip title=\"Unfollow\" placement=\"top\">\n          <PersonAddDisabledIcon className=\"button\" onClick={() => handleU(info.username)} />\n        </Tooltip>\n      </div>\n      <div className=\"followerContainer\">\n        <div className=\"myimgContainer\">\n          <img\n            className=\"myimg\"\n            src={`/api/viewFile/${info.profile_picture}`}\n            alt=\"\"\n          />\n        </div>\n      </div>\n      <div className=\"text\">{info.username}</div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport './Followers.css';\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\nimport { useHistory } from 'react-router-dom';\nimport Friend from './Friend';\nimport { blockFollower, getFriends, unfollowUser } from './Module';\nimport ScrollDialog from './DisplayerDialog';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Friends() {\n  const history = useHistory();\n  const user = getCurrentUsername();\n  const [friends, setFriends] = useState([]);\n  useEffect(() => {\n    getFriends(user).then((result) => {\n      setFriends(result.data.friends);\n    });\n  }, []);\n\n  const handleB = (username) => {\n    blockFollower(user, username).then((res) => {\n      console.log(res.message);\n      getFriends(user).then((result) => {\n        setFriends(result.data.friends);\n      });\n    });\n  };\n\n  const handleU = (username) => {\n    unfollowUser(user, username).then((res) => {\n      console.log(res.message);\n      getFriends(user).then((result) => {\n        setFriends(result.data.friends);\n      });\n    });\n  };\n\n  const handleMessage = (username) => {\n    console.log(username);\n    localStorage.setItem('receiver', JSON.stringify(username));\n    history.push('/message');\n  };\n\n  const items = friends.map((e) => <Friend info={e} handleMessage={handleMessage} handleB={handleB} handleU={handleU} />);\n  return (\n    <div className=\"box-container\">\n      <div className=\"buttonFollowers\">\n        <ScrollDialog\n          secondary=\"friends\"\n          title=\"All friends\"\n          secondTitle=\"All friends\"\n          getFunction={getFriends}\n          Icon={PersonAddDisabledIcon}\n          handle={handleU}\n          iconText=\"Unfollow\"\n        />\n      </div>\n      <div className=\"title\">Friends</div>\n      <br />\n      <div className=\"box\">\n        <div className=\"containers\">\n          {items}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport './CommentInput.css';\nimport TextField from '@material-ui/core/TextField';\n\nexport default function CommentInput({ id, handleComment }) {\n  const [input, setInput] = useState('');\n  const [count, setCount] = useState(255);\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n      setInput(e.target.value);\n      console.log(input);\n    }\n  };\n  return (\n    <div className=\"comment_box\">\n      <div className=\"commentInpCtn\">\n        <TextField\n          id={`${id}`}\n          label=\"Comment on post\"\n          multiline\n          rowsMax={4}\n          helperText={`${count} remaining chars`}\n          variant=\"outlined\"\n          inputProps={{ maxLength: 255 }}\n          onChange={(e) => handleChange(e)}\n          fullWidth\n        />\n      </div>\n      <div className=\"commentBtnCtn\">\n        <button onClick={() => handleComment(input)} id=\"commentButton\" type=\"button\"> Comment</button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport './CommentDisplayer.css';\n\nexport default function DialogComment({ id, content, updatePost }) {\n  const cont = content;\n  const [open, setOpen] = React.useState(false);\n  const [count, setCount] = useState(255);\n  const [input, setInput] = useState('');\n  const handleChange = (e) => {\n    setInput(e.target.value);\n    setCount(255 - e.target.value.length);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClosePostChanged = () => {\n    updatePost(input);\n    setOpen(false);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <button onClick={handleClickOpen} id=\"editBtn\" type=\"button\">Edit</button>\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Subscribe</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Changes will be made once you post them!\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id={`name${id}`}\n            label=\"Edit post\"\n            type=\"email\"\n            multiline\n            fullWidth\n            helperText={`${count} remaining chars`}\n            defaultValue={cont}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button style={{ color: 'green' }} onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button style={{ color: 'green' }} onClick={() => handleClosePostChanged(input)} color=\"primary\">\n            Post changes\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport './CommentDisplayer.css';\nimport DialogComment from './DialogComment';\nimport { getCurrentUsername } from '../auth/authServices';\nimport { getAvatar, updateComment } from './Module';\n\nexport default function CommentDisplayer({ data, handleDeleteComment }) {\n  const [avatar, setAvatar] = useState('');\n  const [content, setContent] = useState(data.content);\n  const user = getCurrentUsername();\n  const isOwner = data.user === user;\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const updatePost = (newContent) => {\n    if (newContent === '') {\n      return;\n    }\n    setContent(newContent);\n    updateComment(data.comm_id, newContent).then((res) => {\n      console.log(res.message);\n    }).catch((err) => console.log(err.message));\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  return (\n    <div className=\"comment_cont\" stlye={{ height: '200px', width: '100px', backgroundColor: 'red' }}>\n      <div className=\"comment_header\">\n        <div className=\"header_profile\">\n          <img id=\"comment_picture\" src={`/api/viewFile/${avatar}`} alt=\"\" />\n        </div>\n        <div className=\"header_name\">\n          <span id=\"cmnt_username\">{data.user}</span>\n        </div>\n      </div>\n      <div className=\"cmnt_cntBtn_box\" style={{ width: 'fit-content' }}>\n        <div className=\"cmnt_cnt_box\">\n          <span id=\"cmnt_cnt\">{content}</span>\n        </div>\n        <div className=\"cmnt_btns_box\">\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"cmnt_EditBtn_box\">\n            <DialogComment id={data.comm_id} updatePost={updatePost} content={content} />\n          </div>\n          <div style={{ display: isOwner ? 'block' : 'none' }} className=\"cmnt_EditBtn_box\">\n            <button onClick={() => handleDeleteComment(data.comm_id)} id=\"deleteBtn\" type=\"button\">Delete</button>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","/* eslint-disable react/jsx-key */\nimport React, { useEffect, useState } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport Typography from '@material-ui/core/Typography';\nimport { getAllCommentsForTweet, getHiders } from './Module';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const {\n    children, classes, onClose,\n  } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton\n          aria-label=\"close\"\n          className={classes.closeButton}\n          onClick={onClose}\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(1),\n  },\n}))(MuiDialogActions);\n\nexport default function DialogAnalytics({ tweetId }) {\n  const [hiders, setHiders] = useState([]);\n  const [commentors, setCommentors] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const getData = async () => {\n    await getAllCommentsForTweet(tweetId).then((res) => {\n      const { comments } = res.data;\n      console.log(comments);\n      setCommentors(comments.map((com) => com.user));\n      console.log(commentors);\n    }).catch((err) => console.log(err.message));\n    await getHiders(tweetId).then((res) => {\n      setHiders(res.data.hiders.map((hider) => hider.user));\n    }).catch((err) => console.log(err.message));\n  };\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  useEffect(() => {\n\n  }, [hiders, commentors, open]);\n  return (\n    <div>\n      <div>\n        <IconButton\n          onClick={handleClickOpen}\n          style={{\n            borderRadius: '50%',\n            padding: '3',\n          }}\n        >\n          <AssessmentIcon />\n        </IconButton>\n        <span id=\"analytics_btn\" style={{ color: '#0C8367' }}>Analytics</span>\n      </div>\n      <Dialog\n        onClose={handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={open}\n      >\n        <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\n          Tweet analytics\n        </DialogTitle>\n        <DialogContent dividers>\n          <div style={{ display: 'flex', minWidth: '100px' }}>\n\n            <div className=\"commentors\">\n              <span>Commentors</span>\n              <ol style={{ title: 'commentors' }}>\n                {commentors.map((e) => (\n                  <li>\n                    {e}\n                  </li>\n                ))}\n              </ol>\n            </div>\n            <div style={{ borderRadius: '8px', backgroundColor: '#D0EAE4' }} className=\"hiders\">\n              <div style={{ margin: 'auto' }}>\n                <span>Hiders</span>\n              </div>\n\n              <ol>\n                {hiders.map((hider) => (\n                  <li key={hider}>\n                    {hider}\n                    {' '}\n                  </li>\n                ))}\n              </ol>\n            </div>\n          </div>\n\n        </DialogContent>\n        <DialogActions />\n      </Dialog>\n    </div>\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport LikeIcon from '@material-ui/icons/FavoriteBorderRounded';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CommentInput from './CommentInput';\nimport {\n  getAvatar,\n  updateTweetLikes,\n  isLiked,\n  unLikeTweet,\n  likeTweet,\n  addComment,\n  getAllCommentsForTweet,\n  updateTweetComments,\n  deleteComment,\n  getHiders,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport CommentDisplayer from './CommentDisplayer';\nimport DialogAnalytics from './AnalyticsTweet';\n\nconst hash = require('object-hash');\n\nexport default function Tweet({ data, handleDelete }) {\n  const user = getCurrentUsername();\n  const [isLikedBool, setIsLike] = useState(false);\n  const [likes, setLikes] = useState(data.tweet_likes);\n  const [numComments, setNumComments] = useState(data.tweet_comments);\n  const [id] = useState(data.tweet_id);\n  const [blocks, setBlocks] = useState(data.tweet_blocks);\n  const [isOwner] = useState(data.user === user);\n  const [avatar, setAvatar] = useState('');\n  // eslint-disable-next-line eqeqeq\n  const [isPicture] = useState(data.type === 'picture');\n  const [isVideo] = useState(data.type === 'video');\n  const [isSong] = useState(data.type === 'song');\n  const [isOpen, setIsOpen] = useState(false);\n  const [items, setItems] = useState([]);\n  const [isMediaUndefined] = useState(typeof (data.content) !== 'undefined');\n  const [allComments, setComments] = useState([]);\n  const postComment = (content, tweetId) => {\n    const timestamp = new Date().toISOString();\n    const commentId = hash(`${content}${user}${timestamp}`);\n    const newComment = {\n      comment_id: commentId,\n      tweet_id: tweetId,\n      user,\n      content,\n      timestamp,\n    };\n    allComments.unshift(newComment);\n    addComment(newComment).then((res) => {\n      console.log(res.message);\n      updateTweetComments(id, numComments + 1).then((result) => {\n        console.log(result.message);\n        setNumComments(numComments + 1);\n      }).catch((err) => console.log(err.message));\n    }).catch((err) => console.log(err.message));\n  };\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await isLiked(user, data.tweet_id).then((res) => {\n      if (res.data.bool.length) {\n        setIsLike(true);\n      } else {\n        setIsLike(false);\n      }\n    }).catch((err) => {\n      console.log(err.message);\n    });\n    await getAllCommentsForTweet(data.tweet_id).then((res) => {\n      const { comments } = res.data;\n      setComments(comments);\n    }).catch((err) => console.log(err.message));\n    await getHiders(id).then((res) => {\n      console.log(res.data);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleComment = (input, countComments) => {\n    if (input === '') return;\n    postComment(input, id);\n  };\n\n  const handleDeleteComment = (toDel) => {\n    const newList = allComments.filter((comment) => comment.comm_id !== toDel);\n    setComments(newList);\n    deleteComment(toDel).then((res) => {\n      console.log(res);\n      setNumComments(numComments - 1);\n    }).catch((err) => console.log(err.message));\n  };\n\n  const handleClick = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleLike = () => {\n    if (isLikedBool) {\n      unLikeTweet(user, id).then((res) => {\n        if (res.status === 200) {\n          updateTweetLikes(id, likes - 1).then((result) => {\n            console.log(result.message);\n            setLikes(likes - 1);\n          }).catch((err) => {\n            console.log(err.message);\n          });\n        }\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      likeTweet(user, id).then((res) => {\n        updateTweetLikes(id, likes + 1).then((result) => {\n          console.log(result);\n          setLikes(likes + 1);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    }\n    setIsLike(!isLikedBool);\n  };\n\n  useEffect(() => {\n  }, [items]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.tweet_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n\n  let newMediaTweet;\n  if (isPicture) {\n    newMediaTweet = <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />;\n  } else if (isVideo) {\n    newMediaTweet = (\n      // eslint-disable-next-line jsx-a11y/media-has-caption\n      <video className=\"tweet_video\" controls>\n        {' '}\n        <source src={newMedia} />\n      </video>\n    );\n  } else if (isSong) {\n    newMediaTweet = (\n      // eslint-disable-next-line jsx-a11y/media-has-caption\n      <audio controls>\n        <source src={newMedia} />\n      </audio>\n    );\n  } else {\n    newMediaTweet = data.content;\n  }\n\n  return (\n    { isMediaUndefined }\n      ? (\n        <div id=\"container_tweet\">\n          <div className=\"tweet_header\">\n            <div className=\"tweet_img\">\n              <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n            </div>\n            <div className=\"tweet_text\">\n              <span\n                style={{\n                  fontSize: '13px',\n                  fontWeight: 'bold',\n                }}\n                id=\"author_username\"\n              >\n\n                {data.user}\n              </span>\n              <span style={{ fontSize: '10px' }} id=\"date\">\n                {date}\n              </span>\n            </div>\n          </div>\n          <div id=\"menu\">\n            <Tooltip title={isOwner ? 'Delete post' : 'Hide post'} placement=\"top\">\n              <IconButton\n                style={{\n                  borderRadius: '50%',\n                  padding: '3',\n                  color: '#0C8367',\n                }}\n                onClick={() => handleDelete(id, isOwner)}\n              >\n                <CloseRoundedIcon id={data.tweet_id} />\n              </IconButton>\n            </Tooltip>\n          </div>\n          <Divider variant=\"middle\" />\n          <div className=\"tweet_content\">\n            <p style={{ textAlign: 'left' }}>\n              {newMediaTweet}\n            </p>\n          </div>\n          <Divider variant=\"middle\" />\n          <div className=\"comment\">\n            <CommentInput handleComment={handleComment} />\n          </div>\n          <div style={{\n            borderRadius: '8px', minHeight: '200px', backgroundColor: '#eaf1ef', overflow: 'auto', margin: 'auto', width: '90%', marginTop: '2%', height: isOpen ? '300px' : '200px',\n          }}\n          >\n            <div style={{\n              margin: 'auto',\n              textAlign: 'center',\n              fontWeight: 'bold',\n              color: '#0C8367',\n            }}\n            >\n              <span>{ (numComments !== 0) ? `${numComments} comments` : 'Comments'}</span>\n            </div>\n            <div style={{\n              margin: 'auto', width: '90%', height: '100%',\n            }}\n            >\n              <ul\n                id={`list${id}`}\n                style={{\n                  whiteSpace: 'nowrap', listStyleType: 'none',\n                }}\n              >\n                {allComments.map((comment) => (\n                  <li style={{ marginBottom: '35px' }} key={comment.comm_id}>\n                    <CommentDisplayer data={comment} handleDeleteComment={handleDeleteComment} />\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n          <div className=\"tweet_bottom\">\n            <div className=\"likes\">\n              <IconButton\n                onClick={handleLike}\n                style={{\n                  borderRadius: '50%',\n                  padding: '3',\n                  color: isLikedBool ? 'red' : 'black',\n                }}\n              >\n                <LikeIcon />\n              </IconButton>\n              <span style={{ color: '#0C8367' }}>{`${likes} likes`}</span>\n            </div>\n            <div style={{ display: isOwner ? 'block' : 'none' }} className=\"analytics\">\n              <DialogAnalytics\n                tweetId={data.tweet_id}\n              />\n            </div>\n            <div className=\"comments\">\n              <button onClick={() => handleClick()} id=\"viewCommentsBtn\" type=\"button\">{!isOpen ? 'View more' : 'View less'}</button>\n            </div>\n          </div>\n        </div>\n      )\n      : <div> </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Tweet from './Tweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addTweet,\n  deleteTweet,\n  fetchAllTweets,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerTweets() {\n  const history = useHistory();\n\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      deleteTweet(id).then((res) => {\n        window.location.reload();\n        console.log('message: delete:', res.message);\n        setUpdate(true);\n        console.log('deleted:', toDisplay.delete(items.get(id)));\n        items.delete(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        window.location.reload();\n        toDisplay.delete(items.get(id));\n        items.delete(id);\n        setUpdate(true);\n        // updating blocks\n      }).catch((err) => console.log(err));\n    }\n  };\n\n  useEffect(() => {\n    console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postTweet = () => {\n    setCount(255);\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(tweetId, toAdd);\n    // newItems.set(tweetId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addTweet(newTweet).then((res) => {\n      console.log(res.message);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchAllTweets(user).then((res) => {\n      const { tweets } = res.data;\n      tweets.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const goLiveHandler = () => {\n    history.push('/videochat');\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  // console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"tweet\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            onClick={goLiveHandler}\n            startIcon={<LiveTvIcon />}\n          >\n            Go live\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postTweet}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Profile from './ProfilePicture';\nimport NavBar from './navBar';\nimport Displayer from './Displayer';\nimport Followers from './Followers';\nimport Friends from './Friends';\n\n// import SearchBox from './Search2';\nimport DisplayerTweets from './CenterDisplay';\nimport './ProfilePage.css';\n// import TweetDisplayer from './tweetDisplayer';\nimport {\n  addInterest, deleteInterest, getProfileData,\n} from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function ProfilePage() {\n  const username = getCurrentUsername();\n  const [info, setData] = useState([{}]);\n  const [interests, setInterests] = useState(new Set());\n  const [madeQuery, setMadeQuery] = useState(false);\n  // const [tweets, setTweets] = useState([{}]);\n  const [childKey, setChildKey] = useState(0);\n  // const handleFetchTweets = () => {\n  //   fetchTweets(id).then((result) => {\n  //     setTweets(result.data);\n  //   });\n  // };\n  // console.log(`local storage Username = ${newUsername}`);\n\n  useEffect(() => {\n    getProfileData(username).then((result) => {\n      console.log(result.data.data[0]);\n      setData(result.data.data[0]);\n      const newInterest = new Set((result.data.interests).map((obj) => obj.interest));\n      setInterests(newInterest);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n    setMadeQuery(true);\n    // handleFetchTweets();\n  }, []);\n\n  const handleAddInterest = (newInterest) => {\n    setInterests([...interests, newInterest]);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    addInterest(newInterest, username);\n  };\n\n  const handleDeleteInterest = (interest) => {\n    const temp = interests;\n    temp.delete(interest);\n    setInterests(temp);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    deleteInterest(interest, username);\n  };\n\n  return madeQuery ? (\n    <div className=\"profile\">\n      <div\n        style={{\n          width: '98%', margin: 'auto',\n        }}\n      >\n        <div style={{ position: 'relative', top: '0px' }} className=\"rest\">\n          <NavBar />\n          <Profile data={info} user={username} />\n        </div>\n        <div className=\"all_boxes\">\n          <div className=\"left-boxes\">\n            <div className=\"left-Displayer\">\n              <Displayer\n                key={childKey}\n                interests={interests}\n                addInterest={handleAddInterest}\n                deleteInterest={handleDeleteInterest}\n              />\n            </div>\n            <div className=\"left-friends\">\n              <Friends />\n            </div>\n            <div className=\"left-followers\">\n              <Followers />\n            </div>\n          </div>\n          <div className=\"right_boxes\">\n            <DisplayerTweets />\n          </div>\n        </div>\n      </div>\n    </div>\n\n  ) : <div />;\n}\n","import React, { useEffect, useState } from 'react';\nimport Axios from 'axios';\nimport {\n  Link, useHistory,\n} from 'react-router-dom';\nimport '../App.css';\nimport {\n  userLogin, getNumberFailedLogins, updateNumberFailedLogins,\n  getDateUserLastLockedOut, setLockOutTime, reactivateProfile,\n} from './Module';\n\nexport default function Login() {\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [numIncorrectLogins, setnumIncorrectLogins] = useState(0);\n  const [dateUserLastLockedOut, setDateUserLastLockedOut] = useState('');\n  // eslint-disable-next-line prefer-const\n  let [isLockedOut] = useState(false);\n\n  Axios.defaults.withCredentials = true;\n\n  useEffect(() => setnumIncorrectLogins(numIncorrectLogins), [numIncorrectLogins]);\n  useEffect(() => console.log(`changed dateUserLastLockedOut ${dateUserLastLockedOut}`), [dateUserLastLockedOut]);\n  // useEffect(() => console.log(`changed uid ${uid}`), [uid]);\n  useEffect(() => console.log(`changed isLockedOut ${isLockedOut}`), [isLockedOut]);\n\n  const loginOnClick = () => {\n    // const dateTime = new Date().toISOString();\n    setUsername(username);\n    userLogin(username, password).then((response) => {\n      localStorage.setItem('username', JSON.stringify(username));\n      // reactivate just in case\n      reactivateProfile(username, password).then(() => {\n      }).catch((er) => {\n        console.log(er);\n      });\n      getNumberFailedLogins(username).then((resOne) => {\n        console.log('resOne.data.message', resOne.data.message);\n        // eslint-disable-next-line eqeqeq\n        if (resOne.data.message == '200') {\n          let fetchNumberFailedLogins = 0;\n          [fetchNumberFailedLogins] = [Array.from(resOne.data.data)[0].number_failed_logins];\n          setnumIncorrectLogins(fetchNumberFailedLogins);\n          // new query\n          getDateUserLastLockedOut(username).then((resTwo) => {\n            let tmpDateUserLastLockedOut = '';\n            [tmpDateUserLastLockedOut] = [Array.from(resTwo.data.data)[0].date_last_locked_out];\n            // console.log('fetched fetchedNumberOfIncorrectLogins = ');\n            // console.log(fetchNumberFailedLogins);\n            setDateUserLastLockedOut(tmpDateUserLastLockedOut);\n            if (fetchNumberFailedLogins > 3) {\n              // setIsLockedOut(true);\n              // const dateTimeOne = new Date(dateTime);\n              // console.log('dateUserLastLockedOut = ', tmpDateUserLastLockedOut);\n              // console.log('dateTimeTwo = ', tmpDateUserLastLockedOut);\n              isLockedOut = true;\n              const dateTimeTwo = new Date(tmpDateUserLastLockedOut);\n              const timeDiffMs = new Date() - dateTimeTwo;\n              const lockOutTime = 3600 * 1000; // one hour lockOut\n              const isTimeOver = timeDiffMs > lockOutTime;\n              // console.log(`timeDiffMs : ${timeDiffMs}`);\n              // console.log(`isTimeOver : ${isTimeOver}`);\n              if (isTimeOver) {\n                isLockedOut = false;\n                // reset\n                updateNumberFailedLogins(username, 0).catch((e) => {\n                  console.log(e);\n                });\n              }\n              // setIsLockedOut(isTimeOver);\n            }\n\n            // console.log(`isLockedOut before if : ${isLockedOut}`);\n            if (isLockedOut === false) {\n              if (response.data.message) {\n                // need to revoke login access to this account\n                if (parseInt(fetchNumberFailedLogins, 10) === 3) {\n                  setLockOutTime(username);\n                }\n                // console.log(`numIncorrectLogins =${fetchNumberFailedLogins}`);\n                const numberFailedLoginsPlusOne = parseInt(fetchNumberFailedLogins, 10) + 1;\n                alert(`Wrong Password! You have ${3 - numberFailedLoginsPlusOne} attempts left before you get locked out`);\n                updateNumberFailedLogins(username, (numberFailedLoginsPlusOne))\n                  .catch((e) => {\n                    console.log(e);\n                  });\n                // document.getElementById('new-password-form').value = '';\n                // document.getElementById('new-username-form').value = '';\n                alert(response.data.message);\n                history.push('/login');\n                document.getElementById('new-username-form').value = '';\n                document.getElementById('new-password-form').value = '';\n              } else {\n                updateNumberFailedLogins(username, 0).catch((e) => {\n                  console.log(e);\n                });\n                // const fetchedUid = null;\n                // getUid(username).then((resThree) => {\n                //   [fetchedUid] = [Array.from(resThree.data.data)[0].uid];\n                //   console.log('fetched UID = ');\n                //   console.log(fetchedUid);\n                //   setUid(fetchedUid);\n                // }).catch((e) => {\n                //   console.log(e);\n                // });\n                history.push('/home');\n\n                // window.location.reload();\n              }\n            } else {\n              alert('your account has been locked because to too many incorrect attempts, please try back in an hour');\n              history.push('/login');\n              document.getElementById('new-username-form').value = '';\n              document.getElementById('new-password-form').value = '';\n            }\n          }).catch((e) => {\n            console.log(e);\n          });\n        } else {\n          // user enters an erroneous username\n          alert('Username Not Found');\n          history.push('/login');\n          document.getElementById('new-username-form').value = '';\n          document.getElementById('new-password-form').value = '';\n        }\n      }).catch((e) => {\n        console.log(e);\n        alert('Username Not Found');\n        document.getElementById('new-username-form').value = '';\n        document.getElementById('new-password-form').value = '';\n      });\n      // console.log(`Number Of Incorrect Logins${numIncorrectLogins}`);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Log In</h2>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <p>\n            Forgot Password?&nbsp;\n            <Link to=\"/resetPassword\">Click here to reset!</Link>\n          </p>\n          <div className=\"form-group text-center\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={loginOnClick}\n            >\n              Log In\n            </button>\n          </div>\n          <p>\n            Don&apos;t have an account?&nbsp;\n            <Link to=\"/registration\">Sign Up!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport LiveTvIcon from '@material-ui/icons/LiveTv';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Tweet from './Tweet';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addTweet,\n  deleteTweet,\n  fetchAllTweets,\n  hideTweet,\n} from './Module';\nimport './CenterDisplay.css';\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerTweets() {\n  const history = useHistory();\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  const handleHideOrDelete = (id, isOwner) => {\n    if (isOwner) {\n      deleteTweet(id).then((res) => {\n        window.location.reload();\n        console.log('message: delete:', res.message);\n        setUpdate(true);\n        items.delete(id);\n      }).catch((err) => {\n        console.log(err.message);\n      });\n    } else {\n      // eslint-disable-next-line no-unused-vars\n      hideTweet(id, user).then((res) => {\n        window.location.reload();\n        toDisplay.delete(items.get(id));\n        items.delete(id);\n        setUpdate(true);\n        // updating blocks\n      }).catch((err) => console.log(err));\n    }\n  };\n\n  useEffect(() => {\n    console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postTweet = () => {\n    setCount(255);\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n    const newTweet = {\n      user,\n      tweet_id: tweetId,\n      type: 'text',\n      content: input,\n      tweet_date: dateTime,\n      tweet_likes: 0,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(tweetId, toAdd);\n    // newItems.set(tweetId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addTweet(newTweet).then((res) => {\n      console.log(res.message);\n      window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchAllTweets(user).then((res) => {\n      const { tweets } = res.data;\n      console.log(`ttt--${tweets}`);\n      tweets.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const goLiveHandler = () => {\n    history.push('/videochat');\n  };\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          console.log(res.message);\n          window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('tweet').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const tweetId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newTweet = {\n          user,\n          tweet_id: tweetId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          tweet_date: dateTime,\n          tweet_likes: 0,\n        };\n        // console.log(`is this good? ${newTweet.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newTweet} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(tweetId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addTweet(newTweet).then((res) => {\n          window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  // console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"tweet\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            onClick={goLiveHandler}\n            startIcon={<LiveTvIcon />}\n          >\n            Go live\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postTweet}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport './Sidebar.css';\nimport {\n  useHistory, BrowserRouter as Router,\n} from 'react-router-dom';\nimport { getAvatar } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Sidebar() {\n  const history = useHistory();\n  const [avatar, setAvatar] = useState('');\n  const handleClick = () => {\n    const path = '/profile';\n    history.push(path);\n  };\n  const user = getCurrentUsername();\n\n  useEffect(() => {\n    getAvatar(user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  }, []);\n\n  useEffect(() => {\n  }, [avatar]);\n\n  return (\n    <Router>\n      <div className=\"sidebar\">\n        <button className=\"button_profile\" onClick={handleClick} type=\"button\">\n          <div className=\"header_box\">\n            <div className=\"img_box\">\n              <img id=\"img\" alt=\"\" src={`/api/viewfile/${avatar}`} />\n            </div>\n            <div className=\"username_box\">\n              <span className=\"user\">{user}</span>\n            </div>\n          </div>\n        </button>\n      </div>\n    </Router>\n  );\n}\n","import InputBase from '@material-ui/core/InputBase';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport React, { useEffect, useState } from 'react';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { searchFriend, followUser, getFollowers } from './Module';\nimport { getCurrentUsername } from '../auth/authServices';\nimport './SearchBox.css';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    left: '25px',\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: '100%',\n    },\n  },\n\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    eight: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '30%',\n    [theme.breakpoints.up('md')]: {\n      width: '20ch',\n    },\n  },\n}));\nexport default function SearchBox() {\n  const user = getCurrentUsername();\n  const classes = useStyles();\n  const [items, setItems] = useState([]);\n  const [results, setResults] = useState([]);\n  // handling following\n  const handleF = (username) => {\n    followUser(user, username).then((res) => {\n      console.log(res.message);\n      getFollowers(user).then((result) => {\n        console.log(result.data.followers);\n      });\n    });\n  };\n\n  const createItem = (data) => {\n    console.log(data.profile_picture);\n    const toRet = (\n      <ListItem>\n        <ListItemAvatar>\n          <Avatar\n            alt=\"\"\n            src={`/api/viewFile/${data.profile_picture}`}\n          />\n        </ListItemAvatar>\n        <ListItemText primary={data.username} secondary={data.followed ? 'following' : 'Follow me PLZ :)'} />\n        <Tooltip title=\"follow\" placement=\"top\">\n          <PersonAddIcon className=\"button\" style={{ color: '#0C8367' }} onClick={() => handleF(data.username)} />\n        </Tooltip>\n      </ListItem>\n    );\n    return toRet;\n  };\n  const handleChange = (e) => {\n    searchFriend(user, e.target.value).then((result) => {\n      console.log(`input: ${e.target.value} , ${user}`);\n      setResults(result.data.friends);\n      console.log(results.data.friens);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n  };\n  useEffect(() => {\n    console.log(results);\n    const newItems = results.map((u) => createItem(u));\n    console.log(items);\n    setItems(newItems);\n    if (results.length === 0) {\n      setItems([]);\n    }\n  }, [results]);\n\n  return (\n\n    <div className=\"searchBack\">\n      <div>\n        <div className={classes.search}>\n          <div className={classes.searchIcon} />\n          <div>\n            <InputBase\n              id=\"search\"\n              placeholder=\"Search user…\"\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput,\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n              onChange={(e) => handleChange(e)}\n            />\n          </div>\n        </div>\n        <div>\n          <List className={classes.root}>\n            {items}\n          </List>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\nimport DisplayerTweets from './CenterDisplayerHome';\nimport SideBar from './SidebarU';\nimport SearchBox from './SearchBox';\n\nexport default function Home() {\n  return (\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div>\n          <SideBar />\n        </div>\n        <div>\n          <DisplayerTweets />\n        </div>\n        <div className=\"searchBack\">\n          <SearchBox />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  addProfilePicture, addInterest, deleteInterest, getProfileData,\n} from './Module';\nimport '../App.css';\nimport Displayer from './Displayer';\nimport { getCurrentUsername } from '../auth/authServices';\n\nexport default function Signup() {\n  const history = useHistory();\n  const username = getCurrentUsername();\n  console.log(`username = ${username}`);\n\n  /* -------------------------------------------------------------------------- */\n  const [interests, setInterests] = useState(new Set());\n  // const [madeQuery, setMadeQuery] = useState(false);\n  const [childKey, setChildKey] = useState(0);\n\n  useEffect(() => {\n    getProfileData(username).then((result) => {\n      console.log(result.data.data[0]);\n      const newInterest = new Set((result.data.interests).map((obj) => obj.interest));\n      setInterests(newInterest);\n    }).catch((error) => {\n      console.log(error.message);\n    });\n  }, []);\n\n  const handleAddInterest = (newInterest) => {\n    setInterests([...interests, newInterest]);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    addInterest(newInterest, username);\n  };\n\n  const handleDeleteInterest = (interest) => {\n    const temp = interests;\n    temp.delete(interest);\n    setInterests(temp);\n    setChildKey(Math.floor(Math.random() * 1000000000));\n    deleteInterest(interest, username);\n  };\n  /* -------------------------------------------------------------------------- */\n\n  const fileupload = (e) => {\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileUploadProfilePicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => addProfilePicture(username, JSON.parse(result).data)\n        .then((res) => {\n          console.log(res);\n        }).catch((error) => {\n          console.log(error);\n        })).catch((err) => {\n        alert(err);\n      });\n  };\n\n  const signup = () => {\n    alert('Your have successfully signed up');\n    history.push('/login/');\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">\n\n            Hi\n            <var>\n              {' '}\n              {username}\n            </var>\n\n          </h2>\n          <h2 className=\"card-title text-center font-weight-bold\">\n            {' '}\n            <h2 className=\"card-title text-center font-weight-bold\">Please Finish Sign Up</h2>\n          </h2>\n          <div className=\"form-group\">\n            <div className=\"col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n              <img src=\"/uploadFiles/1620555316674--image.png\" alt=\"\" className=\"img-responsive\" />\n            </div>\n\n            <label htmlFor=\"new-username-form\">Please Upload Profile Picture:</label>\n            <input\n              type=\"file\"\n              className=\"form-control\"\n              id=\"fileUploadProfilePicture\"\n              onChange={fileupload}\n            />\n\n            <label htmlFor=\"new-username-form\">Please Add Your Interests:</label>\n\n            <Displayer\n              key={childKey}\n              interests={interests}\n              addInterest={handleAddInterest}\n              deleteInterest={handleDeleteInterest}\n            />\n            <div className=\"form-group\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary w-100\"\n                onClick={signup}\n              >\n                Complete Registration\n              </button>\n            </div>\n            <p>\n              Already have an account?&nbsp;\n              <Link to=\"/login\">Log in here!</Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport '../App.css';\n\nexport default function Temp() {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-6 col-lg-6\">\n      <img src=\"/viewFile/cat1.jpg\" alt=\"\" className=\"img-responsive\" />\n    </div>\n\n  );\n}\n","import React from 'react';\nimport NavBar from '../components/navBar';\n\nconst Lobby = ({\n  username,\n  roomName,\n  handleRoomNameChange,\n  handleSubmit,\n  connecting,\n}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div\n          style={{\n          }}\n        />\n\n        <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n          <div className=\"container mx-1\">\n            <div className=\"card-body p-xs\">\n              <h2 className=\"card-title text-center font-weight-bold\">Live Stream</h2>\n              <div className=\"form-group\">\n                <h2>Enter a room</h2>\n                <div>\n                  <label htmlFor=\"name\">\n                    {' '}\n                    Hi,\n                    {' '}\n                    {username}\n                    , please select a room to start your live stream!\n\n                  </label>\n                </div>\n                <label htmlFor=\"room\">Room name:</label>\n                <input\n                  type=\"text\"\n                  id=\"room\"\n                  placeholder=\"Enter Room Name\"\n                  value={roomName}\n                  onChange={handleRoomNameChange}\n                  readOnly={connecting}\n                  required\n                />\n              </div>\n              <div className=\"video-group\">\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100\"\n                  disabled={connecting}\n                >\n                  {connecting ? 'Connecting' : 'Join'}\n                </button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n);\n\nexport default Lobby;\n","/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable no-shadow */\nimport React, { useState, useEffect, useRef } from 'react';\n\nconst Participant = ({ participant }) => {\n  const [videoTracks, setVideoTracks] = useState([]);\n  const [audioTracks, setAudioTracks] = useState([]);\n\n  const videoRef = useRef();\n  const audioRef = useRef();\n\n  const trackpubsToTracks = (trackMap) => Array.from(trackMap.values())\n    .map((publication) => publication.track)\n    .filter((track) => track !== null);\n\n  useEffect(() => {\n    setVideoTracks(trackpubsToTracks(participant.videoTracks));\n    setAudioTracks(trackpubsToTracks(participant.audioTracks));\n\n    const trackSubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => [...videoTracks, track]);\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => [...audioTracks, track]);\n      }\n    };\n\n    const trackUnsubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => videoTracks.filter((v) => v !== track));\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => audioTracks.filter((a) => a !== track));\n      }\n    };\n\n    participant.on('trackSubscribed', trackSubscribed);\n    participant.on('trackUnsubscribed', trackUnsubscribed);\n\n    return () => {\n      setVideoTracks([]);\n      setAudioTracks([]);\n      participant.removeAllListeners();\n    };\n  }, [participant]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const videoTrack = videoTracks[0];\n    if (videoTrack) {\n      videoTrack.attach(videoRef.current);\n      return () => {\n        videoTrack.detach();\n      };\n    }\n  }, [videoTracks]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const audioTrack = audioTracks[0];\n    if (audioTrack) {\n      audioTrack.attach(audioRef.current);\n      return () => {\n        audioTrack.detach();\n      };\n    }\n  }, [audioTracks]);\n\n  return (\n    <div className=\"participant\">\n      <h3>{participant.identity}</h3>\n      <video ref={videoRef} autoPlay />\n      <audio ref={audioRef} autoPlay muted />\n    </div>\n  );\n};\n\nexport default Participant;\n","import React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Participant from './Participant';\nimport NavBar from '../components/navBar';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst Room = ({ roomName, room, handleLogout }) => {\n  const [participants, setParticipants] = useState([]);\n\n  useEffect(() => {\n    const participantConnected = (participant) => {\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\n    };\n\n    const participantDisconnected = (participant) => {\n      setParticipants((prevParticipants) => prevParticipants.filter((p) => p !== participant));\n    };\n\n    room.on('participantConnected', participantConnected);\n    room.on('participantDisconnected', participantDisconnected);\n    room.participants.forEach(participantConnected);\n    return () => {\n      room.off('participantConnected', participantConnected);\n      room.off('participantDisconnected', participantDisconnected);\n    };\n  }, [room]);\n\n  const remoteParticipants = participants.map((participant) => (\n    <Participant key={participant.sid} participant={participant} />\n  ));\n\n  return (\n\n    <div className=\"room\">\n      <NavBar />\n      <div\n        style={{\n        }}\n      />\n      <h2>\n        Live Stream:\n        {' '}\n        {roomName}\n      </h2>\n      <Button\n        color=\"secondary\"\n        startIcon={<ExitToAppIcon />}\n        type=\"submit\"\n        className=\"btn btn-primary w-100\"\n        onClick={handleLogout}\n      >\n        Leave Stream\n\n      </Button>\n      <div className=\"local-participant\">\n        {room ? (\n          <Participant\n            key={room.localParticipant.sid}\n            participant={room.localParticipant}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n\n      <h3>Remote Participants</h3>\n      <div className=\"remote-participants\">{remoteParticipants}</div>\n    </div>\n\n  );\n};\n\nexport default Room;\n","import React, { useState, useCallback, useEffect } from 'react';\nimport Video from 'twilio-video';\nimport Lobby from './Lobby';\nimport Room from './Room';\nimport {\n  getCurrentUsername,\n} from '../auth/authServices';\n\nconst VideoChat = () => {\n  const [roomName, setRoomName] = useState('');\n  const [room, setRoom] = useState(null);\n  const [connecting, setConnecting] = useState(false);\n  const username = getCurrentUsername();\n\n  const handleRoomNameChange = useCallback((event) => {\n    setRoomName(event.target.value);\n  }, []);\n\n  const handleSubmit = useCallback(\n    async (event) => {\n      event.preventDefault();\n      setConnecting(true);\n      const data = await fetch('/video/token', {\n        method: 'POST',\n        body: JSON.stringify({\n          identity: username,\n          room: roomName,\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }).then((res) => res.json());\n      Video.connect(data.token, {\n        name: roomName,\n      })\n        .then((rm) => {\n          setConnecting(false);\n          setRoom(rm);\n        })\n        .catch((err) => {\n          console.error(err);\n          setConnecting(false);\n        });\n    },\n    [roomName, username],\n  );\n\n  const handleLogout = useCallback(() => {\n    setRoom((prevRoom) => {\n      if (prevRoom) {\n        prevRoom.localParticipant.tracks.forEach((trackPub) => {\n          trackPub.track.stop();\n        });\n        prevRoom.disconnect();\n      }\n      return null;\n    });\n  }, []);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (room) {\n      const tidyUp = (event) => {\n        if (event.persisted) {\n          return;\n        }\n        if (room) {\n          handleLogout();\n        }\n      };\n      window.addEventListener('pagehide', tidyUp);\n      window.addEventListener('beforeunload', tidyUp);\n      return () => {\n        window.removeEventListener('pagehide', tidyUp);\n        window.removeEventListener('beforeunload', tidyUp);\n      };\n    }\n  }, [room, handleLogout]);\n\n  let render;\n  if (room) {\n    render = (\n      <Room roomName={roomName} room={room} handleLogout={handleLogout} />\n    );\n  } else {\n    render = (\n      <Lobby\n        username={username}\n        roomName={roomName}\n        handleRoomNameChange={handleRoomNameChange}\n        handleSubmit={handleSubmit}\n        connecting={connecting}\n      />\n    );\n  }\n  return render;\n};\n\nexport default VideoChat;\n","import React, { useState } from 'react';\nimport {\n  Link, useHistory,\n} from 'react-router-dom';\nimport '../App.css';\nimport {\n  isValidPassword, isSamePassword,\n} from '../auth/authentication';\nimport { resetPassword } from './Module';\n\nexport default function ResetPassword() {\n  const [usernameReg, setUsernameReg] = useState('');\n  const [passwordOneReg, setPasswordOneReg] = useState('');\n  const [passwordTwoReg, setPasswordTwoReg] = useState('');\n  const history = useHistory();\n  const resetPasswrd = () => {\n    // console.log('the actual username of this user is ', user);\n    // if (!isSameUsername(usernameReg, user)) {\n    //   alert('Wrong Username, please re-enter');\n    //   window.history.replaceState(null, 'new page', '/resetPassword');\n    //   window.location.reload();\n    //   return;\n    // }\n\n    if (!isSamePassword(passwordOneReg, passwordTwoReg)) {\n      alert('Passwords do not match, please re-enter');\n      window.history.replaceState(null, 'new page', '/resetPassword');\n      window.location.reload();\n      return;\n    }\n\n    if (!isValidPassword(passwordOneReg)) {\n      alert('Invalid password, password must have a minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character');\n      window.history.replaceState(null, 'new page', '/resetPassword');\n      window.location.reload();\n      return;\n    }\n\n    resetPassword(usernameReg, passwordOneReg).then(() => {\n    //   console.log(response);\n      alert('Success! Your Password Has Been Updated');\n      // if valid signup proceed to the login page\n      history.push('/login');\n    }).catch((e) => {\n      console.log(e);\n    });\n  };\n\n  return (\n    <div className=\"card shadow mx-auto mt-5\" style={{ width: '30rem' }}>\n      <div className=\"container mx-1\">\n        <div className=\"card-body p-xs\">\n          <h2 className=\"card-title text-center font-weight-bold\">Reset Password</h2>\n          <div className=\"form-group\">\n            <label>Username:</label>\n            <input\n              id=\"new-username-form\"\n              placeholder=\"Enter Username\"\n              className=\"form-control\"\n              onChange={(e) => setUsernameReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPasswordOneReg(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group\">\n            <label>Confirm Password:</label>\n            <input\n              id=\"new-password-form\"\n              type=\"password\"\n              placeholder=\"Enter Password\"\n              className=\"form-control\"\n              onChange={(e) => setPasswordTwoReg(e.target.value)}\n            />\n          </div>\n\n          <div className=\"form-group text-center\">\n\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary w-100\"\n              onClick={resetPasswrd}\n            >\n              Submit New Password\n            </button>\n          </div>\n          <p>\n            Changed Your Mind?&nbsp;\n            <Link to=\"/login\">Return To Login!</Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/* eslint-disable jsx-a11y/media-has-caption */\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useEffect, useState } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport './tweet.css';\nimport {\n  getAvatar,\n} from './Module';\n\nexport default function Message({ data }) {\n//   const user = getCurrentUsername();\n  const [avatar, setAvatar] = useState('');\n  // eslint-disable-next-line eqeqeq\n  const [isPicture] = useState(data.type === 'picture');\n  const [isVideo] = useState(data.type === 'video');\n  const [isSong] = useState(data.type === 'song');\n\n  const getData = async () => {\n    await getAvatar(data.user).then((res) => {\n      setAvatar(res.data.avatar[0].profile_picture);\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const date = (data.message_date.split('T'))[0];\n  const newAvatar = `/api/viewFile/${avatar}`;\n  const newMedia = `/api/viewFile/${data.content}`;\n\n  let newMediaMessage;\n  if (isPicture) {\n    newMediaMessage = <img className=\"tweet_image\" id=\"tweet_media_picture\" src={newMedia} alt=\"\" />;\n  } else if (isVideo) {\n    newMediaMessage = (\n      <video className=\"tweet_video\" controls>\n        {' '}\n        <source src={newMedia} />\n      </video>\n    );\n  } else if (isSong) {\n    console.log('song');\n    newMediaMessage = (\n      <audio controls>\n        <source src={newMedia} />\n      </audio>\n    );\n  } else {\n    newMediaMessage = data.content;\n  }\n\n  return (\n\n    <div id=\"container_tweet\">\n      <div className=\"tweet_header\">\n        <div className=\"tweet_img\">\n          <img className=\"tweet_header\" id=\"tweet_author_picture\" src={newAvatar} alt=\"\" />\n        </div>\n        <div className=\"tweet_text\">\n          <span\n            style={{\n              fontSize: '13px',\n              fontWeight: 'bold',\n            }}\n            id=\"author_username\"\n          >\n\n            {data.user}\n          </span>\n          <span style={{ fontSize: '10px' }} id=\"date\">\n            {date}\n          </span>\n        </div>\n      </div>\n\n      <Divider variant=\"middle\" />\n      <div className=\"tweet_content\">\n        <p style={{ textAlign: 'left' }}>\n          {newMediaMessage}\n        </p>\n      </div>\n      <Divider variant=\"middle\" />\n\n    </div>\n\n  );\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable max-len */\nimport React, { useState, useEffect } from 'react';\n// import { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport PostAddIcon from '@material-ui/icons/PostAdd';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport VideoLibraryIcon from '@material-ui/icons/VideoLibrary';\nimport LibraryMusicIcon from '@material-ui/icons/LibraryMusic';\nimport TextField from '@material-ui/core/TextField';\nimport Message from './Message';\nimport Tweet from './Tweet';\n// eslint-disable-next-line no-unused-vars\nimport { getCurrentUsername, getCurrentReceiver } from '../auth/authServices';\nimport './CenterDisplayerHome.css';\n\nimport {\n  addMessage,\n  fetchMessages,\n} from './Module';\nimport './CenterDisplay.css';\n\n// import Divider from '@material-ui/core/Divider';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n// eslint-disable-next-line import/no-unresolved\nconst hash = require('object-hash');\n\nexport default function DisplayerMessages() {\n  const receiver = getCurrentReceiver();\n  console.log(`receiver = ${receiver}`);\n  //   const history = useHistory();\n\n  const [items] = useState(new Map());\n  const [update, setUpdate] = useState(false);\n  const [count, setCount] = useState(255);\n  const [toDisplay] = useState(new Set());\n  const classes = useStyles();\n  const user = getCurrentUsername();\n  const handleChange = (e) => {\n    if ((e.target.value).length >= 0) {\n      const u = 255 - (e.target.value).length;\n      setCount(u);\n    }\n  };\n  useEffect(() => {\n    console.log('refreshed');\n    setUpdate(false);\n  }, [update]);\n  const postMessage = () => {\n    setCount(255);\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    if (input.length === 0) return;\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n    const newMessage = {\n      user,\n      message_id: messageId,\n      type: 'text',\n      content: input,\n      message_date: dateTime,\n      receiver,\n    };\n    // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n    // // const newItems = items;\n    // const newToDisplay = new Set([toAdd, ...toDisplay]);\n    // const newItems = items;\n\n    // setToDisplay(newToDisplay);\n    // items.set(messageId, toAdd);\n    // newItems.set(messageId, toAdd);\n    // setUpdate(true);\n    // setItems(newItems);\n    // console.log('items length', items.length);\n    addMessage(newMessage).then((res) => {\n      console.log(res.message);\n    //   window.location.reload();\n    }).catch((err) => {\n      console.log(err.message);\n    });\n  };\n\n  const getData = async () => {\n    fetchMessages(user, receiver).then((res) => {\n      const { messages } = res.data;\n      console.log(`ttt--${messages}`);\n      messages.forEach((e) => {\n        const toAdd = <div className=\"tContainer\"><Message data={e} /></div>;\n        toDisplay.add(toAdd);\n        items.set(e.tweet_id, toAdd);\n      });\n      setUpdate(true);\n    }).catch((err) => console.log(err));\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const postPicture = (e) => {\n    // upload picture\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputPicture').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        // console.log(`---uploading a pic ---:${result}`);\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'picture',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        console.log(`is this good? ${newMessage}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          console.log(res.message);\n        //   window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postVideo = (e) => {\n    // upload video\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputVideo').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'video',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        // console.log(`is this good? ${newMessage.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n          console.log(res.message);\n        //   window.location.reload();\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postSong = (e) => {\n    // upload song\n    const formdata = new FormData();\n    // console.log(e.target.files);\n    const fakePath = document.getElementById('fileInputSong').value;\n    formdata.append('image', e.target.files[0], fakePath);\n\n    const requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow',\n    };\n    const input = document.getElementById('message').value;\n    if (typeof input === 'undefined') {\n      return;\n    }\n    const dateTime = new Date().toISOString();\n    const messageId = hash(`${input}${user}${dateTime}`);\n\n    fetch('/api/uploadFile', requestOptions)\n      .then((response) => response.text())\n      .then((result) => {\n        const newMessage = {\n          user,\n          message_id: messageId,\n          type: 'song',\n          content: JSON.parse(result).data,\n          message_date: dateTime,\n          receiver,\n        };\n        // console.log(`is this good? ${newMessage.user}`);\n        // const toAdd = <div className=\"tContainer\"><Tweet handleDelete={handleHideOrDelete} data={newMessage} /></div>;\n        // const newItems = items;\n        // const newToDisplay = new Set([toAdd, ...toDisplay]);\n        // setToDisplay(newToDisplay);\n        // newItems.set(messageId, toAdd);\n        // setUpdate(true);\n        // setItems(newItems);\n        // console.log(items.length);\n        addMessage(newMessage).then((res) => {\n        //   window.location.reload();\n          console.log(res.message);\n        }).catch((err) => {\n          console.log(err.message);\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const postPictureTrigger = () => {\n    document.getElementById('fileInputPicture').click();\n  };\n\n  const postVideoTrigger = () => {\n    document.getElementById('fileInputVideo').click();\n  };\n\n  const postSongTrigger = () => {\n    document.getElementById('fileInputSong').click();\n  };\n  console.log('td', toDisplay);\n  return (\n    <div className=\"container_center\">\n      <div\n        style={{\n          backgroundColor: 'white',\n          height: 'fit-content',\n          borderRadius: '8px',\n        }}\n        className=\"whatIsOn\"\n      >\n        <div\n          style={{\n            width: '90%',\n            paddingTop: '4px',\n            margin: 'auto',\n          }}\n        >\n          <TextField\n            multiline\n            id=\"message\"\n            label=\"what's on your mind!!\"\n            variant=\"outlined\"\n            helperText={`${count} remaining chars`}\n            inputProps={{ maxLength: 255 }}\n            onChange={(e) => handleChange(e)}\n            fullWidth\n          />\n        </div>\n\n        <div\n          style={{\n            backgroundColor: 'white',\n            borderRadius: '8px',\n          }}\n          className=\"buttons\"\n        >\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<AddAPhotoIcon />}\n            onClick={postPictureTrigger}\n          >\n            Photo\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<VideoLibraryIcon />}\n            onClick={postVideoTrigger}\n          >\n            Video\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            id=\"button-media\"\n            className={classes.button}\n            startIcon={<LibraryMusicIcon />}\n            onClick={postSongTrigger}\n          >\n            Song\n          </Button>\n\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            startIcon={<PostAddIcon />}\n            onClick={postMessage}\n          >\n            Create post\n          </Button>\n          <input\n            className=\"FileUpload\"\n            accept=\".jpg,.png,.gif\"\n            id=\"fileInputPicture\"\n            type=\"file\"\n            onChange={postPicture}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputVideo\"\n            type=\"file\"\n            onChange={postVideo}\n            hidden\n          />\n          <input\n            className=\"FileUpload\"\n            id=\"fileInputSong\"\n            type=\"file\"\n            onChange={postSong}\n            hidden\n          />\n        </div>\n      </div>\n      <div>\n        {toDisplay}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport './Home.css';\nimport NavBar from './navBar';\n// import DisplayerTweets from './CenterDisplayerHome';\nimport DisplayerMessages from './CenterDisplayerMessages';\nimport { getCurrentReceiver } from '../auth/authServices';\n\nexport default function MessagePage() {\n  const receiver = getCurrentReceiver();\n  console.log(`receiver = ${receiver}`);\n\n  return (\n    <div>\n      <NavBar />\n      <div className=\"home\">\n        <div>\n          <DisplayerMessages />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Registration from './components/Registration';\nimport ProfilePage from './components/ProfilePage';\nimport Login from './components/Login';\nimport Home from './components/Home';\nimport Signup from './components/Signup';\nimport Temp from './components/Temp';\nimport VideoChat from './live_stream/VideoChat';\nimport ResetPassword from './components/ResetPassword';\nimport MessagePage from './components/MessagePage';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact render={() => <Registration />} />\n        <Route path=\"/registration\" exact render={() => <Registration />} />\n        <Route path=\"/login\" exact render={() => <Login />} />\n        <Route path=\"/signup/\" exact render={() => <Signup />} />\n        <Route path=\"/home\" component={() => <Home />} />\n        <Route path=\"/profile\" exact render={() => <ProfilePage />} />\n        <Route path=\"/resetPassword\" exact render={() => <ResetPassword />} />\n        <Route path=\"/temp\" exact render={() => <Temp />} />\n        <Route path=\"/videochat\" exact render={() => <VideoChat />} />\n        <Route path=\"/message\" exact render={() => <MessagePage />} />\n\n      </Switch>\n    </Router>\n  );\n}\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callbacknpm\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404\n                || response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n                        + 'worker. To learn more, visit https://goo.gl/SC7cgQ',\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('react-root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","function isValidPassword(password) {\n  const strongRegex = new RegExp('^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})');\n  return strongRegex.test(password);\n}\n\nfunction isValidUsername(userName) {\n  const valid = new RegExp('^[a-zA-Z0-9_]*$');\n  return valid.test(userName);\n}\n\nfunction isValidEmail(email) {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction isSamePassword(passwordOne, passwordTwo) {\n  return (passwordOne === passwordTwo);\n}\n\nmodule.exports = {\n  isValidPassword, isValidUsername, isValidEmail, isSamePassword,\n};\n"],"sourceRoot":""}